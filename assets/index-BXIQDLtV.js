(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();var Bd={exports:{}},Uu={},zd={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function bm(){if(c0)return Me;c0=1;var a=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),w=Symbol.iterator;function b(K){return K===null||typeof K!="object"?null:(K=w&&K[w]||K["@@iterator"],typeof K=="function"?K:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,k={};function O(K,L,z){this.props=K,this.context=L,this.refs=k,this.updater=z||y}O.prototype.isReactComponent={},O.prototype.setState=function(K,L){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,L,"setState")},O.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function T(){}T.prototype=O.prototype;function F(K,L,z){this.props=K,this.context=L,this.refs=k,this.updater=z||y}var Y=F.prototype=new T;Y.constructor=F,A(Y,O.prototype),Y.isPureReactComponent=!0;var st=Array.isArray,Z=Object.prototype.hasOwnProperty,mt={current:null},tt={key:!0,ref:!0,__self:!0,__source:!0};function q(K,L,z){var W,J={},et=null,pt=null;if(L!=null)for(W in L.ref!==void 0&&(pt=L.ref),L.key!==void 0&&(et=""+L.key),L)Z.call(L,W)&&!tt.hasOwnProperty(W)&&(J[W]=L[W]);var vt=arguments.length-2;if(vt===1)J.children=z;else if(1<vt){for(var yt=Array(vt),It=0;It<vt;It++)yt[It]=arguments[It+2];J.children=yt}if(K&&K.defaultProps)for(W in vt=K.defaultProps,vt)J[W]===void 0&&(J[W]=vt[W]);return{$$typeof:a,type:K,key:et,ref:pt,props:J,_owner:mt.current}}function dt(K,L){return{$$typeof:a,type:K.type,key:L,ref:K.ref,props:K.props,_owner:K._owner}}function bt(K){return typeof K=="object"&&K!==null&&K.$$typeof===a}function R(K){var L={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(z){return L[z]})}var B=/\/+/g;function G(K,L){return typeof K=="object"&&K!==null&&K.key!=null?R(""+K.key):L.toString(36)}function H(K,L,z,W,J){var et=typeof K;(et==="undefined"||et==="boolean")&&(K=null);var pt=!1;if(K===null)pt=!0;else switch(et){case"string":case"number":pt=!0;break;case"object":switch(K.$$typeof){case a:case t:pt=!0}}if(pt)return pt=K,J=J(pt),K=W===""?"."+G(pt,0):W,st(J)?(z="",K!=null&&(z=K.replace(B,"$&/")+"/"),H(J,L,z,"",function(It){return It})):J!=null&&(bt(J)&&(J=dt(J,z+(!J.key||pt&&pt.key===J.key?"":(""+J.key).replace(B,"$&/")+"/")+K)),L.push(J)),1;if(pt=0,W=W===""?".":W+":",st(K))for(var vt=0;vt<K.length;vt++){et=K[vt];var yt=W+G(et,vt);pt+=H(et,L,z,yt,J)}else if(yt=b(K),typeof yt=="function")for(K=yt.call(K),vt=0;!(et=K.next()).done;)et=et.value,yt=W+G(et,vt++),pt+=H(et,L,z,yt,J);else if(et==="object")throw L=String(K),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return pt}function Lt(K,L,z){if(K==null)return K;var W=[],J=0;return H(K,W,"","",function(et){return L.call(z,et,J++)}),W}function wt(K){if(K._status===-1){var L=K._result;L=L(),L.then(function(z){(K._status===0||K._status===-1)&&(K._status=1,K._result=z)},function(z){(K._status===0||K._status===-1)&&(K._status=2,K._result=z)}),K._status===-1&&(K._status=0,K._result=L)}if(K._status===1)return K._result.default;throw K._result}var Ct={current:null},X={transition:null},ft={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:X,ReactCurrentOwner:mt};function ct(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:Lt,forEach:function(K,L,z){Lt(K,function(){L.apply(this,arguments)},z)},count:function(K){var L=0;return Lt(K,function(){L++}),L},toArray:function(K){return Lt(K,function(L){return L})||[]},only:function(K){if(!bt(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Me.Component=O,Me.Fragment=e,Me.Profiler=i,Me.PureComponent=F,Me.StrictMode=n,Me.Suspense=h,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ft,Me.act=ct,Me.cloneElement=function(K,L,z){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var W=A({},K.props),J=K.key,et=K.ref,pt=K._owner;if(L!=null){if(L.ref!==void 0&&(et=L.ref,pt=mt.current),L.key!==void 0&&(J=""+L.key),K.type&&K.type.defaultProps)var vt=K.type.defaultProps;for(yt in L)Z.call(L,yt)&&!tt.hasOwnProperty(yt)&&(W[yt]=L[yt]===void 0&&vt!==void 0?vt[yt]:L[yt])}var yt=arguments.length-2;if(yt===1)W.children=z;else if(1<yt){vt=Array(yt);for(var It=0;It<yt;It++)vt[It]=arguments[It+2];W.children=vt}return{$$typeof:a,type:K.type,key:J,ref:et,props:W,_owner:pt}},Me.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:s,_context:K},K.Consumer=K},Me.createElement=q,Me.createFactory=function(K){var L=q.bind(null,K);return L.type=K,L},Me.createRef=function(){return{current:null}},Me.forwardRef=function(K){return{$$typeof:c,render:K}},Me.isValidElement=bt,Me.lazy=function(K){return{$$typeof:m,_payload:{_status:-1,_result:K},_init:wt}},Me.memo=function(K,L){return{$$typeof:p,type:K,compare:L===void 0?null:L}},Me.startTransition=function(K){var L=X.transition;X.transition={};try{K()}finally{X.transition=L}},Me.unstable_act=ct,Me.useCallback=function(K,L){return Ct.current.useCallback(K,L)},Me.useContext=function(K){return Ct.current.useContext(K)},Me.useDebugValue=function(){},Me.useDeferredValue=function(K){return Ct.current.useDeferredValue(K)},Me.useEffect=function(K,L){return Ct.current.useEffect(K,L)},Me.useId=function(){return Ct.current.useId()},Me.useImperativeHandle=function(K,L,z){return Ct.current.useImperativeHandle(K,L,z)},Me.useInsertionEffect=function(K,L){return Ct.current.useInsertionEffect(K,L)},Me.useLayoutEffect=function(K,L){return Ct.current.useLayoutEffect(K,L)},Me.useMemo=function(K,L){return Ct.current.useMemo(K,L)},Me.useReducer=function(K,L,z){return Ct.current.useReducer(K,L,z)},Me.useRef=function(K){return Ct.current.useRef(K)},Me.useState=function(K){return Ct.current.useState(K)},Me.useSyncExternalStore=function(K,L,z){return Ct.current.useSyncExternalStore(K,L,z)},Me.useTransition=function(){return Ct.current.useTransition()},Me.version="18.3.1",Me}var u0;function Ip(){return u0||(u0=1,zd.exports=bm()),zd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function Sm(){if(h0)return Uu;h0=1;var a=Ip(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var m,w={},b=null,y=null;p!==void 0&&(b=""+p),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(y=h.ref);for(m in h)n.call(h,m)&&!s.hasOwnProperty(m)&&(w[m]=h[m]);if(c&&c.defaultProps)for(m in h=c.defaultProps,h)w[m]===void 0&&(w[m]=h[m]);return{$$typeof:t,type:c,key:b,ref:y,props:w,_owner:i.current}}return Uu.Fragment=e,Uu.jsx=l,Uu.jsxs=l,Uu}var f0;function Cm(){return f0||(f0=1,Bd.exports=Sm()),Bd.exports}var an=Cm(),yl=Ip(),zh={},Ud={exports:{}},Si={},qd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function km(){return d0||(d0=1,function(a){function t(X,ft){var ct=X.length;X.push(ft);t:for(;0<ct;){var K=ct-1>>>1,L=X[K];if(0<i(L,ft))X[K]=ft,X[ct]=L,ct=K;else break t}}function e(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var ft=X[0],ct=X.pop();if(ct!==ft){X[0]=ct;t:for(var K=0,L=X.length,z=L>>>1;K<z;){var W=2*(K+1)-1,J=X[W],et=W+1,pt=X[et];if(0>i(J,ct))et<L&&0>i(pt,J)?(X[K]=pt,X[et]=ct,K=et):(X[K]=J,X[W]=ct,K=W);else if(et<L&&0>i(pt,ct))X[K]=pt,X[et]=ct,K=et;else break t}}return ft}function i(X,ft){var ct=X.sortIndex-ft.sortIndex;return ct!==0?ct:X.id-ft.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;a.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();a.unstable_now=function(){return l.now()-c}}var h=[],p=[],m=1,w=null,b=3,y=!1,A=!1,k=!1,O=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(X){for(var ft=e(p);ft!==null;){if(ft.callback===null)n(p);else if(ft.startTime<=X)n(p),ft.sortIndex=ft.expirationTime,t(h,ft);else break;ft=e(p)}}function st(X){if(k=!1,Y(X),!A)if(e(h)!==null)A=!0,wt(Z);else{var ft=e(p);ft!==null&&Ct(st,ft.startTime-X)}}function Z(X,ft){A=!1,k&&(k=!1,T(q),q=-1),y=!0;var ct=b;try{for(Y(ft),w=e(h);w!==null&&(!(w.expirationTime>ft)||X&&!R());){var K=w.callback;if(typeof K=="function"){w.callback=null,b=w.priorityLevel;var L=K(w.expirationTime<=ft);ft=a.unstable_now(),typeof L=="function"?w.callback=L:w===e(h)&&n(h),Y(ft)}else n(h);w=e(h)}if(w!==null)var z=!0;else{var W=e(p);W!==null&&Ct(st,W.startTime-ft),z=!1}return z}finally{w=null,b=ct,y=!1}}var mt=!1,tt=null,q=-1,dt=5,bt=-1;function R(){return!(a.unstable_now()-bt<dt)}function B(){if(tt!==null){var X=a.unstable_now();bt=X;var ft=!0;try{ft=tt(!0,X)}finally{ft?G():(mt=!1,tt=null)}}else mt=!1}var G;if(typeof F=="function")G=function(){F(B)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Lt=H.port2;H.port1.onmessage=B,G=function(){Lt.postMessage(null)}}else G=function(){O(B,0)};function wt(X){tt=X,mt||(mt=!0,G())}function Ct(X,ft){q=O(function(){X(a.unstable_now())},ft)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(X){X.callback=null},a.unstable_continueExecution=function(){A||y||(A=!0,wt(Z))},a.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):dt=0<X?Math.floor(1e3/X):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_getFirstCallbackNode=function(){return e(h)},a.unstable_next=function(X){switch(b){case 1:case 2:case 3:var ft=3;break;default:ft=b}var ct=b;b=ft;try{return X()}finally{b=ct}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(X,ft){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ct=b;b=X;try{return ft()}finally{b=ct}},a.unstable_scheduleCallback=function(X,ft,ct){var K=a.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?K+ct:K):ct=K,X){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ct+L,X={id:m++,callback:ft,priorityLevel:X,startTime:ct,expirationTime:L,sortIndex:-1},ct>K?(X.sortIndex=ct,t(p,X),e(h)===null&&X===e(p)&&(k?(T(q),q=-1):k=!0,Ct(st,ct-K))):(X.sortIndex=L,t(h,X),A||y||(A=!0,wt(Z))),X},a.unstable_shouldYield=R,a.unstable_wrapCallback=function(X){var ft=b;return function(){var ct=b;b=ft;try{return X.apply(this,arguments)}finally{b=ct}}}}(Wd)),Wd}var p0;function Lm(){return p0||(p0=1,qd.exports=km()),qd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function Am(){if(g0)return Si;g0=1;var a=Ip(),t=Lm();function e(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(r,o){l(r,o),l(r+"Capture",o)}function l(r,o){for(i[r]=o,r=0;r<o.length;r++)n.add(o[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},w={};function b(r){return h.call(w,r)?!0:h.call(m,r)?!1:p.test(r)?w[r]=!0:(m[r]=!0,!1)}function y(r,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function A(r,o,u,d){if(o===null||typeof o>"u"||y(r,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(r,o,u,d,x,S,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=x,this.mustUseProperty=u,this.propertyName=r,this.type=o,this.sanitizeURL=S,this.removeEmptyString=E}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){O[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];O[o]=new k(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){O[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){O[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){O[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){O[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){O[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){O[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){O[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function F(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(T,F);O[o]=new k(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(T,F);O[o]=new k(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(T,F);O[o]=new k(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){O[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),O.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){O[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function Y(r,o,u,d){var x=O.hasOwnProperty(o)?O[o]:null;(x!==null?x.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,u,x,d)&&(u=null),d||x===null?b(o)&&(u===null?r.removeAttribute(o):r.setAttribute(o,""+u)):x.mustUseProperty?r[x.propertyName]=u===null?x.type===3?!1:"":u:(o=x.attributeName,d=x.attributeNamespace,u===null?r.removeAttribute(o):(x=x.type,u=x===3||x===4&&u===!0?"":""+u,d?r.setAttributeNS(d,o,u):r.setAttribute(o,u))))}var st=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),mt=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),bt=Symbol.for("react.provider"),R=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),Lt=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),Ct=Symbol.for("react.offscreen"),X=Symbol.iterator;function ft(r){return r===null||typeof r!="object"?null:(r=X&&r[X]||r["@@iterator"],typeof r=="function"?r:null)}var ct=Object.assign,K;function L(r){if(K===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);K=o&&o[1]||""}return`
`+K+r}var z=!1;function W(r,o){if(!r||z)return"";z=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Tt){var d=Tt}Reflect.construct(r,[],o)}else{try{o.call()}catch(Tt){d=Tt}r.call(o.prototype)}else{try{throw Error()}catch(Tt){d=Tt}r()}}catch(Tt){if(Tt&&d&&typeof Tt.stack=="string"){for(var x=Tt.stack.split(`
`),S=d.stack.split(`
`),E=x.length-1,$=S.length-1;1<=E&&0<=$&&x[E]!==S[$];)$--;for(;1<=E&&0<=$;E--,$--)if(x[E]!==S[$]){if(E!==1||$!==1)do if(E--,$--,0>$||x[E]!==S[$]){var ot=`
`+x[E].replace(" at new "," at ");return r.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",r.displayName)),ot}while(1<=E&&0<=$);break}}}finally{z=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?L(r):""}function J(r){switch(r.tag){case 5:return L(r.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return r=W(r.type,!1),r;case 11:return r=W(r.type.render,!1),r;case 1:return r=W(r.type,!0),r;default:return""}}function et(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case tt:return"Fragment";case mt:return"Portal";case dt:return"Profiler";case q:return"StrictMode";case G:return"Suspense";case H:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case R:return(r.displayName||"Context")+".Consumer";case bt:return(r._context.displayName||"Context")+".Provider";case B:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Lt:return o=r.displayName||null,o!==null?o:et(r.type)||"Memo";case wt:o=r._payload,r=r._init;try{return et(r(o))}catch{}}return null}function pt(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return et(o);case 8:return o===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function vt(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function yt(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function It(r){var o=yt(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,S=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return x.call(this)},set:function(E){d=""+E,S.call(this,E)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ut(r){r._valueTracker||(r._valueTracker=It(r))}function Qt(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return r&&(d=yt(r)?r.checked?"true":"false":r.value),r=d,r!==u?(o.setValue(r),!0):!1}function Xt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function de(r,o){var u=o.checked;return ct({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function Dt(r,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=vt(o.value!=null?o.value:u),r._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Q(r,o){o=o.checked,o!=null&&Y(r,"checked",o,!1)}function xe(r,o){Q(r,o);var u=vt(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?qt(r,o.type,u):o.hasOwnProperty("defaultValue")&&qt(r,o.type,vt(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function oe(r,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,u||o===r.value||(r.value=o),r.defaultValue=o}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function qt(r,o,u){(o!=="number"||Xt(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var Ht=Array.isArray;function Gt(r,o,u,d){if(r=r.options,o){o={};for(var x=0;x<u.length;x++)o["$"+u[x]]=!0;for(u=0;u<r.length;u++)x=o.hasOwnProperty("$"+r[u].value),r[u].selected!==x&&(r[u].selected=x),x&&d&&(r[u].defaultSelected=!0)}else{for(u=""+vt(u),o=null,x=0;x<r.length;x++){if(r[x].value===u){r[x].selected=!0,d&&(r[x].defaultSelected=!0);return}o!==null||r[x].disabled||(o=r[x])}o!==null&&(o.selected=!0)}}function $t(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(e(91));return ct({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ce(r,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(e(92));if(Ht(u)){if(1<u.length)throw Error(e(93));u=u[0]}o=u}o==null&&(o=""),u=o}r._wrapperState={initialValue:vt(u)}}function _e(r,o){var u=vt(o.value),d=vt(o.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),o.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),d!=null&&(r.defaultValue=""+d)}function Ae(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function Ne(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?Ne(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var qe,ve=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,x){MSApp.execUnsafeLocalFunction(function(){return r(o,u,d,x)})}:r}(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(qe=qe||document.createElement("div"),qe.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=qe.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function Pe(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var Jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rr=["Webkit","ms","Moz","O"];Object.keys(Jt).forEach(function(r){rr.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),Jt[o]=Jt[r]})});function Re(r,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Jt.hasOwnProperty(r)&&Jt[r]?(""+o).trim():o+"px"}function hi(r,o){r=r.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,x=Re(u,o[u],d);u==="float"&&(u="cssFloat"),d?r.setProperty(u,x):r[u]=x}}var nn=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cn(r,o){if(o){if(nn[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(e(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(e(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(e(61))}if(o.style!=null&&typeof o.style!="object")throw Error(e(62))}}function fi(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Be=null;function ms(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var dn=null,ir=null,Nr=null;function pn(r){if(r=Za(r)){if(typeof dn!="function")throw Error(e(280));var o=r.stateNode;o&&(o=Xl(o),dn(r.stateNode,r.type,o))}}function be(r){ir?Nr?Nr.push(r):Nr=[r]:ir=r}function We(){if(ir){var r=ir,o=Nr;if(Nr=ir=null,pn(r),o)for(r=0;r<o.length;r++)pn(o[r])}}function Ks(r,o){return r(o)}function Hn(){}var di=!1;function Oi(r,o,u){if(di)return r(o,u);di=!0;try{return Ks(r,o,u)}finally{di=!1,(ir!==null||Nr!==null)&&(Hn(),We())}}function he(r,o){var u=r.stateNode;if(u===null)return null;var d=Xl(u);if(d===null)return null;u=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(e(231,o,typeof u));return u}var Jr=!1;if(c)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){Jr=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{Jr=!1}function Er(r,o,u,d,x,S,E,$,ot){var Tt=Array.prototype.slice.call(arguments,3);try{o.apply(u,Tt)}catch(zt){this.onError(zt)}}var gn=!1,mn=null,sr=!1,Js=null,vs={onError:function(r){gn=!0,mn=r}};function Ei(r,o,u,d,x,S,E,$,ot){gn=!1,mn=null,Er.apply(vs,arguments)}function Di(r,o,u,d,x,S,E,$,ot){if(Ei.apply(this,arguments),gn){if(gn){var Tt=mn;gn=!1,mn=null}else throw Error(e(198));sr||(sr=!0,Js=Tt)}}function Kn(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,o.flags&4098&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function Mi(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function Qr(r){if(Kn(r)!==r)throw Error(e(188))}function $i(r){var o=r.alternate;if(!o){if(o=Kn(r),o===null)throw Error(e(188));return o!==r?null:r}for(var u=r,d=o;;){var x=u.return;if(x===null)break;var S=x.alternate;if(S===null){if(d=x.return,d!==null){u=d;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===u)return Qr(x),r;if(S===d)return Qr(x),o;S=S.sibling}throw Error(e(188))}if(u.return!==d.return)u=x,d=S;else{for(var E=!1,$=x.child;$;){if($===u){E=!0,u=x,d=S;break}if($===d){E=!0,d=x,u=S;break}$=$.sibling}if(!E){for($=S.child;$;){if($===u){E=!0,u=S,d=x;break}if($===d){E=!0,d=S,u=x;break}$=$.sibling}if(!E)throw Error(e(189))}}if(u.alternate!==d)throw Error(e(190))}if(u.tag!==3)throw Error(e(188));return u.stateNode.current===u?r:o}function Qs(r){return r=$i(r),r!==null?No(r):null}function No(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=No(r);if(o!==null)return o;r=r.sibling}return null}var Oo=t.unstable_scheduleCallback,Eo=t.unstable_cancelCallback,Sa=t.unstable_shouldYield,xc=t.unstable_requestPaint,vn=t.unstable_now,wu=t.unstable_getCurrentPriorityLevel,Zs=t.unstable_ImmediatePriority,Ll=t.unstable_UserBlockingPriority,Ca=t.unstable_NormalPriority,Al=t.unstable_LowPriority,_c=t.unstable_IdlePriority,Do=null,pi=null;function ka(r){if(pi&&typeof pi.onCommitFiberRoot=="function")try{pi.onCommitFiberRoot(Do,r,void 0,(r.current.flags&128)===128)}catch{}}var Zr=Math.clz32?Math.clz32:Sc,Ln=Math.log,bc=Math.LN2;function Sc(r){return r>>>=0,r===0?32:31-(Ln(r)/bc|0)|0}var Mo=64,to=4194304;function jo(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Dr(r,o){var u=r.pendingLanes;if(u===0)return 0;var d=0,x=r.suspendedLanes,S=r.pingedLanes,E=u&268435455;if(E!==0){var $=E&~x;$!==0?d=jo($):(S&=E,S!==0&&(d=jo(S)))}else E=u&~x,E!==0?d=jo(E):S!==0&&(d=jo(S));if(d===0)return 0;if(o!==0&&o!==d&&!(o&x)&&(x=d&-d,S=o&-o,x>=S||x===16&&(S&4194240)!==0))return o;if(d&4&&(d|=u&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=d;0<o;)u=31-Zr(o),x=1<<u,d|=r[u],o&=~x;return d}function La(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mr(r,o){for(var u=r.suspendedLanes,d=r.pingedLanes,x=r.expirationTimes,S=r.pendingLanes;0<S;){var E=31-Zr(S),$=1<<E,ot=x[E];ot===-1?(!($&u)||$&d)&&(x[E]=La($,o)):ot<=o&&(r.expiredLanes|=$),S&=~$}}function Fo(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Tl(){var r=Mo;return Mo<<=1,!(Mo&4194240)&&(Mo=64),r}function Pl(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function eo(r,o,u){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-Zr(o),r[o]=u}function xu(r,o){var u=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<u;){var x=31-Zr(u),S=1<<x;o[x]=0,d[x]=-1,r[x]=-1,u&=~S}}function Aa(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var d=31-Zr(u),x=1<<d;x&o|r[d]&o&&(r[d]|=o),u&=~x}}var Ve=0;function Ta(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Cc,Nl,kc,Ki,Io,no=!1,Ro=[],yn=null,Ji=null,ji=null,me=new Map,Bo=new Map,Qi=[],Zi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ol(r,o){switch(r){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":me.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(o.pointerId)}}function ro(r,o,u,d,x,S){return r===null||r.nativeEvent!==S?(r={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:S,targetContainers:[x]},o!==null&&(o=Za(o),o!==null&&Nl(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),r)}function Pa(r,o,u,d,x){switch(o){case"focusin":return yn=ro(yn,r,o,u,d,x),!0;case"dragenter":return Ji=ro(Ji,r,o,u,d,x),!0;case"mouseover":return ji=ro(ji,r,o,u,d,x),!0;case"pointerover":var S=x.pointerId;return me.set(S,ro(me.get(S)||null,r,o,u,d,x)),!0;case"gotpointercapture":return S=x.pointerId,Bo.set(S,ro(Bo.get(S)||null,r,o,u,d,x)),!0}return!1}function Na(r){var o=go(r.target);if(o!==null){var u=Kn(o);if(u!==null){if(o=u.tag,o===13){if(o=Mi(u),o!==null){r.blockedOn=o,Io(r.priority,function(){kc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Oa(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=Da(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);Be=d,u.target.dispatchEvent(d),Be=null}else return o=Za(u),o!==null&&Nl(o),r.blockedOn=u,!1;o.shift()}return!0}function Lc(r,o,u){Oa(r)&&u.delete(o)}function _u(){no=!1,yn!==null&&Oa(yn)&&(yn=null),Ji!==null&&Oa(Ji)&&(Ji=null),ji!==null&&Oa(ji)&&(ji=null),me.forEach(Lc),Bo.forEach(Lc)}function ys(r,o){r.blockedOn===o&&(r.blockedOn=null,no||(no=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_u)))}function Fi(r){function o(x){return ys(x,r)}if(0<Ro.length){ys(Ro[0],r);for(var u=1;u<Ro.length;u++){var d=Ro[u];d.blockedOn===r&&(d.blockedOn=null)}}for(yn!==null&&ys(yn,r),Ji!==null&&ys(Ji,r),ji!==null&&ys(ji,r),me.forEach(o),Bo.forEach(o),u=0;u<Qi.length;u++)d=Qi[u],d.blockedOn===r&&(d.blockedOn=null);for(;0<Qi.length&&(u=Qi[0],u.blockedOn===null);)Na(u),u.blockedOn===null&&Qi.shift()}var ti=st.ReactCurrentBatchConfig,Ea=!0;function zo(r,o,u,d){var x=Ve,S=ti.transition;ti.transition=null;try{Ve=1,io(r,o,u,d)}finally{Ve=x,ti.transition=S}}function El(r,o,u,d){var x=Ve,S=ti.transition;ti.transition=null;try{Ve=4,io(r,o,u,d)}finally{Ve=x,ti.transition=S}}function io(r,o,u,d){if(Ea){var x=Da(r,o,u,d);if(x===null)Vl(r,o,d,Uo,u),Ol(r,d);else if(Pa(x,r,o,u,d))d.stopPropagation();else if(Ol(r,d),o&4&&-1<Zi.indexOf(r)){for(;x!==null;){var S=Za(x);if(S!==null&&Cc(S),S=Da(r,o,u,d),S===null&&Vl(r,o,d,Uo,u),S===x)break;x=S}x!==null&&d.stopPropagation()}else Vl(r,o,d,null,u)}}var Uo=null;function Da(r,o,u,d){if(Uo=null,r=ms(d),r=go(r),r!==null)if(o=Kn(r),o===null)r=null;else if(u=o.tag,u===13){if(r=Mi(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return Uo=r,null}function Dl(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wu()){case Zs:return 1;case Ll:return 4;case Ca:case Al:return 16;case _c:return 536870912;default:return 16}default:return 16}}var Ii=null,gi=null,mi=null;function Ac(){if(mi)return mi;var r,o=gi,u=o.length,d,x="value"in Ii?Ii.value:Ii.textContent,S=x.length;for(r=0;r<u&&o[r]===x[r];r++);var E=u-r;for(d=1;d<=E&&o[u-d]===x[S-d];d++);return mi=x.slice(r,1<d?1-d:void 0)}function Ri(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function jr(){return!0}function Ma(){return!1}function Fn(r){function o(u,d,x,S,E){this._reactName=u,this._targetInst=x,this.type=d,this.nativeEvent=S,this.target=E,this.currentTarget=null;for(var $ in r)r.hasOwnProperty($)&&(u=r[$],this[$]=u?u(S):S[$]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?jr:Ma,this.isPropagationStopped=Ma,this}return ct(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),o}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=Fn(so),qo=ct({},so,{view:0,detail:0}),Ml=Fn(qo),Wo,ja,ts,ao=ct({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zt,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ts&&(ts&&r.type==="mousemove"?(Wo=r.screenX-ts.screenX,ja=r.screenY-ts.screenY):ja=Wo=0,ts=r),Wo)},movementY:function(r){return"movementY"in r?r.movementY:ja}}),Fa=Fn(ao),Tc=ct({},ao,{dataTransfer:0}),bu=Fn(Tc),Ia=ct({},qo,{relatedTarget:0}),ws=Fn(Ia),jl=ct({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),lo=Fn(jl),Fl=ct({},so,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),v=Fn(Fl),N=ct({},so,{data:0}),V=Fn(N),it={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ot={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rt(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Ot[r])?!!o[r]:!1}function Zt(){return Rt}var ue=ct({},qo,{key:function(r){if(r.key){var o=it[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Ri(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?xt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zt,charCode:function(r){return r.type==="keypress"?Ri(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ri(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Le=Fn(ue),ke=ct({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fe=Fn(ke),wn=ct({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zt}),bn=Fn(wn),Nn=ct({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),or=Fn(Nn),Yn=ct({},ao,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Bi=Fn(Yn),ei=[9,13,27,32],vi=c&&"CompositionEvent"in window,co=null;c&&"documentMode"in document&&(co=document.documentMode);var Il=c&&"TextEvent"in window&&!co,Ra=c&&(!vi||co&&8<co&&11>=co),Vo=" ",Ba=!1;function za(r,o){switch(r){case"keyup":return ei.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ho(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Sn=!1;function Ua(r,o){switch(r){case"compositionend":return Ho(o);case"keypress":return o.which!==32?null:(Ba=!0,Vo);case"textInput":return r=o.data,r===Vo&&Ba?null:r;default:return null}}function qa(r,o){if(Sn)return r==="compositionend"||!vi&&za(r,o)?(r=Ac(),mi=gi=Ii=null,Sn=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ra&&o.locale!=="ko"?null:o.data;default:return null}}var Wa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Va(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Wa[r.type]:o==="textarea"}function vr(r,o,u,d){be(d),o=Ec(o,"onChange"),0<o.length&&(u=new oo("onChange","change",null,u,d),r.push({event:u,listeners:o}))}var Yo=null,xs=null;function Pc(r){ql(r,0)}function yr(r){var o=ea(r);if(Qt(o))return r}function Ha(r,o){if(r==="change")return o}var Rl=!1;if(c){var Ya;if(c){var es="oninput"in document;if(!es){var uo=document.createElement("div");uo.setAttribute("oninput","return;"),es=typeof uo.oninput=="function"}Ya=es}else Ya=!1;Rl=Ya&&(!document.documentMode||9<document.documentMode)}function wr(){Yo&&(Yo.detachEvent("onpropertychange",ar),xs=Yo=null)}function ar(r){if(r.propertyName==="value"&&yr(xs)){var o=[];vr(o,xs,r,ms(r)),Oi(Pc,o)}}function ho(r,o,u){r==="focusin"?(wr(),Yo=o,xs=u,Yo.attachEvent("onpropertychange",ar)):r==="focusout"&&wr()}function _s(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return yr(xs)}function bs(r,o){if(r==="click")return yr(o)}function Xa(r,o){if(r==="input"||r==="change")return yr(o)}function Ss(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var He=typeof Object.is=="function"?Object.is:Ss;function Cs(r,o){if(He(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var x=u[d];if(!h.call(o,x)||!He(r[x],o[x]))return!1}return!0}function lr(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ni(r,o){var u=lr(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=o&&d>=o)return{node:u,offset:o-r};r=d}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=lr(u)}}function Xo(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Xo(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Bl(){for(var r=window,o=Xt();o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=Xt(r.document)}return o}function Go(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function $o(r){var o=Bl(),u=r.focusedElem,d=r.selectionRange;if(o!==u&&u&&u.ownerDocument&&Xo(u.ownerDocument.documentElement,u)){if(d!==null&&Go(u)){if(o=d.start,r=d.end,r===void 0&&(r=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(r,u.value.length);else if(r=(o=u.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var x=u.textContent.length,S=Math.min(d.start,x);d=d.end===void 0?S:Math.min(d.end,x),!r.extend&&S>d&&(x=d,d=S,S=x),x=ni(u,S);var E=ni(u,d);x&&E&&(r.rangeCount!==1||r.anchorNode!==x.node||r.anchorOffset!==x.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(x.node,x.offset),r.removeAllRanges(),S>d?(r.addRange(o),r.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),r.addRange(o)))}}for(o=[],r=u;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)r=o[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Ko=c&&"documentMode"in document&&11>=document.documentMode,ri=null,ks=null,ns=null,Ls=!1;function As(r,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ls||ri==null||ri!==Xt(d)||(d=ri,"selectionStart"in d&&Go(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ns&&Cs(ns,d)||(ns=d,d=Ec(ks,"onSelect"),0<d.length&&(o=new oo("onSelect","select",null,o,u),r.push({event:o,listeners:d}),o.target=ri)))}function fo(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var Jn={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionend:fo("Transition","TransitionEnd")},Fr={},rn={};c&&(rn=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function Ke(r){if(Fr[r])return Fr[r];if(!Jn[r])return r;var o=Jn[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in rn)return Fr[r]=o[u];return r}var Cn=Ke("animationend"),On=Ke("animationiteration"),rs=Ke("animationstart"),Ga=Ke("transitionend"),Jo=new Map,zl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(r,o){Jo.set(r,o),s(o,[r])}for(var $a=0;$a<zl.length;$a++){var xr=zl[$a],yi=xr.toLowerCase(),Nc=xr[0].toUpperCase()+xr.slice(1);is(yi,"on"+Nc)}is(Cn,"onAnimationEnd"),is(On,"onAnimationIteration"),is(rs,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(Ga,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oh=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function Ul(r,o,u){var d=r.type||"unknown-event";r.currentTarget=u,Di(d,o,void 0,r),r.currentTarget=null}function ql(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],x=d.event;d=d.listeners;t:{var S=void 0;if(o)for(var E=d.length-1;0<=E;E--){var $=d[E],ot=$.instance,Tt=$.currentTarget;if($=$.listener,ot!==S&&x.isPropagationStopped())break t;Ul(x,$,Tt),S=ot}else for(E=0;E<d.length;E++){if($=d[E],ot=$.instance,Tt=$.currentTarget,$=$.listener,ot!==S&&x.isPropagationStopped())break t;Ul(x,$,Tt),S=ot}}}if(sr)throw r=Js,sr=!1,Js=null,r}function sn(r,o){var u=o[Rr];u===void 0&&(u=o[Rr]=new Set);var d=r+"__bubble";u.has(d)||(Wl(o,r,2,!1),u.add(d))}function Oc(r,o,u){var d=0;o&&(d|=4),Wl(u,r,d,o)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function Qo(r){if(!r[Ka]){r[Ka]=!0,n.forEach(function(u){u!=="selectionchange"&&(oh.has(u)||Oc(u,!1,r),Oc(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Ka]||(o[Ka]=!0,Oc("selectionchange",!1,o))}}function Wl(r,o,u,d){switch(Dl(o)){case 1:var x=zo;break;case 4:x=El;break;default:x=io}u=x.bind(null,o,u,r),x=void 0,!Jr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),d?x!==void 0?r.addEventListener(o,u,{capture:!0,passive:x}):r.addEventListener(o,u,!0):x!==void 0?r.addEventListener(o,u,{passive:x}):r.addEventListener(o,u,!1)}function Vl(r,o,u,d,x){var S=d;if(!(o&1)&&!(o&2)&&d!==null)t:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var $=d.stateNode.containerInfo;if($===x||$.nodeType===8&&$.parentNode===x)break;if(E===4)for(E=d.return;E!==null;){var ot=E.tag;if((ot===3||ot===4)&&(ot=E.stateNode.containerInfo,ot===x||ot.nodeType===8&&ot.parentNode===x))return;E=E.return}for(;$!==null;){if(E=go($),E===null)return;if(ot=E.tag,ot===5||ot===6){d=S=E;continue t}$=$.parentNode}}d=d.return}Oi(function(){var Tt=S,zt=ms(u),Wt=[];t:{var Bt=Jo.get(r);if(Bt!==void 0){var ee=oo,ie=r;switch(r){case"keypress":if(Ri(u)===0)break t;case"keydown":case"keyup":ee=Le;break;case"focusin":ie="focus",ee=ws;break;case"focusout":ie="blur",ee=ws;break;case"beforeblur":case"afterblur":ee=ws;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=bn;break;case Cn:case On:case rs:ee=lo;break;case Ga:ee=or;break;case"scroll":ee=Ml;break;case"wheel":ee=Bi;break;case"copy":case"cut":case"paste":ee=v;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Fe}var ae=(o&4)!==0,Bn=!ae&&r==="scroll",kt=ae?Bt!==null?Bt+"Capture":null:Bt;ae=[];for(var ut=Tt,At;ut!==null;){At=ut;var Vt=At.stateNode;if(At.tag===5&&Vt!==null&&(At=Vt,kt!==null&&(Vt=he(ut,kt),Vt!=null&&ae.push(Hl(ut,Vt,At)))),Bn)break;ut=ut.return}0<ae.length&&(Bt=new ee(Bt,ie,null,u,zt),Wt.push({event:Bt,listeners:ae}))}}if(!(o&7)){t:{if(Bt=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",Bt&&u!==Be&&(ie=u.relatedTarget||u.fromElement)&&(go(ie)||ie[cr]))break t;if((ee||Bt)&&(Bt=zt.window===zt?zt:(Bt=zt.ownerDocument)?Bt.defaultView||Bt.parentWindow:window,ee?(ie=u.relatedTarget||u.toElement,ee=Tt,ie=ie?go(ie):null,ie!==null&&(Bn=Kn(ie),ie!==Bn||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(ee=null,ie=Tt),ee!==ie)){if(ae=Fa,Vt="onMouseLeave",kt="onMouseEnter",ut="mouse",(r==="pointerout"||r==="pointerover")&&(ae=Fe,Vt="onPointerLeave",kt="onPointerEnter",ut="pointer"),Bn=ee==null?Bt:ea(ee),At=ie==null?Bt:ea(ie),Bt=new ae(Vt,ut+"leave",ee,u,zt),Bt.target=Bn,Bt.relatedTarget=At,Vt=null,go(zt)===Tt&&(ae=new ae(kt,ut+"enter",ie,u,zt),ae.target=At,ae.relatedTarget=Bn,Vt=ae),Bn=Vt,ee&&ie)e:{for(ae=ee,kt=ie,ut=0,At=ae;At;At=Zo(At))ut++;for(At=0,Vt=kt;Vt;Vt=Zo(Vt))At++;for(;0<ut-At;)ae=Zo(ae),ut--;for(;0<At-ut;)kt=Zo(kt),At--;for(;ut--;){if(ae===kt||kt!==null&&ae===kt.alternate)break e;ae=Zo(ae),kt=Zo(kt)}ae=null}else ae=null;ee!==null&&ah(Wt,Bt,ee,ae,!1),ie!==null&&Bn!==null&&ah(Wt,Bn,ie,ae,!0)}}t:{if(Bt=Tt?ea(Tt):window,ee=Bt.nodeName&&Bt.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Bt.type==="file")var le=Ha;else if(Va(Bt))if(Rl)le=Xa;else{le=_s;var pe=ho}else(ee=Bt.nodeName)&&ee.toLowerCase()==="input"&&(Bt.type==="checkbox"||Bt.type==="radio")&&(le=bs);if(le&&(le=le(r,Tt))){vr(Wt,le,u,zt);break t}pe&&pe(r,Bt,Tt),r==="focusout"&&(pe=Bt._wrapperState)&&pe.controlled&&Bt.type==="number"&&qt(Bt,"number",Bt.value)}switch(pe=Tt?ea(Tt):window,r){case"focusin":(Va(pe)||pe.contentEditable==="true")&&(ri=pe,ks=Tt,ns=null);break;case"focusout":ns=ks=ri=null;break;case"mousedown":Ls=!0;break;case"contextmenu":case"mouseup":case"dragend":Ls=!1,As(Wt,u,zt);break;case"selectionchange":if(Ko)break;case"keydown":case"keyup":As(Wt,u,zt)}var ge;if(vi)t:{switch(r){case"compositionstart":var Ce="onCompositionStart";break t;case"compositionend":Ce="onCompositionEnd";break t;case"compositionupdate":Ce="onCompositionUpdate";break t}Ce=void 0}else Sn?za(r,u)&&(Ce="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(Ra&&u.locale!=="ko"&&(Sn||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Sn&&(ge=Ac()):(Ii=zt,gi="value"in Ii?Ii.value:Ii.textContent,Sn=!0)),pe=Ec(Tt,Ce),0<pe.length&&(Ce=new V(Ce,r,null,u,zt),Wt.push({event:Ce,listeners:pe}),ge?Ce.data=ge:(ge=Ho(u),ge!==null&&(Ce.data=ge)))),(ge=Il?Ua(r,u):qa(r,u))&&(Tt=Ec(Tt,"onBeforeInput"),0<Tt.length&&(zt=new V("onBeforeInput","beforeinput",null,u,zt),Wt.push({event:zt,listeners:Tt}),zt.data=ge))}ql(Wt,o)})}function Hl(r,o,u){return{instance:r,listener:o,currentTarget:u}}function Ec(r,o){for(var u=o+"Capture",d=[];r!==null;){var x=r,S=x.stateNode;x.tag===5&&S!==null&&(x=S,S=he(r,u),S!=null&&d.unshift(Hl(r,S,x)),S=he(r,o),S!=null&&d.push(Hl(r,S,x))),r=r.return}return d}function Zo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function ah(r,o,u,d,x){for(var S=o._reactName,E=[];u!==null&&u!==d;){var $=u,ot=$.alternate,Tt=$.stateNode;if(ot!==null&&ot===d)break;$.tag===5&&Tt!==null&&($=Tt,x?(ot=he(u,S),ot!=null&&E.unshift(Hl(u,ot,$))):x||(ot=he(u,S),ot!=null&&E.push(Hl(u,ot,$)))),u=u.return}E.length!==0&&r.push({event:o,listeners:E})}var td=/\r\n?/g,ed=/\u0000|\uFFFD/g;function lh(r){return(typeof r=="string"?r:""+r).replace(td,`
`).replace(ed,"")}function Dc(r,o,u){if(o=lh(o),lh(r)!==o&&u)throw Error(e(425))}function Ja(){}var Yl=null,ta=null;function Su(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Cu=typeof setTimeout=="function"?setTimeout:void 0,ch=typeof clearTimeout=="function"?clearTimeout:void 0,uh=typeof Promise=="function"?Promise:void 0,nd=typeof queueMicrotask=="function"?queueMicrotask:typeof uh<"u"?function(r){return uh.resolve(null).then(r).catch(rd)}:Cu;function rd(r){setTimeout(function(){throw r})}function ku(r,o){var u=o,d=0;do{var x=u.nextSibling;if(r.removeChild(u),x&&x.nodeType===8)if(u=x.data,u==="/$"){if(d===0){r.removeChild(x),Fi(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=x}while(u);Fi(o)}function _r(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function wi(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}var Ir=Math.random().toString(36).slice(2),ss="__reactFiber$"+Ir,Qa="__reactProps$"+Ir,cr="__reactContainer$"+Ir,Rr="__reactEvents$"+Ir,id="__reactListeners$"+Ir,sd="__reactHandles$"+Ir;function go(r){var o=r[ss];if(o)return o;for(var u=r.parentNode;u;){if(o=u[cr]||u[ss]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=wi(r);r!==null;){if(u=r[ss])return u;r=wi(r)}return o}r=u,u=r.parentNode}return null}function Za(r){return r=r[ss]||r[cr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ea(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(e(33))}function Xl(r){return r[Qa]||null}var Lu=[],Ts=-1;function zi(r){return{current:r}}function Je(r){0>Ts||(r.current=Lu[Ts],Lu[Ts]=null,Ts--)}function tn(r,o){Ts++,Lu[Ts]=r.current,r.current=o}var Ps={},ur=zi(Ps),br=zi(!1),na=Ps;function tl(r,o){var u=r.type.contextTypes;if(!u)return Ps;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var x={},S;for(S in u)x[S]=o[S];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=x),x}function Br(r){return r=r.childContextTypes,r!=null}function Mc(){Je(br),Je(ur)}function hh(r,o,u){if(ur.current!==Ps)throw Error(e(168));tn(ur,o),tn(br,u)}function fh(r,o,u){var d=r.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var x in d)if(!(x in o))throw Error(e(108,pt(r)||"Unknown",x));return ct({},u,d)}function Gl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ps,na=ur.current,tn(ur,r),tn(br,br.current),!0}function $l(r,o,u){var d=r.stateNode;if(!d)throw Error(e(169));u?(r=fh(r,o,na),d.__reactInternalMemoizedMergedChildContext=r,Je(br),Je(ur),tn(ur,r)):Je(br),tn(br,u)}var Ns=null,jc=!1,Fc=!1;function f(r){Ns===null?Ns=[r]:Ns.push(r)}function g(r){jc=!0,f(r)}function _(){if(!Fc&&Ns!==null){Fc=!0;var r=0,o=Ve;try{var u=Ns;for(Ve=1;r<u.length;r++){var d=u[r];do d=d(!0);while(d!==null)}Ns=null,jc=!1}catch(x){throw Ns!==null&&(Ns=Ns.slice(r+1)),Oo(Zs,_),x}finally{Ve=o,Fc=!1}}return null}var C=[],P=0,D=null,M=0,j=[],I=0,U=null,rt=1,_t="";function St(r,o){C[P++]=M,C[P++]=D,D=r,M=o}function gt(r,o,u){j[I++]=rt,j[I++]=_t,j[I++]=U,U=r;var d=rt;r=_t;var x=32-Zr(d)-1;d&=~(1<<x),u+=1;var S=32-Zr(o)+x;if(30<S){var E=x-x%5;S=(d&(1<<E)-1).toString(32),d>>=E,x-=E,rt=1<<32-Zr(o)+x|u<<x|d,_t=S+r}else rt=1<<S|u<<x|d,_t=r}function jt(r){r.return!==null&&(St(r,1),gt(r,1,0))}function Nt(r){for(;r===D;)D=C[--P],C[P]=null,M=C[--P],C[P]=null;for(;r===U;)U=j[--I],j[I]=null,_t=j[--I],j[I]=null,rt=j[--I],j[I]=null}var nt=null,at=null,Pt=!1,Mt=null;function Ft(r,o){var u=fs(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=r,o=r.deletions,o===null?(r.deletions=[u],r.flags|=16):o.push(u)}function te(r,o){switch(r.tag){case 5:var u=r.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,nt=r,at=_r(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,nt=r,at=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=U!==null?{id:rt,overflow:_t}:null,r.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=fs(18,null,null,0),u.stateNode=o,u.return=r,r.child=u,nt=r,at=null,!0):!1;default:return!1}}function Yt(r){return(r.mode&1)!==0&&(r.flags&128)===0}function fe(r){if(Pt){var o=at;if(o){var u=o;if(!te(r,o)){if(Yt(r))throw Error(e(418));o=_r(u.nextSibling);var d=nt;o&&te(r,o)?Ft(d,u):(r.flags=r.flags&-4097|2,Pt=!1,nt=r)}}else{if(Yt(r))throw Error(e(418));r.flags=r.flags&-4097|2,Pt=!1,nt=r}}}function Kt(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;nt=r}function Ie(r){if(r!==nt)return!1;if(!Pt)return Kt(r),Pt=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!Su(r.type,r.memoizedProps)),o&&(o=at)){if(Yt(r))throw Ge(),Error(e(418));for(;o;)Ft(r,o),o=_r(o.nextSibling)}if(Kt(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(e(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(o===0){at=_r(r.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}r=r.nextSibling}at=null}}else at=nt?_r(r.stateNode.nextSibling):null;return!0}function Ge(){for(var r=at;r;)r=_r(r.nextSibling)}function Oe(){at=nt=null,Pt=!1}function Ee(r){Mt===null?Mt=[r]:Mt.push(r)}var on=st.ReactCurrentBatchConfig;function ze(r,o,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(e(309));var d=u.stateNode}if(!d)throw Error(e(147,r));var x=d,S=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===S?o.ref:(o=function(E){var $=x.refs;E===null?delete $[S]:$[S]=E},o._stringRef=S,o)}if(typeof r!="string")throw Error(e(284));if(!u._owner)throw Error(e(290,r))}return r}function Se(r,o){throw r=Object.prototype.toString.call(o),Error(e(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function An(r){var o=r._init;return o(r._payload)}function Sr(r){function o(kt,ut){if(r){var At=kt.deletions;At===null?(kt.deletions=[ut],kt.flags|=16):At.push(ut)}}function u(kt,ut){if(!r)return null;for(;ut!==null;)o(kt,ut),ut=ut.sibling;return null}function d(kt,ut){for(kt=new Map;ut!==null;)ut.key!==null?kt.set(ut.key,ut):kt.set(ut.index,ut),ut=ut.sibling;return kt}function x(kt,ut){return kt=fl(kt,ut),kt.index=0,kt.sibling=null,kt}function S(kt,ut,At){return kt.index=At,r?(At=kt.alternate,At!==null?(At=At.index,At<ut?(kt.flags|=2,ut):At):(kt.flags|=2,ut)):(kt.flags|=1048576,ut)}function E(kt){return r&&kt.alternate===null&&(kt.flags|=2),kt}function $(kt,ut,At,Vt){return ut===null||ut.tag!==6?(ut=Dd(At,kt.mode,Vt),ut.return=kt,ut):(ut=x(ut,At),ut.return=kt,ut)}function ot(kt,ut,At,Vt){var le=At.type;return le===tt?zt(kt,ut,At.props.children,Vt,At.key):ut!==null&&(ut.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===wt&&An(le)===ut.type)?(Vt=x(ut,At.props),Vt.ref=ze(kt,ut,At),Vt.return=kt,Vt):(Vt=Eh(At.type,At.key,At.props,null,kt.mode,Vt),Vt.ref=ze(kt,ut,At),Vt.return=kt,Vt)}function Tt(kt,ut,At,Vt){return ut===null||ut.tag!==4||ut.stateNode.containerInfo!==At.containerInfo||ut.stateNode.implementation!==At.implementation?(ut=Md(At,kt.mode,Vt),ut.return=kt,ut):(ut=x(ut,At.children||[]),ut.return=kt,ut)}function zt(kt,ut,At,Vt,le){return ut===null||ut.tag!==7?(ut=oc(At,kt.mode,Vt,le),ut.return=kt,ut):(ut=x(ut,At),ut.return=kt,ut)}function Wt(kt,ut,At){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return ut=Dd(""+ut,kt.mode,At),ut.return=kt,ut;if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case Z:return At=Eh(ut.type,ut.key,ut.props,null,kt.mode,At),At.ref=ze(kt,null,ut),At.return=kt,At;case mt:return ut=Md(ut,kt.mode,At),ut.return=kt,ut;case wt:var Vt=ut._init;return Wt(kt,Vt(ut._payload),At)}if(Ht(ut)||ft(ut))return ut=oc(ut,kt.mode,At,null),ut.return=kt,ut;Se(kt,ut)}return null}function Bt(kt,ut,At,Vt){var le=ut!==null?ut.key:null;if(typeof At=="string"&&At!==""||typeof At=="number")return le!==null?null:$(kt,ut,""+At,Vt);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case Z:return At.key===le?ot(kt,ut,At,Vt):null;case mt:return At.key===le?Tt(kt,ut,At,Vt):null;case wt:return le=At._init,Bt(kt,ut,le(At._payload),Vt)}if(Ht(At)||ft(At))return le!==null?null:zt(kt,ut,At,Vt,null);Se(kt,At)}return null}function ee(kt,ut,At,Vt,le){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number")return kt=kt.get(At)||null,$(ut,kt,""+Vt,le);if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case Z:return kt=kt.get(Vt.key===null?At:Vt.key)||null,ot(ut,kt,Vt,le);case mt:return kt=kt.get(Vt.key===null?At:Vt.key)||null,Tt(ut,kt,Vt,le);case wt:var pe=Vt._init;return ee(kt,ut,At,pe(Vt._payload),le)}if(Ht(Vt)||ft(Vt))return kt=kt.get(At)||null,zt(ut,kt,Vt,le,null);Se(ut,Vt)}return null}function ie(kt,ut,At,Vt){for(var le=null,pe=null,ge=ut,Ce=ut=0,gr=null;ge!==null&&Ce<At.length;Ce++){ge.index>Ce?(gr=ge,ge=null):gr=ge.sibling;var $e=Bt(kt,ge,At[Ce],Vt);if($e===null){ge===null&&(ge=gr);break}r&&ge&&$e.alternate===null&&o(kt,ge),ut=S($e,ut,Ce),pe===null?le=$e:pe.sibling=$e,pe=$e,ge=gr}if(Ce===At.length)return u(kt,ge),Pt&&St(kt,Ce),le;if(ge===null){for(;Ce<At.length;Ce++)ge=Wt(kt,At[Ce],Vt),ge!==null&&(ut=S(ge,ut,Ce),pe===null?le=ge:pe.sibling=ge,pe=ge);return Pt&&St(kt,Ce),le}for(ge=d(kt,ge);Ce<At.length;Ce++)gr=ee(ge,kt,Ce,At[Ce],Vt),gr!==null&&(r&&gr.alternate!==null&&ge.delete(gr.key===null?Ce:gr.key),ut=S(gr,ut,Ce),pe===null?le=gr:pe.sibling=gr,pe=gr);return r&&ge.forEach(function(dl){return o(kt,dl)}),Pt&&St(kt,Ce),le}function ae(kt,ut,At,Vt){var le=ft(At);if(typeof le!="function")throw Error(e(150));if(At=le.call(At),At==null)throw Error(e(151));for(var pe=le=null,ge=ut,Ce=ut=0,gr=null,$e=At.next();ge!==null&&!$e.done;Ce++,$e=At.next()){ge.index>Ce?(gr=ge,ge=null):gr=ge.sibling;var dl=Bt(kt,ge,$e.value,Vt);if(dl===null){ge===null&&(ge=gr);break}r&&ge&&dl.alternate===null&&o(kt,ge),ut=S(dl,ut,Ce),pe===null?le=dl:pe.sibling=dl,pe=dl,ge=gr}if($e.done)return u(kt,ge),Pt&&St(kt,Ce),le;if(ge===null){for(;!$e.done;Ce++,$e=At.next())$e=Wt(kt,$e.value,Vt),$e!==null&&(ut=S($e,ut,Ce),pe===null?le=$e:pe.sibling=$e,pe=$e);return Pt&&St(kt,Ce),le}for(ge=d(kt,ge);!$e.done;Ce++,$e=At.next())$e=ee(ge,kt,Ce,$e.value,Vt),$e!==null&&(r&&$e.alternate!==null&&ge.delete($e.key===null?Ce:$e.key),ut=S($e,ut,Ce),pe===null?le=$e:pe.sibling=$e,pe=$e);return r&&ge.forEach(function(_m){return o(kt,_m)}),Pt&&St(kt,Ce),le}function Bn(kt,ut,At,Vt){if(typeof At=="object"&&At!==null&&At.type===tt&&At.key===null&&(At=At.props.children),typeof At=="object"&&At!==null){switch(At.$$typeof){case Z:t:{for(var le=At.key,pe=ut;pe!==null;){if(pe.key===le){if(le=At.type,le===tt){if(pe.tag===7){u(kt,pe.sibling),ut=x(pe,At.props.children),ut.return=kt,kt=ut;break t}}else if(pe.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===wt&&An(le)===pe.type){u(kt,pe.sibling),ut=x(pe,At.props),ut.ref=ze(kt,pe,At),ut.return=kt,kt=ut;break t}u(kt,pe);break}else o(kt,pe);pe=pe.sibling}At.type===tt?(ut=oc(At.props.children,kt.mode,Vt,At.key),ut.return=kt,kt=ut):(Vt=Eh(At.type,At.key,At.props,null,kt.mode,Vt),Vt.ref=ze(kt,ut,At),Vt.return=kt,kt=Vt)}return E(kt);case mt:t:{for(pe=At.key;ut!==null;){if(ut.key===pe)if(ut.tag===4&&ut.stateNode.containerInfo===At.containerInfo&&ut.stateNode.implementation===At.implementation){u(kt,ut.sibling),ut=x(ut,At.children||[]),ut.return=kt,kt=ut;break t}else{u(kt,ut);break}else o(kt,ut);ut=ut.sibling}ut=Md(At,kt.mode,Vt),ut.return=kt,kt=ut}return E(kt);case wt:return pe=At._init,Bn(kt,ut,pe(At._payload),Vt)}if(Ht(At))return ie(kt,ut,At,Vt);if(ft(At))return ae(kt,ut,At,Vt);Se(kt,At)}return typeof At=="string"&&At!==""||typeof At=="number"?(At=""+At,ut!==null&&ut.tag===6?(u(kt,ut.sibling),ut=x(ut,At),ut.return=kt,kt=ut):(u(kt,ut),ut=Dd(At,kt.mode,Vt),ut.return=kt,kt=ut),E(kt)):u(kt,ut)}return Bn}var hn=Sr(!0),Cr=Sr(!1),Ue=zi(null),hr=null,Xn=null,En=null;function In(){En=Xn=hr=null}function Qn(r){var o=Ue.current;Je(Ue),r._currentValue=o}function zr(r,o,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===u)break;r=r.return}}function kr(r,o){hr=r,En=Xn=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&o&&(xi=!0),r.firstContext=null)}function Qe(r){var o=r._currentValue;if(En!==r)if(r={context:r,memoizedValue:o,next:null},Xn===null){if(hr===null)throw Error(e(308));Xn=r,hr.dependencies={lanes:0,firstContext:r}}else Xn=Xn.next=r;return o}var Lr=null;function Os(r){Lr===null?Lr=[r]:Lr.push(r)}function ra(r,o,u,d){var x=o.interleaved;return x===null?(u.next=u,Os(o)):(u.next=x.next,x.next=u),o.interleaved=u,fr(r,d)}function fr(r,o){r.lanes|=o;var u=r.alternate;for(u!==null&&(u.lanes|=o),u=r,r=r.return;r!==null;)r.childLanes|=o,u=r.alternate,u!==null&&(u.childLanes|=o),u=r,r=r.return;return u.tag===3?u.stateNode:null}var Ze=!1;function Kl(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Au(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function os(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function Ui(r,o,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,Ye&2){var x=d.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),d.pending=o,fr(r,u)}return x=d.interleaved,x===null?(o.next=o,Os(d)):(o.next=x.next,x.next=o),d.interleaved=o,fr(r,u)}function mo(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,Aa(r,u)}}function Jl(r,o){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var x=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var E={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};S===null?x=S=E:S=S.next=E,u=u.next}while(u!==null);S===null?x=S=o:S=S.next=o}else x=S=o;u={baseState:d.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:d.shared,effects:d.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}function Ur(r,o,u,d){var x=r.updateQueue;Ze=!1;var S=x.firstBaseUpdate,E=x.lastBaseUpdate,$=x.shared.pending;if($!==null){x.shared.pending=null;var ot=$,Tt=ot.next;ot.next=null,E===null?S=Tt:E.next=Tt,E=ot;var zt=r.alternate;zt!==null&&(zt=zt.updateQueue,$=zt.lastBaseUpdate,$!==E&&($===null?zt.firstBaseUpdate=Tt:$.next=Tt,zt.lastBaseUpdate=ot))}if(S!==null){var Wt=x.baseState;E=0,zt=Tt=ot=null,$=S;do{var Bt=$.lane,ee=$.eventTime;if((d&Bt)===Bt){zt!==null&&(zt=zt.next={eventTime:ee,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});t:{var ie=r,ae=$;switch(Bt=o,ee=u,ae.tag){case 1:if(ie=ae.payload,typeof ie=="function"){Wt=ie.call(ee,Wt,Bt);break t}Wt=ie;break t;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ae.payload,Bt=typeof ie=="function"?ie.call(ee,Wt,Bt):ie,Bt==null)break t;Wt=ct({},Wt,Bt);break t;case 2:Ze=!0}}$.callback!==null&&$.lane!==0&&(r.flags|=64,Bt=x.effects,Bt===null?x.effects=[$]:Bt.push($))}else ee={eventTime:ee,lane:Bt,tag:$.tag,payload:$.payload,callback:$.callback,next:null},zt===null?(Tt=zt=ee,ot=Wt):zt=zt.next=ee,E|=Bt;if($=$.next,$===null){if($=x.shared.pending,$===null)break;Bt=$,$=Bt.next,Bt.next=null,x.lastBaseUpdate=Bt,x.shared.pending=null}}while(!0);if(zt===null&&(ot=Wt),x.baseState=ot,x.firstBaseUpdate=Tt,x.lastBaseUpdate=zt,o=x.shared.interleaved,o!==null){x=o;do E|=x.lane,x=x.next;while(x!==o)}else S===null&&(x.shared.lanes=0);nc|=E,r.lanes=E,r.memoizedState=Wt}}function ia(r,o,u){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var d=r[o],x=d.callback;if(x!==null){if(d.callback=null,d=u,typeof x!="function")throw Error(e(191,x));x.call(d)}}}var as={},qi=zi(as),vo=zi(as),el=zi(as);function ls(r){if(r===as)throw Error(e(174));return r}function Ql(r,o){switch(tn(el,o),tn(vo,r),tn(qi,as),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:je(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=je(o,r)}Je(qi),tn(qi,o)}function Es(){Je(qi),Je(vo),Je(el)}function nl(r){ls(el.current);var o=ls(qi.current),u=je(o,r.type);o!==u&&(tn(vo,r),tn(qi,u))}function Tu(r){vo.current===r&&(Je(qi),Je(vo))}var xn=zi(0);function rl(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var cs=[];function Pu(){for(var r=0;r<cs.length;r++)cs[r]._workInProgressVersionPrimary=null;cs.length=0}var Ic=st.ReactCurrentDispatcher,Nu=st.ReactCurrentBatchConfig,yo=0,un=null,Dn=null,Rn=null,sa=!1,oa=!1,Ds=0,dh=0;function dr(){throw Error(e(321))}function il(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!He(r[u],o[u]))return!1;return!0}function Rc(r,o,u,d,x,S){if(yo=S,un=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ic.current=r===null||r.memoizedState===null?G2:$2,r=u(d,x),oa){S=0;do{if(oa=!1,Ds=0,25<=S)throw Error(e(301));S+=1,Rn=Dn=null,o.updateQueue=null,Ic.current=K2,r=u(d,x)}while(oa)}if(Ic.current=yh,o=Dn!==null&&Dn.next!==null,yo=0,Rn=Dn=un=null,sa=!1,o)throw Error(e(300));return r}function Zl(){var r=Ds!==0;return Ds=0,r}function Zn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?un.memoizedState=Rn=r:Rn=Rn.next=r,Rn}function ii(){if(Dn===null){var r=un.alternate;r=r!==null?r.memoizedState:null}else r=Dn.next;var o=Rn===null?un.memoizedState:Rn.next;if(o!==null)Rn=o,Dn=r;else{if(r===null)throw Error(e(310));Dn=r,r={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Rn===null?un.memoizedState=Rn=r:Rn=Rn.next=r}return Rn}function sl(r,o){return typeof o=="function"?o(r):o}function Ou(r){var o=ii(),u=o.queue;if(u===null)throw Error(e(311));u.lastRenderedReducer=r;var d=Dn,x=d.baseQueue,S=u.pending;if(S!==null){if(x!==null){var E=x.next;x.next=S.next,S.next=E}d.baseQueue=x=S,u.pending=null}if(x!==null){S=x.next,d=d.baseState;var $=E=null,ot=null,Tt=S;do{var zt=Tt.lane;if((yo&zt)===zt)ot!==null&&(ot=ot.next={lane:0,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null}),d=Tt.hasEagerState?Tt.eagerState:r(d,Tt.action);else{var Wt={lane:zt,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null};ot===null?($=ot=Wt,E=d):ot=ot.next=Wt,un.lanes|=zt,nc|=zt}Tt=Tt.next}while(Tt!==null&&Tt!==S);ot===null?E=d:ot.next=$,He(d,o.memoizedState)||(xi=!0),o.memoizedState=d,o.baseState=E,o.baseQueue=ot,u.lastRenderedState=d}if(r=u.interleaved,r!==null){x=r;do S=x.lane,un.lanes|=S,nc|=S,x=x.next;while(x!==r)}else x===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Bc(r){var o=ii(),u=o.queue;if(u===null)throw Error(e(311));u.lastRenderedReducer=r;var d=u.dispatch,x=u.pending,S=o.memoizedState;if(x!==null){u.pending=null;var E=x=x.next;do S=r(S,E.action),E=E.next;while(E!==x);He(S,o.memoizedState)||(xi=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),u.lastRenderedState=S}return[S,d]}function aa(){}function ph(r,o){var u=un,d=ii(),x=o(),S=!He(d.memoizedState,x);if(S&&(d.memoizedState=x,xi=!0),d=d.queue,ec(Du.bind(null,u,d,r),[r]),d.getSnapshot!==o||S||Rn!==null&&Rn.memoizedState.tag&1){if(u.flags|=2048,wo(9,gh.bind(null,u,d,x,o),void 0,null),pr===null)throw Error(e(349));yo&30||Eu(u,o,x)}return x}function Eu(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=un.updateQueue,o===null?(o={lastEffect:null,stores:null},un.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function gh(r,o,u,d){o.value=u,o.getSnapshot=d,mh(o)&&ol(r)}function Du(r,o,u){return u(function(){mh(o)&&ol(r)})}function mh(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!He(r,u)}catch{return!0}}function ol(r){var o=fr(r,1);o!==null&&Is(o,r,1,-1)}function zc(r){var o=Zn();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:r},o.queue=r,r=r.dispatch=X2.bind(null,un,r),[o.memoizedState,r]}function wo(r,o,u,d){return r={tag:r,create:o,destroy:u,deps:d,next:null},o=un.updateQueue,o===null?(o={lastEffect:null,stores:null},un.updateQueue=o,o.lastEffect=r.next=r):(u=o.lastEffect,u===null?o.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,o.lastEffect=r)),r}function us(){return ii().memoizedState}function Wi(r,o,u,d){var x=Zn();un.flags|=r,x.memoizedState=wo(1|o,u,void 0,d===void 0?null:d)}function Vi(r,o,u,d){var x=ii();d=d===void 0?null:d;var S=void 0;if(Dn!==null){var E=Dn.memoizedState;if(S=E.destroy,d!==null&&il(d,E.deps)){x.memoizedState=wo(o,u,S,d);return}}un.flags|=r,x.memoizedState=wo(1|o,u,S,d)}function tc(r,o){return Wi(8390656,8,r,o)}function ec(r,o){return Vi(2048,8,r,o)}function Mu(r,o){return Vi(4,2,r,o)}function vh(r,o){return Vi(4,4,r,o)}function Uc(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function qc(r,o,u){return u=u!=null?u.concat([r]):null,Vi(4,4,Uc.bind(null,o,r),u)}function od(){}function lg(r,o){var u=ii();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&il(o,d[1])?d[0]:(u.memoizedState=[r,o],r)}function cg(r,o){var u=ii();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&il(o,d[1])?d[0]:(r=r(),u.memoizedState=[r,o],r)}function ug(r,o,u){return yo&21?(He(u,o)||(u=Tl(),un.lanes|=u,nc|=u,r.baseState=!0),o):(r.baseState&&(r.baseState=!1,xi=!0),r.memoizedState=u)}function H2(r,o){var u=Ve;Ve=u!==0&&4>u?u:4,r(!0);var d=Nu.transition;Nu.transition={};try{r(!1),o()}finally{Ve=u,Nu.transition=d}}function hg(){return ii().memoizedState}function Y2(r,o,u){var d=ul(r);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},fg(r))dg(o,u);else if(u=ra(r,o,u,d),u!==null){var x=oi();Is(u,r,d,x),pg(u,o,d)}}function X2(r,o,u){var d=ul(r),x={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(fg(r))dg(o,x);else{var S=r.alternate;if(r.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var E=o.lastRenderedState,$=S(E,u);if(x.hasEagerState=!0,x.eagerState=$,He($,E)){var ot=o.interleaved;ot===null?(x.next=x,Os(o)):(x.next=ot.next,ot.next=x),o.interleaved=x;return}}catch{}finally{}u=ra(r,o,x,d),u!==null&&(x=oi(),Is(u,r,d,x),pg(u,o,d))}}function fg(r){var o=r.alternate;return r===un||o!==null&&o===un}function dg(r,o){oa=sa=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function pg(r,o,u){if(u&4194240){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,Aa(r,u)}}var yh={readContext:Qe,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},G2={readContext:Qe,useCallback:function(r,o){return Zn().memoizedState=[r,o===void 0?null:o],r},useContext:Qe,useEffect:tc,useImperativeHandle:function(r,o,u){return u=u!=null?u.concat([r]):null,Wi(4194308,4,Uc.bind(null,o,r),u)},useLayoutEffect:function(r,o){return Wi(4194308,4,r,o)},useInsertionEffect:function(r,o){return Wi(4,2,r,o)},useMemo:function(r,o){var u=Zn();return o=o===void 0?null:o,r=r(),u.memoizedState=[r,o],r},useReducer:function(r,o,u){var d=Zn();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},d.queue=r,r=r.dispatch=Y2.bind(null,un,r),[d.memoizedState,r]},useRef:function(r){var o=Zn();return r={current:r},o.memoizedState=r},useState:zc,useDebugValue:od,useDeferredValue:function(r){return Zn().memoizedState=r},useTransition:function(){var r=zc(!1),o=r[0];return r=H2.bind(null,r[1]),Zn().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,u){var d=un,x=Zn();if(Pt){if(u===void 0)throw Error(e(407));u=u()}else{if(u=o(),pr===null)throw Error(e(349));yo&30||Eu(d,o,u)}x.memoizedState=u;var S={value:u,getSnapshot:o};return x.queue=S,tc(Du.bind(null,d,S,r),[r]),d.flags|=2048,wo(9,gh.bind(null,d,S,u,o),void 0,null),u},useId:function(){var r=Zn(),o=pr.identifierPrefix;if(Pt){var u=_t,d=rt;u=(d&~(1<<32-Zr(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=Ds++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=dh++,o=":"+o+"r"+u.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},$2={readContext:Qe,useCallback:lg,useContext:Qe,useEffect:ec,useImperativeHandle:qc,useInsertionEffect:Mu,useLayoutEffect:vh,useMemo:cg,useReducer:Ou,useRef:us,useState:function(){return Ou(sl)},useDebugValue:od,useDeferredValue:function(r){var o=ii();return ug(o,Dn.memoizedState,r)},useTransition:function(){var r=Ou(sl)[0],o=ii().memoizedState;return[r,o]},useMutableSource:aa,useSyncExternalStore:ph,useId:hg,unstable_isNewReconciler:!1},K2={readContext:Qe,useCallback:lg,useContext:Qe,useEffect:ec,useImperativeHandle:qc,useInsertionEffect:Mu,useLayoutEffect:vh,useMemo:cg,useReducer:Bc,useRef:us,useState:function(){return Bc(sl)},useDebugValue:od,useDeferredValue:function(r){var o=ii();return Dn===null?o.memoizedState=r:ug(o,Dn.memoizedState,r)},useTransition:function(){var r=Bc(sl)[0],o=ii().memoizedState;return[r,o]},useMutableSource:aa,useSyncExternalStore:ph,useId:hg,unstable_isNewReconciler:!1};function Ms(r,o){if(r&&r.defaultProps){o=ct({},o),r=r.defaultProps;for(var u in r)o[u]===void 0&&(o[u]=r[u]);return o}return o}function ad(r,o,u,d){o=r.memoizedState,u=u(d,o),u=u==null?o:ct({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var wh={isMounted:function(r){return(r=r._reactInternals)?Kn(r)===r:!1},enqueueSetState:function(r,o,u){r=r._reactInternals;var d=oi(),x=ul(r),S=os(d,x);S.payload=o,u!=null&&(S.callback=u),o=Ui(r,S,x),o!==null&&(Is(o,r,x,d),mo(o,r,x))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var d=oi(),x=ul(r),S=os(d,x);S.tag=1,S.payload=o,u!=null&&(S.callback=u),o=Ui(r,S,x),o!==null&&(Is(o,r,x,d),mo(o,r,x))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=oi(),d=ul(r),x=os(u,d);x.tag=2,o!=null&&(x.callback=o),o=Ui(r,x,d),o!==null&&(Is(o,r,d,u),mo(o,r,d))}};function gg(r,o,u,d,x,S,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,S,E):o.prototype&&o.prototype.isPureReactComponent?!Cs(u,d)||!Cs(x,S):!0}function mg(r,o,u){var d=!1,x=Ps,S=o.contextType;return typeof S=="object"&&S!==null?S=Qe(S):(x=Br(o)?na:ur.current,d=o.contextTypes,S=(d=d!=null)?tl(r,x):Ps),o=new o(u,S),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=wh,r.stateNode=o,o._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=x,r.__reactInternalMemoizedMaskedChildContext=S),o}function vg(r,o,u,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==r&&wh.enqueueReplaceState(o,o.state,null)}function ld(r,o,u,d){var x=r.stateNode;x.props=u,x.state=r.memoizedState,x.refs={},Kl(r);var S=o.contextType;typeof S=="object"&&S!==null?x.context=Qe(S):(S=Br(o)?na:ur.current,x.context=tl(r,S)),x.state=r.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(ad(r,o,S,u),x.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(o=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),o!==x.state&&wh.enqueueReplaceState(x,x.state,null),Ur(r,u,x,d),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308)}function Wc(r,o){try{var u="",d=o;do u+=J(d),d=d.return;while(d);var x=u}catch(S){x=`
Error generating stack: `+S.message+`
`+S.stack}return{value:r,source:o,stack:x,digest:null}}function cd(r,o,u){return{value:r,source:null,stack:u??null,digest:o??null}}function ud(r,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var J2=typeof WeakMap=="function"?WeakMap:Map;function yg(r,o,u){u=os(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){Lh||(Lh=!0,kd=d),ud(r,o)},u}function wg(r,o,u){u=os(-1,u),u.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var x=o.value;u.payload=function(){return d(x)},u.callback=function(){ud(r,o)}}var S=r.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(u.callback=function(){ud(r,o),typeof d!="function"&&(ll===null?ll=new Set([this]):ll.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),u}function xg(r,o,u){var d=r.pingCache;if(d===null){d=r.pingCache=new J2;var x=new Set;d.set(o,x)}else x=d.get(o),x===void 0&&(x=new Set,d.set(o,x));x.has(u)||(x.add(u),r=hm.bind(null,r,o,u),o.then(r,r))}function _g(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function bg(r,o,u,d,x){return r.mode&1?(r.flags|=65536,r.lanes=x,r):(r===o?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=os(-1,1),o.tag=2,Ui(u,o,1))),u.lanes|=1),r)}var Q2=st.ReactCurrentOwner,xi=!1;function si(r,o,u,d){o.child=r===null?Cr(o,null,u,d):hn(o,r.child,u,d)}function Sg(r,o,u,d,x){u=u.render;var S=o.ref;return kr(o,x),d=Rc(r,o,u,d,S,x),u=Zl(),r!==null&&!xi?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~x,la(r,o,x)):(Pt&&u&&jt(o),o.flags|=1,si(r,o,d,x),o.child)}function Cg(r,o,u,d,x){if(r===null){var S=u.type;return typeof S=="function"&&!Ed(S)&&S.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=S,kg(r,o,S,d,x)):(r=Eh(u.type,null,d,o,o.mode,x),r.ref=o.ref,r.return=o,o.child=r)}if(S=r.child,!(r.lanes&x)){var E=S.memoizedProps;if(u=u.compare,u=u!==null?u:Cs,u(E,d)&&r.ref===o.ref)return la(r,o,x)}return o.flags|=1,r=fl(S,d),r.ref=o.ref,r.return=o,o.child=r}function kg(r,o,u,d,x){if(r!==null){var S=r.memoizedProps;if(Cs(S,d)&&r.ref===o.ref)if(xi=!1,o.pendingProps=d=S,(r.lanes&x)!==0)r.flags&131072&&(xi=!0);else return o.lanes=r.lanes,la(r,o,x)}return hd(r,o,u,d,x)}function Lg(r,o,u){var d=o.pendingProps,x=d.children,S=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},tn(Hc,Hi),Hi|=u;else{if(!(u&1073741824))return r=S!==null?S.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,tn(Hc,Hi),Hi|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=S!==null?S.baseLanes:u,tn(Hc,Hi),Hi|=d}else S!==null?(d=S.baseLanes|u,o.memoizedState=null):d=u,tn(Hc,Hi),Hi|=d;return si(r,o,x,u),o.child}function Ag(r,o){var u=o.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function hd(r,o,u,d,x){var S=Br(u)?na:ur.current;return S=tl(o,S),kr(o,x),u=Rc(r,o,u,d,S,x),d=Zl(),r!==null&&!xi?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~x,la(r,o,x)):(Pt&&d&&jt(o),o.flags|=1,si(r,o,u,x),o.child)}function Tg(r,o,u,d,x){if(Br(u)){var S=!0;Gl(o)}else S=!1;if(kr(o,x),o.stateNode===null)_h(r,o),mg(o,u,d),ld(o,u,d,x),d=!0;else if(r===null){var E=o.stateNode,$=o.memoizedProps;E.props=$;var ot=E.context,Tt=u.contextType;typeof Tt=="object"&&Tt!==null?Tt=Qe(Tt):(Tt=Br(u)?na:ur.current,Tt=tl(o,Tt));var zt=u.getDerivedStateFromProps,Wt=typeof zt=="function"||typeof E.getSnapshotBeforeUpdate=="function";Wt||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||($!==d||ot!==Tt)&&vg(o,E,d,Tt),Ze=!1;var Bt=o.memoizedState;E.state=Bt,Ur(o,d,E,x),ot=o.memoizedState,$!==d||Bt!==ot||br.current||Ze?(typeof zt=="function"&&(ad(o,u,zt,d),ot=o.memoizedState),($=Ze||gg(o,u,$,d,Bt,ot,Tt))?(Wt||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=ot),E.props=d,E.state=ot,E.context=Tt,d=$):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{E=o.stateNode,Au(r,o),$=o.memoizedProps,Tt=o.type===o.elementType?$:Ms(o.type,$),E.props=Tt,Wt=o.pendingProps,Bt=E.context,ot=u.contextType,typeof ot=="object"&&ot!==null?ot=Qe(ot):(ot=Br(u)?na:ur.current,ot=tl(o,ot));var ee=u.getDerivedStateFromProps;(zt=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||($!==Wt||Bt!==ot)&&vg(o,E,d,ot),Ze=!1,Bt=o.memoizedState,E.state=Bt,Ur(o,d,E,x);var ie=o.memoizedState;$!==Wt||Bt!==ie||br.current||Ze?(typeof ee=="function"&&(ad(o,u,ee,d),ie=o.memoizedState),(Tt=Ze||gg(o,u,Tt,d,Bt,ie,ot)||!1)?(zt||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,ie,ot),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,ie,ot)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||$===r.memoizedProps&&Bt===r.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||$===r.memoizedProps&&Bt===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ie),E.props=d,E.state=ie,E.context=ot,d=Tt):(typeof E.componentDidUpdate!="function"||$===r.memoizedProps&&Bt===r.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||$===r.memoizedProps&&Bt===r.memoizedState||(o.flags|=1024),d=!1)}return fd(r,o,u,d,S,x)}function fd(r,o,u,d,x,S){Ag(r,o);var E=(o.flags&128)!==0;if(!d&&!E)return x&&$l(o,u,!1),la(r,o,S);d=o.stateNode,Q2.current=o;var $=E&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,r!==null&&E?(o.child=hn(o,r.child,null,S),o.child=hn(o,null,$,S)):si(r,o,$,S),o.memoizedState=d.state,x&&$l(o,u,!0),o.child}function Pg(r){var o=r.stateNode;o.pendingContext?hh(r,o.pendingContext,o.pendingContext!==o.context):o.context&&hh(r,o.context,!1),Ql(r,o.containerInfo)}function Ng(r,o,u,d,x){return Oe(),Ee(x),o.flags|=256,si(r,o,u,d),o.child}var dd={dehydrated:null,treeContext:null,retryLane:0};function pd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Og(r,o,u){var d=o.pendingProps,x=xn.current,S=!1,E=(o.flags&128)!==0,$;if(($=E)||($=r!==null&&r.memoizedState===null?!1:(x&2)!==0),$?(S=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(x|=1),tn(xn,x&1),r===null)return fe(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(o.mode&1?r.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(E=d.children,r=d.fallback,S?(d=o.mode,S=o.child,E={mode:"hidden",children:E},!(d&1)&&S!==null?(S.childLanes=0,S.pendingProps=E):S=Dh(E,d,0,null),r=oc(r,d,u,null),S.return=o,r.return=o,S.sibling=r,o.child=S,o.child.memoizedState=pd(u),o.memoizedState=dd,r):gd(o,E));if(x=r.memoizedState,x!==null&&($=x.dehydrated,$!==null))return Z2(r,o,E,d,$,x,u);if(S){S=d.fallback,E=o.mode,x=r.child,$=x.sibling;var ot={mode:"hidden",children:d.children};return!(E&1)&&o.child!==x?(d=o.child,d.childLanes=0,d.pendingProps=ot,o.deletions=null):(d=fl(x,ot),d.subtreeFlags=x.subtreeFlags&14680064),$!==null?S=fl($,S):(S=oc(S,E,u,null),S.flags|=2),S.return=o,d.return=o,d.sibling=S,o.child=d,d=S,S=o.child,E=r.child.memoizedState,E=E===null?pd(u):{baseLanes:E.baseLanes|u,cachePool:null,transitions:E.transitions},S.memoizedState=E,S.childLanes=r.childLanes&~u,o.memoizedState=dd,d}return S=r.child,r=S.sibling,d=fl(S,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=u),d.return=o,d.sibling=null,r!==null&&(u=o.deletions,u===null?(o.deletions=[r],o.flags|=16):u.push(r)),o.child=d,o.memoizedState=null,d}function gd(r,o){return o=Dh({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function xh(r,o,u,d){return d!==null&&Ee(d),hn(o,r.child,null,u),r=gd(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Z2(r,o,u,d,x,S,E){if(u)return o.flags&256?(o.flags&=-257,d=cd(Error(e(422))),xh(r,o,E,d)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(S=d.fallback,x=o.mode,d=Dh({mode:"visible",children:d.children},x,0,null),S=oc(S,x,E,null),S.flags|=2,d.return=o,S.return=o,d.sibling=S,o.child=d,o.mode&1&&hn(o,r.child,null,E),o.child.memoizedState=pd(E),o.memoizedState=dd,S);if(!(o.mode&1))return xh(r,o,E,null);if(x.data==="$!"){if(d=x.nextSibling&&x.nextSibling.dataset,d)var $=d.dgst;return d=$,S=Error(e(419)),d=cd(S,d,void 0),xh(r,o,E,d)}if($=(E&r.childLanes)!==0,xi||$){if(d=pr,d!==null){switch(E&-E){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=x&(d.suspendedLanes|E)?0:x,x!==0&&x!==S.retryLane&&(S.retryLane=x,fr(r,x),Is(d,r,x,-1))}return Od(),d=cd(Error(e(421))),xh(r,o,E,d)}return x.data==="$?"?(o.flags|=128,o.child=r.child,o=fm.bind(null,r),x._reactRetry=o,null):(r=S.treeContext,at=_r(x.nextSibling),nt=o,Pt=!0,Mt=null,r!==null&&(j[I++]=rt,j[I++]=_t,j[I++]=U,rt=r.id,_t=r.overflow,U=o),o=gd(o,d.children),o.flags|=4096,o)}function Eg(r,o,u){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),zr(r.return,o,u)}function md(r,o,u,d,x){var S=r.memoizedState;S===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:x}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=d,S.tail=u,S.tailMode=x)}function Dg(r,o,u){var d=o.pendingProps,x=d.revealOrder,S=d.tail;if(si(r,o,d.children,u),d=xn.current,d&2)d=d&1|2,o.flags|=128;else{if(r!==null&&r.flags&128)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Eg(r,u,o);else if(r.tag===19)Eg(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(tn(xn,d),!(o.mode&1))o.memoizedState=null;else switch(x){case"forwards":for(u=o.child,x=null;u!==null;)r=u.alternate,r!==null&&rl(r)===null&&(x=u),u=u.sibling;u=x,u===null?(x=o.child,o.child=null):(x=u.sibling,u.sibling=null),md(o,!1,x,u,S);break;case"backwards":for(u=null,x=o.child,o.child=null;x!==null;){if(r=x.alternate,r!==null&&rl(r)===null){o.child=x;break}r=x.sibling,x.sibling=u,u=x,x=r}md(o,!0,u,null,S);break;case"together":md(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function _h(r,o){!(o.mode&1)&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function la(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),nc|=o.lanes,!(u&o.childLanes))return null;if(r!==null&&o.child!==r.child)throw Error(e(153));if(o.child!==null){for(r=o.child,u=fl(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=fl(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function tm(r,o,u){switch(o.tag){case 3:Pg(o),Oe();break;case 5:nl(o);break;case 1:Br(o.type)&&Gl(o);break;case 4:Ql(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,x=o.memoizedProps.value;tn(Ue,d._currentValue),d._currentValue=x;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(tn(xn,xn.current&1),o.flags|=128,null):u&o.child.childLanes?Og(r,o,u):(tn(xn,xn.current&1),r=la(r,o,u),r!==null?r.sibling:null);tn(xn,xn.current&1);break;case 19:if(d=(u&o.childLanes)!==0,r.flags&128){if(d)return Dg(r,o,u);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),tn(xn,xn.current),d)break;return null;case 22:case 23:return o.lanes=0,Lg(r,o,u)}return la(r,o,u)}var Mg,vd,jg,Fg;Mg=function(r,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},vd=function(){},jg=function(r,o,u,d){var x=r.memoizedProps;if(x!==d){r=o.stateNode,ls(qi.current);var S=null;switch(u){case"input":x=de(r,x),d=de(r,d),S=[];break;case"select":x=ct({},x,{value:void 0}),d=ct({},d,{value:void 0}),S=[];break;case"textarea":x=$t(r,x),d=$t(r,d),S=[];break;default:typeof x.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Ja)}cn(u,d);var E;u=null;for(Tt in x)if(!d.hasOwnProperty(Tt)&&x.hasOwnProperty(Tt)&&x[Tt]!=null)if(Tt==="style"){var $=x[Tt];for(E in $)$.hasOwnProperty(E)&&(u||(u={}),u[E]="")}else Tt!=="dangerouslySetInnerHTML"&&Tt!=="children"&&Tt!=="suppressContentEditableWarning"&&Tt!=="suppressHydrationWarning"&&Tt!=="autoFocus"&&(i.hasOwnProperty(Tt)?S||(S=[]):(S=S||[]).push(Tt,null));for(Tt in d){var ot=d[Tt];if($=x!=null?x[Tt]:void 0,d.hasOwnProperty(Tt)&&ot!==$&&(ot!=null||$!=null))if(Tt==="style")if($){for(E in $)!$.hasOwnProperty(E)||ot&&ot.hasOwnProperty(E)||(u||(u={}),u[E]="");for(E in ot)ot.hasOwnProperty(E)&&$[E]!==ot[E]&&(u||(u={}),u[E]=ot[E])}else u||(S||(S=[]),S.push(Tt,u)),u=ot;else Tt==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,$=$?$.__html:void 0,ot!=null&&$!==ot&&(S=S||[]).push(Tt,ot)):Tt==="children"?typeof ot!="string"&&typeof ot!="number"||(S=S||[]).push(Tt,""+ot):Tt!=="suppressContentEditableWarning"&&Tt!=="suppressHydrationWarning"&&(i.hasOwnProperty(Tt)?(ot!=null&&Tt==="onScroll"&&sn("scroll",r),S||$===ot||(S=[])):(S=S||[]).push(Tt,ot))}u&&(S=S||[]).push("style",u);var Tt=S;(o.updateQueue=Tt)&&(o.flags|=4)}},Fg=function(r,o,u,d){u!==d&&(o.flags|=4)};function ju(r,o){if(!Pt)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function qr(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(o)for(var x=r.child;x!==null;)u|=x.lanes|x.childLanes,d|=x.subtreeFlags&14680064,d|=x.flags&14680064,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)u|=x.lanes|x.childLanes,d|=x.subtreeFlags,d|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=d,r.childLanes=u,o}function em(r,o,u){var d=o.pendingProps;switch(Nt(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(o),null;case 1:return Br(o.type)&&Mc(),qr(o),null;case 3:return d=o.stateNode,Es(),Je(br),Je(ur),Pu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Ie(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Mt!==null&&(Td(Mt),Mt=null))),vd(r,o),qr(o),null;case 5:Tu(o);var x=ls(el.current);if(u=o.type,r!==null&&o.stateNode!=null)jg(r,o,u,d,x),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(e(166));return qr(o),null}if(r=ls(qi.current),Ie(o)){d=o.stateNode,u=o.type;var S=o.memoizedProps;switch(d[ss]=o,d[Qa]=S,r=(o.mode&1)!==0,u){case"dialog":sn("cancel",d),sn("close",d);break;case"iframe":case"object":case"embed":sn("load",d);break;case"video":case"audio":for(x=0;x<po.length;x++)sn(po[x],d);break;case"source":sn("error",d);break;case"img":case"image":case"link":sn("error",d),sn("load",d);break;case"details":sn("toggle",d);break;case"input":Dt(d,S),sn("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!S.multiple},sn("invalid",d);break;case"textarea":ce(d,S),sn("invalid",d)}cn(u,S),x=null;for(var E in S)if(S.hasOwnProperty(E)){var $=S[E];E==="children"?typeof $=="string"?d.textContent!==$&&(S.suppressHydrationWarning!==!0&&Dc(d.textContent,$,r),x=["children",$]):typeof $=="number"&&d.textContent!==""+$&&(S.suppressHydrationWarning!==!0&&Dc(d.textContent,$,r),x=["children",""+$]):i.hasOwnProperty(E)&&$!=null&&E==="onScroll"&&sn("scroll",d)}switch(u){case"input":Ut(d),oe(d,S,!0);break;case"textarea":Ut(d),Ae(d);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(d.onclick=Ja)}d=x,o.updateQueue=d,d!==null&&(o.flags|=4)}else{E=x.nodeType===9?x:x.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ne(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(u,{is:d.is}):(r=E.createElement(u),u==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,u),r[ss]=o,r[Qa]=d,Mg(r,o,!1,!1),o.stateNode=r;t:{switch(E=fi(u,d),u){case"dialog":sn("cancel",r),sn("close",r),x=d;break;case"iframe":case"object":case"embed":sn("load",r),x=d;break;case"video":case"audio":for(x=0;x<po.length;x++)sn(po[x],r);x=d;break;case"source":sn("error",r),x=d;break;case"img":case"image":case"link":sn("error",r),sn("load",r),x=d;break;case"details":sn("toggle",r),x=d;break;case"input":Dt(r,d),x=de(r,d),sn("invalid",r);break;case"option":x=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},x=ct({},d,{value:void 0}),sn("invalid",r);break;case"textarea":ce(r,d),x=$t(r,d),sn("invalid",r);break;default:x=d}cn(u,x),$=x;for(S in $)if($.hasOwnProperty(S)){var ot=$[S];S==="style"?hi(r,ot):S==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ot!=null&&ve(r,ot)):S==="children"?typeof ot=="string"?(u!=="textarea"||ot!=="")&&Pe(r,ot):typeof ot=="number"&&Pe(r,""+ot):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?ot!=null&&S==="onScroll"&&sn("scroll",r):ot!=null&&Y(r,S,ot,E))}switch(u){case"input":Ut(r),oe(r,d,!1);break;case"textarea":Ut(r),Ae(r);break;case"option":d.value!=null&&r.setAttribute("value",""+vt(d.value));break;case"select":r.multiple=!!d.multiple,S=d.value,S!=null?Gt(r,!!d.multiple,S,!1):d.defaultValue!=null&&Gt(r,!!d.multiple,d.defaultValue,!0);break;default:typeof x.onClick=="function"&&(r.onclick=Ja)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break t;case"img":d=!0;break t;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return qr(o),null;case 6:if(r&&o.stateNode!=null)Fg(r,o,r.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(e(166));if(u=ls(el.current),ls(qi.current),Ie(o)){if(d=o.stateNode,u=o.memoizedProps,d[ss]=o,(S=d.nodeValue!==u)&&(r=nt,r!==null))switch(r.tag){case 3:Dc(d.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Dc(d.nodeValue,u,(r.mode&1)!==0)}S&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[ss]=o,o.stateNode=d}return qr(o),null;case 13:if(Je(xn),d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Pt&&at!==null&&o.mode&1&&!(o.flags&128))Ge(),Oe(),o.flags|=98560,S=!1;else if(S=Ie(o),d!==null&&d.dehydrated!==null){if(r===null){if(!S)throw Error(e(318));if(S=o.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(e(317));S[ss]=o}else Oe(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;qr(o),S=!1}else Mt!==null&&(Td(Mt),Mt=null),S=!0;if(!S)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(r===null||xn.current&1?tr===0&&(tr=3):Od())),o.updateQueue!==null&&(o.flags|=4),qr(o),null);case 4:return Es(),vd(r,o),r===null&&Qo(o.stateNode.containerInfo),qr(o),null;case 10:return Qn(o.type._context),qr(o),null;case 17:return Br(o.type)&&Mc(),qr(o),null;case 19:if(Je(xn),S=o.memoizedState,S===null)return qr(o),null;if(d=(o.flags&128)!==0,E=S.rendering,E===null)if(d)ju(S,!1);else{if(tr!==0||r!==null&&r.flags&128)for(r=o.child;r!==null;){if(E=rl(r),E!==null){for(o.flags|=128,ju(S,!1),d=E.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)S=u,r=d,S.flags&=14680066,E=S.alternate,E===null?(S.childLanes=0,S.lanes=r,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=E.childLanes,S.lanes=E.lanes,S.child=E.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=E.memoizedProps,S.memoizedState=E.memoizedState,S.updateQueue=E.updateQueue,S.type=E.type,r=E.dependencies,S.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return tn(xn,xn.current&1|2),o.child}r=r.sibling}S.tail!==null&&vn()>Yc&&(o.flags|=128,d=!0,ju(S,!1),o.lanes=4194304)}else{if(!d)if(r=rl(E),r!==null){if(o.flags|=128,d=!0,u=r.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),ju(S,!0),S.tail===null&&S.tailMode==="hidden"&&!E.alternate&&!Pt)return qr(o),null}else 2*vn()-S.renderingStartTime>Yc&&u!==1073741824&&(o.flags|=128,d=!0,ju(S,!1),o.lanes=4194304);S.isBackwards?(E.sibling=o.child,o.child=E):(u=S.last,u!==null?u.sibling=E:o.child=E,S.last=E)}return S.tail!==null?(o=S.tail,S.rendering=o,S.tail=o.sibling,S.renderingStartTime=vn(),o.sibling=null,u=xn.current,tn(xn,d?u&1|2:u&1),o):(qr(o),null);case 22:case 23:return Nd(),d=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?Hi&1073741824&&(qr(o),o.subtreeFlags&6&&(o.flags|=8192)):qr(o),null;case 24:return null;case 25:return null}throw Error(e(156,o.tag))}function nm(r,o){switch(Nt(o),o.tag){case 1:return Br(o.type)&&Mc(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Es(),Je(br),Je(ur),Pu(),r=o.flags,r&65536&&!(r&128)?(o.flags=r&-65537|128,o):null;case 5:return Tu(o),null;case 13:if(Je(xn),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(e(340));Oe()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return Je(xn),null;case 4:return Es(),null;case 10:return Qn(o.type._context),null;case 22:case 23:return Nd(),null;case 24:return null;default:return null}}var bh=!1,Wr=!1,rm=typeof WeakSet=="function"?WeakSet:Set,re=null;function Vc(r,o){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){Mn(r,o,d)}else u.current=null}function yd(r,o,u){try{u()}catch(d){Mn(r,o,d)}}var Ig=!1;function im(r,o){if(Yl=Ea,r=Bl(),Go(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var x=d.anchorOffset,S=d.focusNode;d=d.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break t}var E=0,$=-1,ot=-1,Tt=0,zt=0,Wt=r,Bt=null;e:for(;;){for(var ee;Wt!==u||x!==0&&Wt.nodeType!==3||($=E+x),Wt!==S||d!==0&&Wt.nodeType!==3||(ot=E+d),Wt.nodeType===3&&(E+=Wt.nodeValue.length),(ee=Wt.firstChild)!==null;)Bt=Wt,Wt=ee;for(;;){if(Wt===r)break e;if(Bt===u&&++Tt===x&&($=E),Bt===S&&++zt===d&&(ot=E),(ee=Wt.nextSibling)!==null)break;Wt=Bt,Bt=Wt.parentNode}Wt=ee}u=$===-1||ot===-1?null:{start:$,end:ot}}else u=null}u=u||{start:0,end:0}}else u=null;for(ta={focusedElem:r,selectionRange:u},Ea=!1,re=o;re!==null;)if(o=re,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,re=r;else for(;re!==null;){o=re;try{var ie=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var ae=ie.memoizedProps,Bn=ie.memoizedState,kt=o.stateNode,ut=kt.getSnapshotBeforeUpdate(o.elementType===o.type?ae:Ms(o.type,ae),Bn);kt.__reactInternalSnapshotBeforeUpdate=ut}break;case 3:var At=o.stateNode.containerInfo;At.nodeType===1?At.textContent="":At.nodeType===9&&At.documentElement&&At.removeChild(At.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(Vt){Mn(o,o.return,Vt)}if(r=o.sibling,r!==null){r.return=o.return,re=r;break}re=o.return}return ie=Ig,Ig=!1,ie}function Fu(r,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var x=d=d.next;do{if((x.tag&r)===r){var S=x.destroy;x.destroy=void 0,S!==void 0&&yd(o,u,S)}x=x.next}while(x!==d)}}function Sh(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&r)===r){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function wd(r){var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof o=="function"?o(r):o.current=r}}function Rg(r){var o=r.alternate;o!==null&&(r.alternate=null,Rg(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[ss],delete o[Qa],delete o[Rr],delete o[id],delete o[sd])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Bg(r){return r.tag===5||r.tag===3||r.tag===4}function zg(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||Bg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function xd(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(r,o):u.insertBefore(r,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(r,u)):(o=u,o.appendChild(r)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ja));else if(d!==4&&(r=r.child,r!==null))for(xd(r,o,u),r=r.sibling;r!==null;)xd(r,o,u),r=r.sibling}function _d(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(_d(r,o,u),r=r.sibling;r!==null;)_d(r,o,u),r=r.sibling}var Ar=null,js=!1;function al(r,o,u){for(u=u.child;u!==null;)Ug(r,o,u),u=u.sibling}function Ug(r,o,u){if(pi&&typeof pi.onCommitFiberUnmount=="function")try{pi.onCommitFiberUnmount(Do,u)}catch{}switch(u.tag){case 5:Wr||Vc(u,o);case 6:var d=Ar,x=js;Ar=null,al(r,o,u),Ar=d,js=x,Ar!==null&&(js?(r=Ar,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):Ar.removeChild(u.stateNode));break;case 18:Ar!==null&&(js?(r=Ar,u=u.stateNode,r.nodeType===8?ku(r.parentNode,u):r.nodeType===1&&ku(r,u),Fi(r)):ku(Ar,u.stateNode));break;case 4:d=Ar,x=js,Ar=u.stateNode.containerInfo,js=!0,al(r,o,u),Ar=d,js=x;break;case 0:case 11:case 14:case 15:if(!Wr&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){x=d=d.next;do{var S=x,E=S.destroy;S=S.tag,E!==void 0&&(S&2||S&4)&&yd(u,o,E),x=x.next}while(x!==d)}al(r,o,u);break;case 1:if(!Wr&&(Vc(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch($){Mn(u,o,$)}al(r,o,u);break;case 21:al(r,o,u);break;case 22:u.mode&1?(Wr=(d=Wr)||u.memoizedState!==null,al(r,o,u),Wr=d):al(r,o,u);break;default:al(r,o,u)}}function qg(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new rm),o.forEach(function(d){var x=dm.bind(null,r,d);u.has(d)||(u.add(d),d.then(x,x))})}}function Fs(r,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var x=u[d];try{var S=r,E=o,$=E;t:for(;$!==null;){switch($.tag){case 5:Ar=$.stateNode,js=!1;break t;case 3:Ar=$.stateNode.containerInfo,js=!0;break t;case 4:Ar=$.stateNode.containerInfo,js=!0;break t}$=$.return}if(Ar===null)throw Error(e(160));Ug(S,E,x),Ar=null,js=!1;var ot=x.alternate;ot!==null&&(ot.return=null),x.return=null}catch(Tt){Mn(x,o,Tt)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Wg(o,r),o=o.sibling}function Wg(r,o){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Fs(o,r),xo(r),d&4){try{Fu(3,r,r.return),Sh(3,r)}catch(ae){Mn(r,r.return,ae)}try{Fu(5,r,r.return)}catch(ae){Mn(r,r.return,ae)}}break;case 1:Fs(o,r),xo(r),d&512&&u!==null&&Vc(u,u.return);break;case 5:if(Fs(o,r),xo(r),d&512&&u!==null&&Vc(u,u.return),r.flags&32){var x=r.stateNode;try{Pe(x,"")}catch(ae){Mn(r,r.return,ae)}}if(d&4&&(x=r.stateNode,x!=null)){var S=r.memoizedProps,E=u!==null?u.memoizedProps:S,$=r.type,ot=r.updateQueue;if(r.updateQueue=null,ot!==null)try{$==="input"&&S.type==="radio"&&S.name!=null&&Q(x,S),fi($,E);var Tt=fi($,S);for(E=0;E<ot.length;E+=2){var zt=ot[E],Wt=ot[E+1];zt==="style"?hi(x,Wt):zt==="dangerouslySetInnerHTML"?ve(x,Wt):zt==="children"?Pe(x,Wt):Y(x,zt,Wt,Tt)}switch($){case"input":xe(x,S);break;case"textarea":_e(x,S);break;case"select":var Bt=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!S.multiple;var ee=S.value;ee!=null?Gt(x,!!S.multiple,ee,!1):Bt!==!!S.multiple&&(S.defaultValue!=null?Gt(x,!!S.multiple,S.defaultValue,!0):Gt(x,!!S.multiple,S.multiple?[]:"",!1))}x[Qa]=S}catch(ae){Mn(r,r.return,ae)}}break;case 6:if(Fs(o,r),xo(r),d&4){if(r.stateNode===null)throw Error(e(162));x=r.stateNode,S=r.memoizedProps;try{x.nodeValue=S}catch(ae){Mn(r,r.return,ae)}}break;case 3:if(Fs(o,r),xo(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Fi(o.containerInfo)}catch(ae){Mn(r,r.return,ae)}break;case 4:Fs(o,r),xo(r);break;case 13:Fs(o,r),xo(r),x=r.child,x.flags&8192&&(S=x.memoizedState!==null,x.stateNode.isHidden=S,!S||x.alternate!==null&&x.alternate.memoizedState!==null||(Cd=vn())),d&4&&qg(r);break;case 22:if(zt=u!==null&&u.memoizedState!==null,r.mode&1?(Wr=(Tt=Wr)||zt,Fs(o,r),Wr=Tt):Fs(o,r),xo(r),d&8192){if(Tt=r.memoizedState!==null,(r.stateNode.isHidden=Tt)&&!zt&&r.mode&1)for(re=r,zt=r.child;zt!==null;){for(Wt=re=zt;re!==null;){switch(Bt=re,ee=Bt.child,Bt.tag){case 0:case 11:case 14:case 15:Fu(4,Bt,Bt.return);break;case 1:Vc(Bt,Bt.return);var ie=Bt.stateNode;if(typeof ie.componentWillUnmount=="function"){d=Bt,u=Bt.return;try{o=d,ie.props=o.memoizedProps,ie.state=o.memoizedState,ie.componentWillUnmount()}catch(ae){Mn(d,u,ae)}}break;case 5:Vc(Bt,Bt.return);break;case 22:if(Bt.memoizedState!==null){Yg(Wt);continue}}ee!==null?(ee.return=Bt,re=ee):Yg(Wt)}zt=zt.sibling}t:for(zt=null,Wt=r;;){if(Wt.tag===5){if(zt===null){zt=Wt;try{x=Wt.stateNode,Tt?(S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):($=Wt.stateNode,ot=Wt.memoizedProps.style,E=ot!=null&&ot.hasOwnProperty("display")?ot.display:null,$.style.display=Re("display",E))}catch(ae){Mn(r,r.return,ae)}}}else if(Wt.tag===6){if(zt===null)try{Wt.stateNode.nodeValue=Tt?"":Wt.memoizedProps}catch(ae){Mn(r,r.return,ae)}}else if((Wt.tag!==22&&Wt.tag!==23||Wt.memoizedState===null||Wt===r)&&Wt.child!==null){Wt.child.return=Wt,Wt=Wt.child;continue}if(Wt===r)break t;for(;Wt.sibling===null;){if(Wt.return===null||Wt.return===r)break t;zt===Wt&&(zt=null),Wt=Wt.return}zt===Wt&&(zt=null),Wt.sibling.return=Wt.return,Wt=Wt.sibling}}break;case 19:Fs(o,r),xo(r),d&4&&qg(r);break;case 21:break;default:Fs(o,r),xo(r)}}function xo(r){var o=r.flags;if(o&2){try{t:{for(var u=r.return;u!==null;){if(Bg(u)){var d=u;break t}u=u.return}throw Error(e(160))}switch(d.tag){case 5:var x=d.stateNode;d.flags&32&&(Pe(x,""),d.flags&=-33);var S=zg(r);_d(r,S,x);break;case 3:case 4:var E=d.stateNode.containerInfo,$=zg(r);xd(r,$,E);break;default:throw Error(e(161))}}catch(ot){Mn(r,r.return,ot)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function sm(r,o,u){re=r,Vg(r)}function Vg(r,o,u){for(var d=(r.mode&1)!==0;re!==null;){var x=re,S=x.child;if(x.tag===22&&d){var E=x.memoizedState!==null||bh;if(!E){var $=x.alternate,ot=$!==null&&$.memoizedState!==null||Wr;$=bh;var Tt=Wr;if(bh=E,(Wr=ot)&&!Tt)for(re=x;re!==null;)E=re,ot=E.child,E.tag===22&&E.memoizedState!==null?Xg(x):ot!==null?(ot.return=E,re=ot):Xg(x);for(;S!==null;)re=S,Vg(S),S=S.sibling;re=x,bh=$,Wr=Tt}Hg(r)}else x.subtreeFlags&8772&&S!==null?(S.return=x,re=S):Hg(r)}}function Hg(r){for(;re!==null;){var o=re;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Wr||Sh(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Wr)if(u===null)d.componentDidMount();else{var x=o.elementType===o.type?u.memoizedProps:Ms(o.type,u.memoizedProps);d.componentDidUpdate(x,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var S=o.updateQueue;S!==null&&ia(o,S,d);break;case 3:var E=o.updateQueue;if(E!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}ia(o,E,u)}break;case 5:var $=o.stateNode;if(u===null&&o.flags&4){u=$;var ot=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":ot.autoFocus&&u.focus();break;case"img":ot.src&&(u.src=ot.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Tt=o.alternate;if(Tt!==null){var zt=Tt.memoizedState;if(zt!==null){var Wt=zt.dehydrated;Wt!==null&&Fi(Wt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}Wr||o.flags&512&&wd(o)}catch(Bt){Mn(o,o.return,Bt)}}if(o===r){re=null;break}if(u=o.sibling,u!==null){u.return=o.return,re=u;break}re=o.return}}function Yg(r){for(;re!==null;){var o=re;if(o===r){re=null;break}var u=o.sibling;if(u!==null){u.return=o.return,re=u;break}re=o.return}}function Xg(r){for(;re!==null;){var o=re;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Sh(4,o)}catch(ot){Mn(o,u,ot)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var x=o.return;try{d.componentDidMount()}catch(ot){Mn(o,x,ot)}}var S=o.return;try{wd(o)}catch(ot){Mn(o,S,ot)}break;case 5:var E=o.return;try{wd(o)}catch(ot){Mn(o,E,ot)}}}catch(ot){Mn(o,o.return,ot)}if(o===r){re=null;break}var $=o.sibling;if($!==null){$.return=o.return,re=$;break}re=o.return}}var om=Math.ceil,Ch=st.ReactCurrentDispatcher,bd=st.ReactCurrentOwner,hs=st.ReactCurrentBatchConfig,Ye=0,pr=null,Gn=null,Tr=0,Hi=0,Hc=zi(0),tr=0,Iu=null,nc=0,kh=0,Sd=0,Ru=null,_i=null,Cd=0,Yc=1/0,ca=null,Lh=!1,kd=null,ll=null,Ah=!1,cl=null,Th=0,Bu=0,Ld=null,Ph=-1,Nh=0;function oi(){return Ye&6?vn():Ph!==-1?Ph:Ph=vn()}function ul(r){return r.mode&1?Ye&2&&Tr!==0?Tr&-Tr:on.transition!==null?(Nh===0&&(Nh=Tl()),Nh):(r=Ve,r!==0||(r=window.event,r=r===void 0?16:Dl(r.type)),r):1}function Is(r,o,u,d){if(50<Bu)throw Bu=0,Ld=null,Error(e(185));eo(r,u,d),(!(Ye&2)||r!==pr)&&(r===pr&&(!(Ye&2)&&(kh|=u),tr===4&&hl(r,Tr)),bi(r,d),u===1&&Ye===0&&!(o.mode&1)&&(Yc=vn()+500,jc&&_()))}function bi(r,o){var u=r.callbackNode;Mr(r,o);var d=Dr(r,r===pr?Tr:0);if(d===0)u!==null&&Eo(u),r.callbackNode=null,r.callbackPriority=0;else if(o=d&-d,r.callbackPriority!==o){if(u!=null&&Eo(u),o===1)r.tag===0?g($g.bind(null,r)):f($g.bind(null,r)),nd(function(){!(Ye&6)&&_()}),u=null;else{switch(Ta(d)){case 1:u=Zs;break;case 4:u=Ll;break;case 16:u=Ca;break;case 536870912:u=_c;break;default:u=Ca}u=r0(u,Gg.bind(null,r))}r.callbackPriority=o,r.callbackNode=u}}function Gg(r,o){if(Ph=-1,Nh=0,Ye&6)throw Error(e(327));var u=r.callbackNode;if(Xc()&&r.callbackNode!==u)return null;var d=Dr(r,r===pr?Tr:0);if(d===0)return null;if(d&30||d&r.expiredLanes||o)o=Oh(r,d);else{o=d;var x=Ye;Ye|=2;var S=Jg();(pr!==r||Tr!==o)&&(ca=null,Yc=vn()+500,ic(r,o));do try{cm();break}catch($){Kg(r,$)}while(!0);In(),Ch.current=S,Ye=x,Gn!==null?o=0:(pr=null,Tr=0,o=tr)}if(o!==0){if(o===2&&(x=Fo(r),x!==0&&(d=x,o=Ad(r,x))),o===1)throw u=Iu,ic(r,0),hl(r,d),bi(r,vn()),u;if(o===6)hl(r,d);else{if(x=r.current.alternate,!(d&30)&&!am(x)&&(o=Oh(r,d),o===2&&(S=Fo(r),S!==0&&(d=S,o=Ad(r,S))),o===1))throw u=Iu,ic(r,0),hl(r,d),bi(r,vn()),u;switch(r.finishedWork=x,r.finishedLanes=d,o){case 0:case 1:throw Error(e(345));case 2:sc(r,_i,ca);break;case 3:if(hl(r,d),(d&130023424)===d&&(o=Cd+500-vn(),10<o)){if(Dr(r,0)!==0)break;if(x=r.suspendedLanes,(x&d)!==d){oi(),r.pingedLanes|=r.suspendedLanes&x;break}r.timeoutHandle=Cu(sc.bind(null,r,_i,ca),o);break}sc(r,_i,ca);break;case 4:if(hl(r,d),(d&4194240)===d)break;for(o=r.eventTimes,x=-1;0<d;){var E=31-Zr(d);S=1<<E,E=o[E],E>x&&(x=E),d&=~S}if(d=x,d=vn()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*om(d/1960))-d,10<d){r.timeoutHandle=Cu(sc.bind(null,r,_i,ca),d);break}sc(r,_i,ca);break;case 5:sc(r,_i,ca);break;default:throw Error(e(329))}}}return bi(r,vn()),r.callbackNode===u?Gg.bind(null,r):null}function Ad(r,o){var u=Ru;return r.current.memoizedState.isDehydrated&&(ic(r,o).flags|=256),r=Oh(r,o),r!==2&&(o=_i,_i=u,o!==null&&Td(o)),r}function Td(r){_i===null?_i=r:_i.push.apply(_i,r)}function am(r){for(var o=r;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var x=u[d],S=x.getSnapshot;x=x.value;try{if(!He(S(),x))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function hl(r,o){for(o&=~Sd,o&=~kh,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var u=31-Zr(o),d=1<<u;r[u]=-1,o&=~d}}function $g(r){if(Ye&6)throw Error(e(327));Xc();var o=Dr(r,0);if(!(o&1))return bi(r,vn()),null;var u=Oh(r,o);if(r.tag!==0&&u===2){var d=Fo(r);d!==0&&(o=d,u=Ad(r,d))}if(u===1)throw u=Iu,ic(r,0),hl(r,o),bi(r,vn()),u;if(u===6)throw Error(e(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,sc(r,_i,ca),bi(r,vn()),null}function Pd(r,o){var u=Ye;Ye|=1;try{return r(o)}finally{Ye=u,Ye===0&&(Yc=vn()+500,jc&&_())}}function rc(r){cl!==null&&cl.tag===0&&!(Ye&6)&&Xc();var o=Ye;Ye|=1;var u=hs.transition,d=Ve;try{if(hs.transition=null,Ve=1,r)return r()}finally{Ve=d,hs.transition=u,Ye=o,!(Ye&6)&&_()}}function Nd(){Hi=Hc.current,Je(Hc)}function ic(r,o){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,ch(u)),Gn!==null)for(u=Gn.return;u!==null;){var d=u;switch(Nt(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Mc();break;case 3:Es(),Je(br),Je(ur),Pu();break;case 5:Tu(d);break;case 4:Es();break;case 13:Je(xn);break;case 19:Je(xn);break;case 10:Qn(d.type._context);break;case 22:case 23:Nd()}u=u.return}if(pr=r,Gn=r=fl(r.current,null),Tr=Hi=o,tr=0,Iu=null,Sd=kh=nc=0,_i=Ru=null,Lr!==null){for(o=0;o<Lr.length;o++)if(u=Lr[o],d=u.interleaved,d!==null){u.interleaved=null;var x=d.next,S=u.pending;if(S!==null){var E=S.next;S.next=x,d.next=E}u.pending=d}Lr=null}return r}function Kg(r,o){do{var u=Gn;try{if(In(),Ic.current=yh,sa){for(var d=un.memoizedState;d!==null;){var x=d.queue;x!==null&&(x.pending=null),d=d.next}sa=!1}if(yo=0,Rn=Dn=un=null,oa=!1,Ds=0,bd.current=null,u===null||u.return===null){tr=1,Iu=o,Gn=null;break}t:{var S=r,E=u.return,$=u,ot=o;if(o=Tr,$.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var Tt=ot,zt=$,Wt=zt.tag;if(!(zt.mode&1)&&(Wt===0||Wt===11||Wt===15)){var Bt=zt.alternate;Bt?(zt.updateQueue=Bt.updateQueue,zt.memoizedState=Bt.memoizedState,zt.lanes=Bt.lanes):(zt.updateQueue=null,zt.memoizedState=null)}var ee=_g(E);if(ee!==null){ee.flags&=-257,bg(ee,E,$,S,o),ee.mode&1&&xg(S,Tt,o),o=ee,ot=Tt;var ie=o.updateQueue;if(ie===null){var ae=new Set;ae.add(ot),o.updateQueue=ae}else ie.add(ot);break t}else{if(!(o&1)){xg(S,Tt,o),Od();break t}ot=Error(e(426))}}else if(Pt&&$.mode&1){var Bn=_g(E);if(Bn!==null){!(Bn.flags&65536)&&(Bn.flags|=256),bg(Bn,E,$,S,o),Ee(Wc(ot,$));break t}}S=ot=Wc(ot,$),tr!==4&&(tr=2),Ru===null?Ru=[S]:Ru.push(S),S=E;do{switch(S.tag){case 3:S.flags|=65536,o&=-o,S.lanes|=o;var kt=yg(S,ot,o);Jl(S,kt);break t;case 1:$=ot;var ut=S.type,At=S.stateNode;if(!(S.flags&128)&&(typeof ut.getDerivedStateFromError=="function"||At!==null&&typeof At.componentDidCatch=="function"&&(ll===null||!ll.has(At)))){S.flags|=65536,o&=-o,S.lanes|=o;var Vt=wg(S,$,o);Jl(S,Vt);break t}}S=S.return}while(S!==null)}Zg(u)}catch(le){o=le,Gn===u&&u!==null&&(Gn=u=u.return);continue}break}while(!0)}function Jg(){var r=Ch.current;return Ch.current=yh,r===null?yh:r}function Od(){(tr===0||tr===3||tr===2)&&(tr=4),pr===null||!(nc&268435455)&&!(kh&268435455)||hl(pr,Tr)}function Oh(r,o){var u=Ye;Ye|=2;var d=Jg();(pr!==r||Tr!==o)&&(ca=null,ic(r,o));do try{lm();break}catch(x){Kg(r,x)}while(!0);if(In(),Ye=u,Ch.current=d,Gn!==null)throw Error(e(261));return pr=null,Tr=0,tr}function lm(){for(;Gn!==null;)Qg(Gn)}function cm(){for(;Gn!==null&&!Sa();)Qg(Gn)}function Qg(r){var o=n0(r.alternate,r,Hi);r.memoizedProps=r.pendingProps,o===null?Zg(r):Gn=o,bd.current=null}function Zg(r){var o=r;do{var u=o.alternate;if(r=o.return,o.flags&32768){if(u=nm(u,o),u!==null){u.flags&=32767,Gn=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{tr=6,Gn=null;return}}else if(u=em(u,o,Hi),u!==null){Gn=u;return}if(o=o.sibling,o!==null){Gn=o;return}Gn=o=r}while(o!==null);tr===0&&(tr=5)}function sc(r,o,u){var d=Ve,x=hs.transition;try{hs.transition=null,Ve=1,um(r,o,u,d)}finally{hs.transition=x,Ve=d}return null}function um(r,o,u,d){do Xc();while(cl!==null);if(Ye&6)throw Error(e(327));u=r.finishedWork;var x=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(e(177));r.callbackNode=null,r.callbackPriority=0;var S=u.lanes|u.childLanes;if(xu(r,S),r===pr&&(Gn=pr=null,Tr=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Ah||(Ah=!0,r0(Ca,function(){return Xc(),null})),S=(u.flags&15990)!==0,u.subtreeFlags&15990||S){S=hs.transition,hs.transition=null;var E=Ve;Ve=1;var $=Ye;Ye|=4,bd.current=null,im(r,u),Wg(u,r),$o(ta),Ea=!!Yl,ta=Yl=null,r.current=u,sm(u),xc(),Ye=$,Ve=E,hs.transition=S}else r.current=u;if(Ah&&(Ah=!1,cl=r,Th=x),S=r.pendingLanes,S===0&&(ll=null),ka(u.stateNode),bi(r,vn()),o!==null)for(d=r.onRecoverableError,u=0;u<o.length;u++)x=o[u],d(x.value,{componentStack:x.stack,digest:x.digest});if(Lh)throw Lh=!1,r=kd,kd=null,r;return Th&1&&r.tag!==0&&Xc(),S=r.pendingLanes,S&1?r===Ld?Bu++:(Bu=0,Ld=r):Bu=0,_(),null}function Xc(){if(cl!==null){var r=Ta(Th),o=hs.transition,u=Ve;try{if(hs.transition=null,Ve=16>r?16:r,cl===null)var d=!1;else{if(r=cl,cl=null,Th=0,Ye&6)throw Error(e(331));var x=Ye;for(Ye|=4,re=r.current;re!==null;){var S=re,E=S.child;if(re.flags&16){var $=S.deletions;if($!==null){for(var ot=0;ot<$.length;ot++){var Tt=$[ot];for(re=Tt;re!==null;){var zt=re;switch(zt.tag){case 0:case 11:case 15:Fu(8,zt,S)}var Wt=zt.child;if(Wt!==null)Wt.return=zt,re=Wt;else for(;re!==null;){zt=re;var Bt=zt.sibling,ee=zt.return;if(Rg(zt),zt===Tt){re=null;break}if(Bt!==null){Bt.return=ee,re=Bt;break}re=ee}}}var ie=S.alternate;if(ie!==null){var ae=ie.child;if(ae!==null){ie.child=null;do{var Bn=ae.sibling;ae.sibling=null,ae=Bn}while(ae!==null)}}re=S}}if(S.subtreeFlags&2064&&E!==null)E.return=S,re=E;else t:for(;re!==null;){if(S=re,S.flags&2048)switch(S.tag){case 0:case 11:case 15:Fu(9,S,S.return)}var kt=S.sibling;if(kt!==null){kt.return=S.return,re=kt;break t}re=S.return}}var ut=r.current;for(re=ut;re!==null;){E=re;var At=E.child;if(E.subtreeFlags&2064&&At!==null)At.return=E,re=At;else t:for(E=ut;re!==null;){if($=re,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:Sh(9,$)}}catch(le){Mn($,$.return,le)}if($===E){re=null;break t}var Vt=$.sibling;if(Vt!==null){Vt.return=$.return,re=Vt;break t}re=$.return}}if(Ye=x,_(),pi&&typeof pi.onPostCommitFiberRoot=="function")try{pi.onPostCommitFiberRoot(Do,r)}catch{}d=!0}return d}finally{Ve=u,hs.transition=o}}return!1}function t0(r,o,u){o=Wc(u,o),o=yg(r,o,1),r=Ui(r,o,1),o=oi(),r!==null&&(eo(r,1,o),bi(r,o))}function Mn(r,o,u){if(r.tag===3)t0(r,r,u);else for(;o!==null;){if(o.tag===3){t0(o,r,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ll===null||!ll.has(d))){r=Wc(u,r),r=wg(o,r,1),o=Ui(o,r,1),r=oi(),o!==null&&(eo(o,1,r),bi(o,r));break}}o=o.return}}function hm(r,o,u){var d=r.pingCache;d!==null&&d.delete(o),o=oi(),r.pingedLanes|=r.suspendedLanes&u,pr===r&&(Tr&u)===u&&(tr===4||tr===3&&(Tr&130023424)===Tr&&500>vn()-Cd?ic(r,0):Sd|=u),bi(r,o)}function e0(r,o){o===0&&(r.mode&1?(o=to,to<<=1,!(to&130023424)&&(to=4194304)):o=1);var u=oi();r=fr(r,o),r!==null&&(eo(r,o,u),bi(r,u))}function fm(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),e0(r,u)}function dm(r,o){var u=0;switch(r.tag){case 13:var d=r.stateNode,x=r.memoizedState;x!==null&&(u=x.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(e(314))}d!==null&&d.delete(o),e0(r,u)}var n0;n0=function(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps||br.current)xi=!0;else{if(!(r.lanes&u)&&!(o.flags&128))return xi=!1,tm(r,o,u);xi=!!(r.flags&131072)}else xi=!1,Pt&&o.flags&1048576&&gt(o,M,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;_h(r,o),r=o.pendingProps;var x=tl(o,ur.current);kr(o,u),x=Rc(null,o,d,r,x,u);var S=Zl();return o.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Br(d)?(S=!0,Gl(o)):S=!1,o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Kl(o),x.updater=wh,o.stateNode=x,x._reactInternals=o,ld(o,d,r,u),o=fd(null,o,d,!0,S,u)):(o.tag=0,Pt&&S&&jt(o),si(null,o,x,u),o=o.child),o;case 16:d=o.elementType;t:{switch(_h(r,o),r=o.pendingProps,x=d._init,d=x(d._payload),o.type=d,x=o.tag=gm(d),r=Ms(d,r),x){case 0:o=hd(null,o,d,r,u);break t;case 1:o=Tg(null,o,d,r,u);break t;case 11:o=Sg(null,o,d,r,u);break t;case 14:o=Cg(null,o,d,Ms(d.type,r),u);break t}throw Error(e(306,d,""))}return o;case 0:return d=o.type,x=o.pendingProps,x=o.elementType===d?x:Ms(d,x),hd(r,o,d,x,u);case 1:return d=o.type,x=o.pendingProps,x=o.elementType===d?x:Ms(d,x),Tg(r,o,d,x,u);case 3:t:{if(Pg(o),r===null)throw Error(e(387));d=o.pendingProps,S=o.memoizedState,x=S.element,Au(r,o),Ur(o,d,null,u);var E=o.memoizedState;if(d=E.element,S.isDehydrated)if(S={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){x=Wc(Error(e(423)),o),o=Ng(r,o,d,u,x);break t}else if(d!==x){x=Wc(Error(e(424)),o),o=Ng(r,o,d,u,x);break t}else for(at=_r(o.stateNode.containerInfo.firstChild),nt=o,Pt=!0,Mt=null,u=Cr(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Oe(),d===x){o=la(r,o,u);break t}si(r,o,d,u)}o=o.child}return o;case 5:return nl(o),r===null&&fe(o),d=o.type,x=o.pendingProps,S=r!==null?r.memoizedProps:null,E=x.children,Su(d,x)?E=null:S!==null&&Su(d,S)&&(o.flags|=32),Ag(r,o),si(r,o,E,u),o.child;case 6:return r===null&&fe(o),null;case 13:return Og(r,o,u);case 4:return Ql(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=hn(o,null,d,u):si(r,o,d,u),o.child;case 11:return d=o.type,x=o.pendingProps,x=o.elementType===d?x:Ms(d,x),Sg(r,o,d,x,u);case 7:return si(r,o,o.pendingProps,u),o.child;case 8:return si(r,o,o.pendingProps.children,u),o.child;case 12:return si(r,o,o.pendingProps.children,u),o.child;case 10:t:{if(d=o.type._context,x=o.pendingProps,S=o.memoizedProps,E=x.value,tn(Ue,d._currentValue),d._currentValue=E,S!==null)if(He(S.value,E)){if(S.children===x.children&&!br.current){o=la(r,o,u);break t}}else for(S=o.child,S!==null&&(S.return=o);S!==null;){var $=S.dependencies;if($!==null){E=S.child;for(var ot=$.firstContext;ot!==null;){if(ot.context===d){if(S.tag===1){ot=os(-1,u&-u),ot.tag=2;var Tt=S.updateQueue;if(Tt!==null){Tt=Tt.shared;var zt=Tt.pending;zt===null?ot.next=ot:(ot.next=zt.next,zt.next=ot),Tt.pending=ot}}S.lanes|=u,ot=S.alternate,ot!==null&&(ot.lanes|=u),zr(S.return,u,o),$.lanes|=u;break}ot=ot.next}}else if(S.tag===10)E=S.type===o.type?null:S.child;else if(S.tag===18){if(E=S.return,E===null)throw Error(e(341));E.lanes|=u,$=E.alternate,$!==null&&($.lanes|=u),zr(E,u,o),E=S.sibling}else E=S.child;if(E!==null)E.return=S;else for(E=S;E!==null;){if(E===o){E=null;break}if(S=E.sibling,S!==null){S.return=E.return,E=S;break}E=E.return}S=E}si(r,o,x.children,u),o=o.child}return o;case 9:return x=o.type,d=o.pendingProps.children,kr(o,u),x=Qe(x),d=d(x),o.flags|=1,si(r,o,d,u),o.child;case 14:return d=o.type,x=Ms(d,o.pendingProps),x=Ms(d.type,x),Cg(r,o,d,x,u);case 15:return kg(r,o,o.type,o.pendingProps,u);case 17:return d=o.type,x=o.pendingProps,x=o.elementType===d?x:Ms(d,x),_h(r,o),o.tag=1,Br(d)?(r=!0,Gl(o)):r=!1,kr(o,u),mg(o,d,x),ld(o,d,x,u),fd(null,o,d,!0,r,u);case 19:return Dg(r,o,u);case 22:return Lg(r,o,u)}throw Error(e(156,o.tag))};function r0(r,o){return Oo(r,o)}function pm(r,o,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(r,o,u,d){return new pm(r,o,u,d)}function Ed(r){return r=r.prototype,!(!r||!r.isReactComponent)}function gm(r){if(typeof r=="function")return Ed(r)?1:0;if(r!=null){if(r=r.$$typeof,r===B)return 11;if(r===Lt)return 14}return 2}function fl(r,o){var u=r.alternate;return u===null?(u=fs(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function Eh(r,o,u,d,x,S){var E=2;if(d=r,typeof r=="function")Ed(r)&&(E=1);else if(typeof r=="string")E=5;else t:switch(r){case tt:return oc(u.children,x,S,o);case q:E=8,x|=8;break;case dt:return r=fs(12,u,o,x|2),r.elementType=dt,r.lanes=S,r;case G:return r=fs(13,u,o,x),r.elementType=G,r.lanes=S,r;case H:return r=fs(19,u,o,x),r.elementType=H,r.lanes=S,r;case Ct:return Dh(u,x,S,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case bt:E=10;break t;case R:E=9;break t;case B:E=11;break t;case Lt:E=14;break t;case wt:E=16,d=null;break t}throw Error(e(130,r==null?r:typeof r,""))}return o=fs(E,u,o,x),o.elementType=r,o.type=d,o.lanes=S,o}function oc(r,o,u,d){return r=fs(7,r,d,o),r.lanes=u,r}function Dh(r,o,u,d){return r=fs(22,r,d,o),r.elementType=Ct,r.lanes=u,r.stateNode={isHidden:!1},r}function Dd(r,o,u){return r=fs(6,r,null,o),r.lanes=u,r}function Md(r,o,u){return o=fs(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function mm(r,o,u,d,x){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.identifierPrefix=d,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function jd(r,o,u,d,x,S,E,$,ot){return r=new mm(r,o,u,$,ot),o===1?(o=1,S===!0&&(o|=8)):o=0,S=fs(3,null,null,o),r.current=S,S.stateNode=r,S.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kl(S),r}function vm(r,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mt,key:d==null?null:""+d,children:r,containerInfo:o,implementation:u}}function i0(r){if(!r)return Ps;r=r._reactInternals;t:{if(Kn(r)!==r||r.tag!==1)throw Error(e(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(Br(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(o!==null);throw Error(e(171))}if(r.tag===1){var u=r.type;if(Br(u))return fh(r,u,o)}return o}function s0(r,o,u,d,x,S,E,$,ot){return r=jd(u,d,!0,r,x,S,E,$,ot),r.context=i0(null),u=r.current,d=oi(),x=ul(u),S=os(d,x),S.callback=o??null,Ui(u,S,x),r.current.lanes=x,eo(r,x,d),bi(r,d),r}function Mh(r,o,u,d){var x=o.current,S=oi(),E=ul(x);return u=i0(u),o.context===null?o.context=u:o.pendingContext=u,o=os(S,E),o.payload={element:r},d=d===void 0?null:d,d!==null&&(o.callback=d),r=Ui(x,o,E),r!==null&&(Is(r,x,E,S),mo(r,x,E)),E}function jh(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function o0(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function Fd(r,o){o0(r,o),(r=r.alternate)&&o0(r,o)}var a0=typeof reportError=="function"?reportError:function(r){console.error(r)};function Id(r){this._internalRoot=r}Fh.prototype.render=Id.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(e(409));Mh(r,o,null,null)},Fh.prototype.unmount=Id.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;rc(function(){Mh(null,r,null,null)}),o[cr]=null}};function Fh(r){this._internalRoot=r}Fh.prototype.unstable_scheduleHydration=function(r){if(r){var o=Ki();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Qi.length&&o!==0&&o<Qi[u].priority;u++);Qi.splice(u,0,r),u===0&&Na(r)}};function Rd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ih(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function l0(){}function ym(r,o,u,d,x){if(x){if(typeof d=="function"){var S=d;d=function(){var Tt=jh(E);S.call(Tt)}}var E=s0(o,d,r,0,null,!1,!1,"",l0);return r._reactRootContainer=E,r[cr]=E.current,Qo(r.nodeType===8?r.parentNode:r),rc(),E}for(;x=r.lastChild;)r.removeChild(x);if(typeof d=="function"){var $=d;d=function(){var Tt=jh(ot);$.call(Tt)}}var ot=jd(r,0,!1,null,null,!1,!1,"",l0);return r._reactRootContainer=ot,r[cr]=ot.current,Qo(r.nodeType===8?r.parentNode:r),rc(function(){Mh(o,ot,u,d)}),ot}function Rh(r,o,u,d,x){var S=u._reactRootContainer;if(S){var E=S;if(typeof x=="function"){var $=x;x=function(){var ot=jh(E);$.call(ot)}}Mh(o,E,r,x)}else E=ym(u,o,r,x,d);return jh(E)}Cc=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var u=jo(o.pendingLanes);u!==0&&(Aa(o,u|1),bi(o,vn()),!(Ye&6)&&(Yc=vn()+500,_()))}break;case 13:rc(function(){var d=fr(r,1);if(d!==null){var x=oi();Is(d,r,1,x)}}),Fd(r,1)}},Nl=function(r){if(r.tag===13){var o=fr(r,134217728);if(o!==null){var u=oi();Is(o,r,134217728,u)}Fd(r,134217728)}},kc=function(r){if(r.tag===13){var o=ul(r),u=fr(r,o);if(u!==null){var d=oi();Is(u,r,o,d)}Fd(r,o)}},Ki=function(){return Ve},Io=function(r,o){var u=Ve;try{return Ve=r,o()}finally{Ve=u}},dn=function(r,o,u){switch(o){case"input":if(xe(r,u),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==r&&d.form===r.form){var x=Xl(d);if(!x)throw Error(e(90));Qt(d),xe(d,x)}}}break;case"textarea":_e(r,u);break;case"select":o=u.value,o!=null&&Gt(r,!!u.multiple,o,!1)}},Ks=Pd,Hn=rc;var wm={usingClientEntryPoint:!1,Events:[Za,ea,Xl,be,We,Pd]},zu={findFiberByHostInstance:go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xm={bundleType:zu.bundleType,version:zu.version,rendererPackageName:zu.rendererPackageName,rendererConfig:zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:st.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Qs(r),r===null?null:r.stateNode},findFiberByHostInstance:zu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{Do=Bh.inject(xm),pi=Bh}catch{}}return Si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wm,Si.createPortal=function(r,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rd(o))throw Error(e(200));return vm(r,o,null,u)},Si.createRoot=function(r,o){if(!Rd(r))throw Error(e(299));var u=!1,d="",x=a0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),o=jd(r,1,!1,null,null,u,!1,d,x),r[cr]=o.current,Qo(r.nodeType===8?r.parentNode:r),new Id(o)},Si.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(e(188)):(r=Object.keys(r).join(","),Error(e(268,r)));return r=Qs(o),r=r===null?null:r.stateNode,r},Si.flushSync=function(r){return rc(r)},Si.hydrate=function(r,o,u){if(!Ih(o))throw Error(e(200));return Rh(null,r,o,!0,u)},Si.hydrateRoot=function(r,o,u){if(!Rd(r))throw Error(e(405));var d=u!=null&&u.hydratedSources||null,x=!1,S="",E=a0;if(u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(S=u.identifierPrefix),u.onRecoverableError!==void 0&&(E=u.onRecoverableError)),o=s0(o,null,r,1,u??null,x,!1,S,E),r[cr]=o.current,Qo(r),d)for(r=0;r<d.length;r++)u=d[r],x=u._getVersion,x=x(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,x]:o.mutableSourceEagerHydrationData.push(u,x);return new Fh(o)},Si.render=function(r,o,u){if(!Ih(o))throw Error(e(200));return Rh(null,r,o,!1,u)},Si.unmountComponentAtNode=function(r){if(!Ih(r))throw Error(e(40));return r._reactRootContainer?(rc(function(){Rh(null,null,r,!1,function(){r._reactRootContainer=null,r[cr]=null})}),!0):!1},Si.unstable_batchedUpdates=Pd,Si.unstable_renderSubtreeIntoContainer=function(r,o,u,d){if(!Ih(u))throw Error(e(200));if(r==null||r._reactInternals===void 0)throw Error(e(38));return Rh(r,o,u,!1,d)},Si.version="18.3.1-next-f1338f8080-20240426",Si}var m0;function Tm(){if(m0)return Ud.exports;m0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ud.exports=Am(),Ud.exports}var v0;function Pm(){if(v0)return zh;v0=1;var a=Tm();return zh.createRoot=a.createRoot,zh.hydrateRoot=a.hydrateRoot,zh}var Nm=Pm();function lt(a,t,e){return(t=function(n){var i=function(s,l){if(typeof s!="object"||!s)return s;var c=s[Symbol.toPrimitive];if(c!==void 0){var h=c.call(s,l||"default");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(s)}(n,"string");return typeof i=="symbol"?i:i+""}(t))in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}function y0(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable})),e.push.apply(e,n)}return e}function ht(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?y0(Object(e),!0).forEach(function(n){lt(a,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):y0(Object(e)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(e,n))})}return a}function kn(a,t){if(a==null)return{};var e,n,i=function(l,c){if(l==null)return{};var h={};for(var p in l)if({}.hasOwnProperty.call(l,p)){if(c.indexOf(p)>=0)continue;h[p]=l[p]}return h}(a,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);for(n=0;n<s.length;n++)e=s[n],t.indexOf(e)>=0||{}.propertyIsEnumerable.call(a,e)&&(i[e]=a[e])}return i}function Cl(a,t){return t||(t=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(t)}}))}let w0=class{constructor(){lt(this,"browserShadowBlurConstant",1),lt(this,"DPI",96),lt(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),lt(this,"perfLimitSizeTotal",2097152),lt(this,"maxCacheSideLimit",4096),lt(this,"minCacheSideLimit",256),lt(this,"disableStyleCopyPaste",!1),lt(this,"enableGLFiltering",!0),lt(this,"textureSize",4096),lt(this,"forceGLPutImageData",!1),lt(this,"cachesBoundsOfCurve",!1),lt(this,"fontPaths",{}),lt(this,"NUM_FRACTION_DIGITS",4)}};const Xe=new class extends w0{constructor(a){super(),this.configure(a)}configure(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,a)}addFonts(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=ht(ht({},this.fontPaths),a)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(a=>{delete this.fontPaths[a]})}clearFonts(){this.fontPaths={}}restoreDefaults(a){const t=new w0,e=(a==null?void 0:a.reduce((n,i)=>(n[i]=t[i],n),{}))||t;this.configure(e)}},xl=function(a){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];return console[a]("fabric",...e)};let Co=class extends Error{constructor(t,e){super("fabric: ".concat(t),e)}},Om=class extends Co{constructor(t){super("".concat(t," 'options.signal' is in 'aborted' state"))}},Em=class{},Dm=class extends Em{testPrecision(t,e){const n="precision ".concat(e,` float;
void main(){}`),i=t.createShader(t.FRAGMENT_SHADER);return!!i&&(t.shaderSource(i,n),t.compileShader(i),!!t.getShaderParameter(i,t.COMPILE_STATUS))}queryWebGL(t){const e=t.getContext("webgl");e&&(this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(n=>this.testPrecision(e,n)),e.getExtension("WEBGL_lose_context").loseContext(),xl("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(t){return!!this.maxTextureSize&&this.maxTextureSize>=t}};const Mm={};let x0;const Ao=()=>x0||(x0={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new Dm,dispose(){},copyPasteData:Mm}),du=()=>Ao().document,Rp=()=>Ao().window,_1=()=>{var a;return Math.max((a=Xe.devicePixelRatio)!==null&&a!==void 0?a:Rp().devicePixelRatio,1)},Yu=new class{constructor(){lt(this,"charWidthsCache",{}),lt(this,"boundsOfCurveCache",{})}getFontCache(a){let{fontFamily:t,fontStyle:e,fontWeight:n}=a;t=t.toLowerCase(),this.charWidthsCache[t]||(this.charWidthsCache[t]={});const i=this.charWidthsCache[t],s="".concat(e.toLowerCase(),"_").concat((n+"").toLowerCase());return i[s]||(i[s]={}),i[s]}clearFontCache(a){(a=(a||"").toLowerCase())?this.charWidthsCache[a]&&delete this.charWidthsCache[a]:this.charWidthsCache={}}limitDimsByArea(a){const{perfLimitSizeTotal:t}=Xe,e=Math.sqrt(t*a);return[Math.floor(e),Math.floor(t/e)]}},fp="6.5.4";function vf(){}const rh=Math.PI/2,Lf=2*Math.PI,Bp=Math.PI/180,ui=Object.freeze([1,0,0,1,0,0]),zp=16,pl=.4477152502,De="center",en="left",Li="top",dp="bottom",zn="right",Ai="none",Up=/\r?\n/,b1="moving",Uf="scaling",S1="rotating",qp="rotate",C1="skewing",Ju="resizing",jm="modifyPoly",Fm="modifyPath",Af="changed",qf="scale",Pi="scaleX",gs="scaleY",pu="skewX",gu="skewY",er="fill",Ti="stroke",Tf="modified",Gc="json",Vd="svg",ne=new class{constructor(){this[Gc]=new Map,this[Vd]=new Map}has(a){return this[Gc].has(a)}getClass(a){const t=this[Gc].get(a);if(!t)throw new Co("No class registered for ".concat(a));return t}setClass(a,t){t?this[Gc].set(t,a):(this[Gc].set(a.type,a),this[Gc].set(a.type.toLowerCase(),a))}getSVGClass(a){return this[Vd].get(a)}setSVGClass(a,t){this[Vd].set(t??a.type.toLowerCase(),a)}},Pf=new class extends Array{remove(a){const t=this.indexOf(a);t>-1&&this.splice(t,1)}cancelAll(){const a=this.splice(0);return a.forEach(t=>t.abort()),a}cancelByCanvas(a){if(!a)return[];const t=this.filter(e=>{var n;return e.target===a||typeof e.target=="object"&&((n=e.target)===null||n===void 0?void 0:n.canvas)===a});return t.forEach(e=>e.abort()),t}cancelByTarget(a){if(!a)return[];const t=this.filter(e=>e.target===a);return t.forEach(e=>e.abort()),t}};let Im=class{constructor(){lt(this,"__eventListeners",{})}on(t,e){if(this.__eventListeners||(this.__eventListeners={}),typeof t=="object")return Object.entries(t).forEach(n=>{let[i,s]=n;this.on(i,s)}),()=>this.off(t);if(e){const n=t;return this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(e),()=>this.off(n,e)}return()=>!1}once(t,e){if(typeof t=="object"){const n=[];return Object.entries(t).forEach(i=>{let[s,l]=i;n.push(this.once(s,l))}),()=>n.forEach(i=>i())}if(e){const n=this.on(t,function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];e.call(this,...s),n()});return n}return()=>!1}_removeEventListener(t,e){if(this.__eventListeners[t])if(e){const n=this.__eventListeners[t],i=n.indexOf(e);i>-1&&n.splice(i,1)}else this.__eventListeners[t]=[]}off(t,e){if(this.__eventListeners)if(t===void 0)for(const n in this.__eventListeners)this._removeEventListener(n);else typeof t=="object"?Object.entries(t).forEach(n=>{let[i,s]=n;this._removeEventListener(i,s)}):this._removeEventListener(t,e)}fire(t,e){var n;if(!this.__eventListeners)return;const i=(n=this.__eventListeners[t])===null||n===void 0?void 0:n.concat();if(i)for(let s=0;s<i.length;s++)i[s].call(this,e||{})}};const Qc=(a,t)=>{const e=a.indexOf(t);return e!==-1&&a.splice(e,1),a},wa=a=>{if(a===0)return 1;switch(Math.abs(a)/rh){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},xa=a=>{if(a===0)return 0;const t=a/rh,e=Math.sign(a);switch(t){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(a)};let Et=class ai{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof t=="object"?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e)}add(t){return new ai(this.x+t.x,this.y+t.y)}addEquals(t){return this.x+=t.x,this.y+=t.y,this}scalarAdd(t){return new ai(this.x+t,this.y+t)}scalarAddEquals(t){return this.x+=t,this.y+=t,this}subtract(t){return new ai(this.x-t.x,this.y-t.y)}subtractEquals(t){return this.x-=t.x,this.y-=t.y,this}scalarSubtract(t){return new ai(this.x-t,this.y-t)}scalarSubtractEquals(t){return this.x-=t,this.y-=t,this}multiply(t){return new ai(this.x*t.x,this.y*t.y)}scalarMultiply(t){return new ai(this.x*t,this.y*t)}scalarMultiplyEquals(t){return this.x*=t,this.y*=t,this}divide(t){return new ai(this.x/t.x,this.y/t.y)}scalarDivide(t){return new ai(this.x/t,this.y/t)}scalarDivideEquals(t){return this.x/=t,this.y/=t,this}eq(t){return this.x===t.x&&this.y===t.y}lt(t){return this.x<t.x&&this.y<t.y}lte(t){return this.x<=t.x&&this.y<=t.y}gt(t){return this.x>t.x&&this.y>t.y}gte(t){return this.x>=t.x&&this.y>=t.y}lerp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return e=Math.max(Math.min(1,e),0),new ai(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)}distanceFrom(t){const e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)}midPointFrom(t){return this.lerp(t)}min(t){return new ai(Math.min(this.x,t.x),Math.min(this.y,t.y))}max(t){return new ai(Math.max(this.x,t.x),Math.max(this.y,t.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(t,e){return this.x=t,this.y=e,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setFromPoint(t){return this.x=t.x,this.y=t.y,this}swap(t){const e=this.x,n=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=n}clone(){return new ai(this.x,this.y)}rotate(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wp;const n=xa(t),i=wa(t),s=this.subtract(e);return new ai(s.x*i-s.y*n,s.x*n+s.y*i).add(e)}transform(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new ai(t[0]*this.x+t[2]*this.y+(e?0:t[4]),t[1]*this.x+t[3]*this.y+(e?0:t[5]))}};const Wp=new Et(0,0),yf=a=>!!a&&Array.isArray(a._objects);function k1(a){class t extends a{constructor(){super(...arguments),lt(this,"_objects",[])}_onObjectAdded(n){}_onObjectRemoved(n){}_onStackOrderChanged(n){}add(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];const l=this._objects.push(...i);return i.forEach(c=>this._onObjectAdded(c)),l}insertAt(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];return this._objects.splice(n,0,...s),s.forEach(c=>this._onObjectAdded(c)),this._objects.length}remove(){const n=this._objects,i=[];for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return l.forEach(h=>{const p=n.indexOf(h);p!==-1&&(n.splice(p,1),i.push(h),this._onObjectRemoved(h))}),i}forEachObject(n){this.getObjects().forEach((i,s,l)=>n(i,s,l))}getObjects(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return i.length===0?[...this._objects]:this._objects.filter(l=>l.isType(...i))}item(n){return this._objects[n]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(n,i){return!!this._objects.includes(n)||!!i&&this._objects.some(s=>s instanceof t&&s.contains(n,!0))}complexity(){return this._objects.reduce((n,i)=>n+=i.complexity?i.complexity():0,0)}sendObjectToBack(n){return!(!n||n===this._objects[0])&&(Qc(this._objects,n),this._objects.unshift(n),this._onStackOrderChanged(n),!0)}bringObjectToFront(n){return!(!n||n===this._objects[this._objects.length-1])&&(Qc(this._objects,n),this._objects.push(n),this._onStackOrderChanged(n),!0)}sendObjectBackwards(n,i){if(!n)return!1;const s=this._objects.indexOf(n);if(s!==0){const l=this.findNewLowerIndex(n,s,i);return Qc(this._objects,n),this._objects.splice(l,0,n),this._onStackOrderChanged(n),!0}return!1}bringObjectForward(n,i){if(!n)return!1;const s=this._objects.indexOf(n);if(s!==this._objects.length-1){const l=this.findNewUpperIndex(n,s,i);return Qc(this._objects,n),this._objects.splice(l,0,n),this._onStackOrderChanged(n),!0}return!1}moveObjectTo(n,i){return n!==this._objects[i]&&(Qc(this._objects,n),this._objects.splice(i,0,n),this._onStackOrderChanged(n),!0)}findNewLowerIndex(n,i,s){let l;if(s){l=i;for(let c=i-1;c>=0;--c)if(n.isOverlapping(this._objects[c])){l=c;break}}else l=i-1;return l}findNewUpperIndex(n,i,s){let l;if(s){l=i;for(let c=i+1;c<this._objects.length;++c)if(n.isOverlapping(this._objects[c])){l=c;break}}else l=i+1;return l}collectObjects(n){let{left:i,top:s,width:l,height:c}=n,{includeIntersecting:h=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const p=[],m=new Et(i,s),w=m.add(new Et(l,c));for(let b=this._objects.length-1;b>=0;b--){const y=this._objects[b];y.selectable&&y.visible&&(h&&y.intersectsWithRect(m,w)||y.isContainedWithinRect(m,w)||h&&y.containsPoint(m)||h&&y.containsPoint(w))&&p.push(y)}return p}}return t}let L1=class extends Im{_setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const e in t)this.set(e,t[e])}_setObject(t){for(const e in t)this._set(e,t[e])}set(t,e){return typeof t=="object"?this._setObject(t):this._set(t,e),this}_set(t,e){this[t]=e}toggle(t){const e=this.get(t);return typeof e=="boolean"&&this.set(t,!e),this}get(t){return this[t]}};function wf(a){return Rp().requestAnimationFrame(a)}function Rm(a){return Rp().cancelAnimationFrame(a)}let Bm=0;const _l=()=>Bm++,Xs=()=>{const a=du().createElement("canvas");if(!a||a.getContext===void 0)throw new Co("Failed to create `canvas` element");return a},zm=()=>du().createElement("img"),To=a=>{const t=Xs();return t.width=a.width,t.height=a.height,t},A1=(a,t,e)=>a.toDataURL("image/".concat(t),e),Vn=a=>a*Bp,mc=a=>a/Bp,Um=a=>a.every((t,e)=>t===ui[e]),Ci=(a,t,e)=>new Et(a).transform(t,e),Hs=a=>{const t=1/(a[0]*a[3]-a[1]*a[2]),e=[t*a[3],-t*a[1],-t*a[2],t*a[0],0,0],{x:n,y:i}=new Et(a[4],a[5]).transform(e,!0);return e[4]=-n,e[5]=-i,e},Pr=(a,t,e)=>[a[0]*t[0]+a[2]*t[1],a[1]*t[0]+a[3]*t[1],a[0]*t[2]+a[2]*t[3],a[1]*t[2]+a[3]*t[3],e?0:a[0]*t[4]+a[2]*t[5]+a[4],e?0:a[1]*t[4]+a[3]*t[5]+a[5]],Vp=(a,t)=>a.reduceRight((e,n)=>n&&e?Pr(n,e,t):n||e,void 0)||ui.concat(),T1=a=>{let[t,e]=a;return Math.atan2(e,t)},Nf=a=>{const t=T1(a),e=Math.pow(a[0],2)+Math.pow(a[1],2),n=Math.sqrt(e),i=(a[0]*a[3]-a[2]*a[1])/n,s=Math.atan2(a[0]*a[2]+a[1]*a[3],e);return{angle:mc(t),scaleX:n,scaleY:i,skewX:mc(s),skewY:0,translateX:a[4]||0,translateY:a[5]||0}},ih=function(a){return[1,0,0,1,a,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function sh(){let{angle:a=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:t=0,y:e=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Vn(a),i=wa(n),s=xa(n);return[i,s,-s,i,t?t-(i*t-s*e):0,e?e-(s*t+i*e):0]}const Hp=function(a){return[a,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,0,0]},P1=a=>Math.tan(Vn(a)),N1=a=>[1,0,P1(a),1,0,0],O1=a=>[1,P1(a),0,1,0,0],Wf=a=>{let{scaleX:t=1,scaleY:e=1,flipX:n=!1,flipY:i=!1,skewX:s=0,skewY:l=0}=a,c=Hp(n?-t:t,i?-e:e);return s&&(c=Pr(c,N1(s),!0)),l&&(c=Pr(c,O1(l),!0)),c},qm=a=>{const{translateX:t=0,translateY:e=0,angle:n=0}=a;let i=ih(t,e);n&&(i=Pr(i,sh({angle:n})));const s=Wf(a);return Um(s)||(i=Pr(i,s)),i},xf=function(a){let{signal:t,crossOrigin:e=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(n,i){if(t&&t.aborted)return i(new Om("loadImage"));const s=zm();let l;t&&(l=function(h){s.src="",i(h)},t.addEventListener("abort",l,{once:!0}));const c=function(){s.onload=s.onerror=null,l&&(t==null||t.removeEventListener("abort",l)),n(s)};a?(s.onload=c,s.onerror=function(){l&&(t==null||t.removeEventListener("abort",l)),i(new Co("Error loading ".concat(s.src)))},e&&(s.crossOrigin=e),s.src=a):c()})},Qu=function(a){let{signal:t,reviver:e=vf}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((n,i)=>{const s=[];t&&t.addEventListener("abort",i,{once:!0}),Promise.all(a.map(l=>ne.getClass(l.type).fromObject(l,{signal:t}).then(c=>(e(l,c),s.push(c),c)))).then(n).catch(l=>{s.forEach(c=>{c.dispose&&c.dispose()}),i(l)}).finally(()=>{t&&t.removeEventListener("abort",i)})})},Vf=function(a){let{signal:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((e,n)=>{const i=[];t&&t.addEventListener("abort",n,{once:!0});const s=Object.values(a).map(c=>c&&c.type&&ne.has(c.type)?Qu([c],{signal:t}).then(h=>{let[p]=h;return i.push(p),p}):c),l=Object.keys(a);Promise.all(s).then(c=>c.reduce((h,p,m)=>(h[l[m]]=p,h),{})).then(e).catch(c=>{i.forEach(h=>{h.dispose&&h.dispose()}),n(c)}).finally(()=>{t&&t.removeEventListener("abort",n)})})},mu=function(a){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((t,e)=>(e in a&&(t[e]=a[e]),t),{})},Yp=(a,t)=>Object.keys(a).reduce((e,n)=>(t(a[n],n,a)&&(e[n]=a[n]),e),{}),_0={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},Hd=(a,t,e)=>(e<0&&(e+=1),e>1&&(e-=1),e<1/6?a+6*(t-a)*e:e<.5?t:e<2/3?a+(t-a)*(2/3-e)*6:a),b0=(a,t,e,n)=>{a/=255,t/=255,e/=255;const i=Math.max(a,t,e),s=Math.min(a,t,e);let l,c;const h=(i+s)/2;if(i===s)l=c=0;else{const p=i-s;switch(c=h>.5?p/(2-i-s):p/(i+s),i){case a:l=(t-e)/p+(t<e?6:0);break;case t:l=(e-a)/p+2;break;case e:l=(a-t)/p+4}l/=6}return[Math.round(360*l),Math.round(100*c),Math.round(100*h),n]},S0=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(a)/(a.endsWith("%")?100:1)},Uh=a=>Math.min(Math.round(a),255).toString(16).toUpperCase().padStart(2,"0"),C0=a=>{let[t,e,n,i=1]=a;const s=Math.round(.3*t+.59*e+.11*n);return[s,s,s,i]};let Gi=class Gr{constructor(t){if(lt(this,"isUnrecognised",!1),t)if(t instanceof Gr)this.setSource([...t._source]);else if(Array.isArray(t)){const[e,n,i,s=1]=t;this.setSource([e,n,i,s])}else this.setSource(this._tryParsingColor(t));else this.setSource([0,0,0,1])}_tryParsingColor(t){return(t=t.toLowerCase())in _0&&(t=_0[t]),t==="transparent"?[255,255,255,0]:Gr.sourceFromHex(t)||Gr.sourceFromRgb(t)||Gr.sourceFromHsl(t)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(t){this._source=t}toRgb(){const[t,e,n]=this.getSource();return"rgb(".concat(t,",").concat(e,",").concat(n,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[t,e,n]=b0(...this.getSource());return"hsl(".concat(t,",").concat(e,"%,").concat(n,"%)")}toHsla(){const[t,e,n,i]=b0(...this.getSource());return"hsla(".concat(t,",").concat(e,"%,").concat(n,"%,").concat(i,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[t,e,n,i]=this.getSource();return"".concat(Uh(t)).concat(Uh(e)).concat(Uh(n)).concat(Uh(Math.round(255*i)))}getAlpha(){return this.getSource()[3]}setAlpha(t){return this._source[3]=t,this}toGrayscale(){return this.setSource(C0(this.getSource())),this}toBlackWhite(t){const[e,,,n]=C0(this.getSource()),i=e<(t||127)?0:255;return this.setSource([i,i,i,n]),this}overlayWith(t){t instanceof Gr||(t=new Gr(t));const e=this.getSource(),n=t.getSource(),[i,s,l]=e.map((c,h)=>Math.round(.5*c+.5*n[h]));return this.setSource([i,s,l,e[3]]),this}static fromRgb(t){return Gr.fromRgba(t)}static fromRgba(t){return new Gr(Gr.sourceFromRgb(t))}static sourceFromRgb(t){const e=t.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(e){const[n,i,s]=e.slice(1,4).map(l=>{const c=parseFloat(l);return l.endsWith("%")?Math.round(2.55*c):c});return[n,i,s,S0(e[4])]}}static fromHsl(t){return Gr.fromHsla(t)}static fromHsla(t){return new Gr(Gr.sourceFromHsl(t))}static sourceFromHsl(t){const e=t.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!e)return;const n=(Gr.parseAngletoDegrees(e[1])%360+360)%360/360,i=parseFloat(e[2])/100,s=parseFloat(e[3])/100;let l,c,h;if(i===0)l=c=h=s;else{const p=s<=.5?s*(i+1):s+i-s*i,m=2*s-p;l=Hd(m,p,n+1/3),c=Hd(m,p,n),h=Hd(m,p,n-1/3)}return[Math.round(255*l),Math.round(255*c),Math.round(255*h),S0(e[4])]}static fromHex(t){return new Gr(Gr.sourceFromHex(t))}static sourceFromHex(t){if(t.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const e=t.slice(t.indexOf("#")+1);let n;n=e.length<=4?e.split("").map(h=>h+h):e.match(/.{2}/g);const[i,s,l,c=255]=n.map(h=>parseInt(h,16));return[i,s,l,c/255]}}static parseAngletoDegrees(t){const e=t.toLowerCase(),n=parseFloat(e);return e.includes("rad")?mc(n):e.includes("turn")?360*n:n}};const Pn=(a,t)=>parseFloat(Number(a).toFixed(t)),su=function(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zp;const e=/\D{0,2}$/.exec(a),n=parseFloat(a),i=Xe.DPI;switch(e==null?void 0:e[0]){case"mm":return n*i/25.4;case"cm":return n*i/2.54;case"in":return n*i;case"pt":return n*i/72;case"pc":return n*i/72*12;case"em":return n*t;default:return n}},Wm=a=>{const[t,e]=a.trim().split(" "),[n,i]=(s=t)&&s!==Ai?[s.slice(1,4),s.slice(5,8)]:s===Ai?[s,s]:["Mid","Mid"];var s;return{meetOrSlice:e||"meet",alignX:n,alignY:i}},Of=a=>"matrix("+a.map(t=>Pn(t,Xe.NUM_FRACTION_DIGITS)).join(" ")+")",Zu=function(a,t){let e,n,i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(t)if(t.toLive)e="url(#SVGID_".concat(t.id,")");else{const s=new Gi(t),l=s.getAlpha();e=s.toRgb(),l!==1&&(n=l.toString())}else e="none";return i?"".concat(a,": ").concat(e,"; ").concat(n?"".concat(a,"-opacity: ").concat(n,"; "):""):"".concat(a,'="').concat(e,'" ').concat(n?"".concat(a,'-opacity="').concat(n,'" '):"")},ps=a=>!!a&&a.toLive!==void 0,k0=a=>!!a&&typeof a.toObject=="function",L0=a=>!!a&&a.offsetX!==void 0&&"source"in a,lc=a=>!!a&&"multiSelectionStacking"in a;function E1(a){const t=a&&Vs(a);let e=0,n=0;if(!a||!t)return{left:e,top:n};let i=a;const s=t.documentElement,l=t.body||{scrollLeft:0,scrollTop:0};for(;i&&(i.parentNode||i.host)&&(i=i.parentNode||i.host,i===t?(e=l.scrollLeft||s.scrollLeft||0,n=l.scrollTop||s.scrollTop||0):(e+=i.scrollLeft||0,n+=i.scrollTop||0),i.nodeType!==1||i.style.position!=="fixed"););return{left:e,top:n}}const Vs=a=>a.ownerDocument||null,D1=a=>{var t;return((t=a.ownerDocument)===null||t===void 0?void 0:t.defaultView)||null},M1=function(a,t,e){let{width:n,height:i}=e,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;a.width=n,a.height=i,s>1&&(a.setAttribute("width",(n*s).toString()),a.setAttribute("height",(i*s).toString()),t.scale(s,s))},pp=(a,t)=>{let{width:e,height:n}=t;e&&(a.style.width=typeof e=="number"?"".concat(e,"px"):e),n&&(a.style.height=typeof n=="number"?"".concat(n,"px"):n)};function A0(a){return a.onselectstart!==void 0&&(a.onselectstart=()=>!1),a.style.userSelect=Ai,a}let j1=class{constructor(t){lt(this,"_originalCanvasStyle",void 0),lt(this,"lower",void 0);const e=this.createLowerCanvas(t);this.lower={el:e,ctx:e.getContext("2d")}}createLowerCanvas(t){const e=(n=t)&&n.getContext!==void 0?t:t&&du().getElementById(t)||Xs();var n;if(e.hasAttribute("data-fabric"))throw new Co("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=e.style.cssText,e.setAttribute("data-fabric","main"),e.classList.add("lower-canvas"),e}cleanupDOM(t){let{width:e,height:n}=t;const{el:i}=this.lower;i.classList.remove("lower-canvas"),i.removeAttribute("data-fabric"),i.setAttribute("width","".concat(e)),i.setAttribute("height","".concat(n)),i.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(t,e){const{el:n,ctx:i}=this.lower;M1(n,i,t,e)}setCSSDimensions(t){pp(this.lower.el,t)}calcOffset(){return function(t){var e;const n=t&&Vs(t),i={left:0,top:0};if(!n)return i;const s=((e=D1(t))===null||e===void 0?void 0:e.getComputedStyle(t,null))||{};i.left+=parseInt(s.borderLeftWidth,10)||0,i.top+=parseInt(s.borderTopWidth,10)||0,i.left+=parseInt(s.paddingLeft,10)||0,i.top+=parseInt(s.paddingTop,10)||0;let l={left:0,top:0};const c=n.documentElement;t.getBoundingClientRect!==void 0&&(l=t.getBoundingClientRect());const h=E1(t);return{left:l.left+h.left-(c.clientLeft||0)+i.left,top:l.top+h.top-(c.clientTop||0)+i.top}}(this.lower.el)}dispose(){Ao().dispose(this.lower.el),delete this.lower}};const Vm={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...ui]};let Xp=class F1 extends k1(L1){get lowerCanvasEl(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.el}get contextContainer(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.ctx}static getDefaults(){return F1.ownDefaults}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(e),this.initElements(t),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(t){this.elements=new j1(t)}add(){const t=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}insertAt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const s=super.insertAt(t,...n);return n.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),s}remove(){const t=super.remove(...arguments);return t.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}_onObjectAdded(t){t.canvas&&t.canvas!==this&&(xl("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),t.canvas.remove(t)),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t){t._set("canvas",void 0),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?_1():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(t,e){return this.setDimensions({width:t},e)}setHeight(t,e){return this.setDimensions({height:t},e)}_setDimensionsImpl(t){let{cssOnly:e=!1,backstoreOnly:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e){const i=ht({width:this.width,height:this.height},t);this.elements.setDimensions(i,this.getRetinaScaling()),this.hasLostContext=!0,this.width=i.width,this.height=i.height}n||this.elements.setCSSDimensions(t),this.calcOffset()}setDimensions(t,e){this._setDimensionsImpl(t,e),e&&e.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(t){this.viewportTransform=t,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(t,e){const n=t,i=[...this.viewportTransform],s=Ci(t,Hs(i));i[0]=e,i[3]=e;const l=Ci(s,i);i[4]+=n.x-l.x,i[5]+=n.y-l.y,this.setViewportTransform(i)}setZoom(t){this.zoomToPoint(new Et(0,0),t)}absolutePan(t){const e=[...this.viewportTransform];return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)}relativePan(t){return this.absolutePan(new Et(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(t){t.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=wf(()=>this.renderAndReset()))}calcViewportBoundaries(){const t=this.width,e=this.height,n=Hs(this.viewportTransform),i=Ci({x:0,y:0},n),s=Ci({x:t,y:e},n),l=i.min(s),c=i.max(s);return this.vptCoords={tl:l,tr:new Et(c.x,l.y),bl:new Et(l.x,c.y),br:c}}cancelRequestedRender(){this.nextRenderHandle&&(Rm(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(t){}renderCanvas(t,e){if(this.destroyed)return;const n=this.viewportTransform,i=this.clipPath;this.calcViewportBoundaries(),this.clearContext(t),t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.patternQuality="best",this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(t,e),t.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(t),i&&(i._set("canvas",this),i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t,i)),this._renderOverlay(t),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(t),this.fire("after:render",{ctx:t}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(t,e){const n=this.viewportTransform;t.save(),t.transform(...n),t.globalCompositeOperation="destination-in",e.transform(t),t.scale(1/e.zoomX,1/e.zoomY),t.drawImage(e._cacheCanvas,-e.cacheTranslationX,-e.cacheTranslationY),t.restore()}_renderObjects(t,e){for(let n=0,i=e.length;n<i;++n)e[n]&&e[n].render(t)}_renderBackgroundOrOverlay(t,e){const n=this["".concat(e,"Color")],i=this["".concat(e,"Image")],s=this.viewportTransform,l=this["".concat(e,"Vpt")];if(!n&&!i)return;const c=ps(n);if(n){if(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=c?n.toLive(t):n,l&&t.transform(...s),c){t.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);const h=n.gradientTransform||n.patternTransform;h&&t.transform(...h)}t.fill(),t.restore()}if(i){t.save();const{skipOffscreen:h}=this;this.skipOffscreen=l,l&&t.transform(...s),i.render(t),this.skipOffscreen=h,t.restore()}}_renderBackground(t){this._renderBackgroundOrOverlay(t,"background")}_renderOverlay(t){this._renderBackgroundOrOverlay(t,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new Et(this.width/2,this.height/2)}centerObjectH(t){return this._centerObject(t,new Et(this.getCenterPoint().x,t.getCenterPoint().y))}centerObjectV(t){return this._centerObject(t,new Et(t.getCenterPoint().x,this.getCenterPoint().y))}centerObject(t){return this._centerObject(t,this.getCenterPoint())}viewportCenterObject(t){return this._centerObject(t,this.getVpCenter())}viewportCenterObjectH(t){return this._centerObject(t,new Et(this.getVpCenter().x,t.getCenterPoint().y))}viewportCenterObjectV(t){return this._centerObject(t,new Et(t.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return Ci(this.getCenterPoint(),Hs(this.viewportTransform))}_centerObject(t,e){t.setXY(e,De,De),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(t){return this.toDatalessObject(t)}toObject(t){return this._toObjectMethod("toObject",t)}toJSON(){return this.toObject()}toDatalessObject(t){return this._toObjectMethod("toDatalessObject",t)}_toObjectMethod(t,e){const n=this.clipPath,i=n&&!n.excludeFromExport?this._toObject(n,t,e):null;return ht(ht(ht({version:fp},mu(this,e)),{},{objects:this._objects.filter(s=>!s.excludeFromExport).map(s=>this._toObject(s,t,e))},this.__serializeBgOverlay(t,e)),i?{clipPath:i}:null)}_toObject(t,e,n){let i;this.includeDefaultValues||(i=t.includeDefaultValues,t.includeDefaultValues=!1);const s=t[e](n);return this.includeDefaultValues||(t.includeDefaultValues=!!i),s}__serializeBgOverlay(t,e){const n={},i=this.backgroundImage,s=this.overlayImage,l=this.backgroundColor,c=this.overlayColor;return ps(l)?l.excludeFromExport||(n.background=l.toObject(e)):l&&(n.background=l),ps(c)?c.excludeFromExport||(n.overlay=c.toObject(e)):c&&(n.overlay=c),i&&!i.excludeFromExport&&(n.backgroundImage=this._toObject(i,t,e)),s&&!s.excludeFromExport&&(n.overlayImage=this._toObject(s,t,e)),n}toSVG(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;t.reviver=e;const n=[];return this._setSVGPreamble(n,t),this._setSVGHeader(n,t),this.clipPath&&n.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",e),this._setSVGObjects(n,e),this.clipPath&&n.push(`</g>
`),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",e),n.push("</svg>"),n.join("")}_setSVGPreamble(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(t,e){const n=e.width||"".concat(this.width),i=e.height||"".concat(this.height),s=Xe.NUM_FRACTION_DIGITS,l=e.viewBox;let c;if(l)c='viewBox="'.concat(l.x," ").concat(l.y," ").concat(l.width," ").concat(l.height,'" ');else if(this.svgViewportTransformation){const h=this.viewportTransform;c='viewBox="'.concat(Pn(-h[4]/h[0],s)," ").concat(Pn(-h[5]/h[3],s)," ").concat(Pn(this.width/h[0],s)," ").concat(Pn(this.height/h[3],s),'" ')}else c='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',i,'" ',c,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",fp,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),`</defs>
`)}createSVGClipPathMarkup(t){const e=this.clipPath;return e?(e.clipPathId="CLIPPATH_".concat(_l()),'<clipPath id="'.concat(e.clipPathId,`" >
`).concat(e.toClipPathSVG(t.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(t=>{const e=this["".concat(t,"Color")];if(ps(e)){const n=this["".concat(t,"Vpt")],i=this.viewportTransform,s={isType:()=>!1,width:this.width/(n?i[0]:1),height:this.height/(n?i[3]:1)};return e.toSVG(s,{additionalTransform:n?Of(i):""})}}).join("")}createSVGFontFacesMarkup(){const t=[],e={},n=Xe.fontPaths;this._objects.forEach(function s(l){t.push(l),yf(l)&&l._objects.forEach(s)}),t.forEach(s=>{if(!(l=s)||typeof l._renderText!="function")return;var l;const{styles:c,fontFamily:h}=s;!e[h]&&n[h]&&(e[h]=!0,c&&Object.values(c).forEach(p=>{Object.values(p).forEach(m=>{let{fontFamily:w=""}=m;!e[w]&&n[w]&&(e[w]=!0)})}))});const i=Object.keys(e).map(s=>`		@font-face {
			font-family: '`.concat(s,`';
			src: url('`).concat(n[s],`');
		}
`)).join("");return i?`	<style type="text/css"><![CDATA[
`.concat(i,`]]></style>
`):""}_setSVGObjects(t,e){this.forEachObject(n=>{n.excludeFromExport||this._setSVGObject(t,n,e)})}_setSVGObject(t,e,n){t.push(e.toSVG(n))}_setSVGBgOverlayImage(t,e,n){const i=this[e];i&&!i.excludeFromExport&&i.toSVG&&t.push(i.toSVG(n))}_setSVGBgOverlayColor(t,e){const n=this["".concat(e,"Color")];if(n)if(ps(n)){const i=n.repeat||"",s=this.width,l=this.height,c=this["".concat(e,"Vpt")]?Of(Hs(this.viewportTransform)):"";t.push('<rect transform="'.concat(c," translate(").concat(s/2,",").concat(l/2,')" x="').concat(n.offsetX-s/2,'" y="').concat(n.offsetY-l/2,'" width="').concat(i!=="repeat-y"&&i!=="no-repeat"||!L0(n)?s:n.source.width,'" height="').concat(i!=="repeat-x"&&i!=="no-repeat"||!L0(n)?l:n.source.height,'" fill="url(#SVGID_').concat(n.id,`)"></rect>
`))}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',`></rect>
`)}loadFromJSON(t,e){let{signal:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return Promise.reject(new Co("`json` is undefined"));const i=typeof t=="string"?JSON.parse(t):t,{objects:s=[],backgroundImage:l,background:c,overlayImage:h,overlay:p,clipPath:m}=i,w=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Qu(s,{reviver:e,signal:n}),Vf({backgroundImage:l,backgroundColor:c,overlayImage:h,overlayColor:p,clipPath:m},{signal:n})]).then(b=>{let[y,A]=b;return this.clear(),this.add(...y),this.set(i),this.set(A),this.renderOnAddRemove=w,this})}clone(t){const e=this.toObject(t);return this.cloneWithoutData().loadFromJSON(e)}cloneWithoutData(){const t=To(this);return new this.constructor(t)}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:e="png",quality:n=1,multiplier:i=1,enableRetinaScaling:s=!1}=t,l=i*(s?this.getRetinaScaling():1);return A1(this.toCanvasElement(l,t),e,n)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:e,height:n,left:i,top:s,filter:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=(e||this.width)*t,h=(n||this.height)*t,p=this.getZoom(),m=this.width,w=this.height,b=this.skipControlsDrawing,y=p*t,A=this.viewportTransform,k=[y,0,0,y,(A[4]-(i||0))*t,(A[5]-(s||0))*t],O=this.enableRetinaScaling,T=To({width:c,height:h}),F=l?this._objects.filter(Y=>l(Y)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=k,this.width=c,this.height=h,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(T.getContext("2d"),F),this.viewportTransform=A,this.width=m,this.height=w,this.calcViewportBoundaries(),this.enableRetinaScaling=O,this.skipControlsDrawing=b,T}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),Pf.cancelByCanvas(this),this.disposed=!0,new Promise((t,e)=>{const n=()=>{this.destroy(),t(!0)};n.kill=e,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?t(!1):this.nextRenderHandle?this.__cleanupTask=n:n()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(t=>t.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}};lt(Xp,"ownDefaults",Vm);const Hm=["touchstart","touchmove","touchend"],Ym=a=>{const t=E1(a.target),e=function(n){const i=n.changedTouches;return i&&i[0]?i[0]:n}(a);return new Et(e.clientX+t.left,e.clientY+t.top)},gp=a=>Hm.includes(a.type)||a.pointerType==="touch",mp=a=>{a.preventDefault(),a.stopPropagation()},va=a=>{let t=0,e=0,n=0,i=0;for(let s=0,l=a.length;s<l;s++){const{x:c,y:h}=a[s];(c>n||!s)&&(n=c),(c<t||!s)&&(t=c),(h>i||!s)&&(i=h),(h<e||!s)&&(e=h)}return{left:t,top:e,width:n-t,height:i-e}},Xm=["translateX","translateY","scaleX","scaleY"],Gm=(a,t)=>Ef(a,Pr(t,a.calcOwnMatrix())),Ef=(a,t)=>{const e=Nf(t),{translateX:n,translateY:i,scaleX:s,scaleY:l}=e,c=kn(e,Xm),h=new Et(n,i);a.flipX=!1,a.flipY=!1,Object.assign(a,c),a.set({scaleX:s,scaleY:l}),a.setPositionByOrigin(h,De,De)},$m=a=>{a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},I1=a=>({scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}),Gp=(a,t,e)=>{const n=a/2,i=t/2,s=[new Et(-n,-i),new Et(n,-i),new Et(-n,i),new Et(n,i)].map(c=>c.transform(e)),l=va(s);return new Et(l.width,l.height)},Hf=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ui;return Pr(Hs(arguments.length>1&&arguments[1]!==void 0?arguments[1]:ui),a)},ou=function(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ui,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ui;return a.transform(Hf(t,e))},Km=function(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ui,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ui;return a.transform(Hf(t,e),!0)},Jm=(a,t,e)=>{const n=Hf(t,e);return Ef(a,Pr(n,a.calcOwnMatrix())),n},R1=(a,t)=>{var e;const{transform:{target:n}}=t;(e=n.canvas)===null||e===void 0||e.fire("object:".concat(a),ht(ht({},t),{},{target:n})),n.fire(a,t)},Qm={left:-.5,top:-.5,center:0,bottom:.5,right:.5},$n=a=>typeof a=="string"?Qm[a]:a-.5,Df="not-allowed";function B1(a){return $n(a.originX)===$n(De)&&$n(a.originY)===$n(De)}function T0(a){return .5-$n(a)}const Ys=(a,t)=>a[t],z1=(a,t,e,n)=>({e:a,transform:t,pointer:new Et(e,n)});function U1(a,t){const e=a.getTotalAngle()+mc(Math.atan2(t.y,t.x))+360;return Math.round(e%360/45)}function $p(a,t,e,n,i){var s;let{target:l,corner:c}=a;const h=l.controls[c],p=((s=l.canvas)===null||s===void 0?void 0:s.getZoom())||1,m=l.padding/p,w=function(b,y,A,k){const O=b.getRelativeCenterPoint(),T=A!==void 0&&k!==void 0?b.translateToGivenOrigin(O,De,De,A,k):new Et(b.left,b.top);return(b.angle?y.rotate(-Vn(b.angle),O):y).subtract(T)}(l,new Et(n,i),t,e);return w.x>=m&&(w.x-=m),w.x<=-m&&(w.x+=m),w.y>=m&&(w.y-=m),w.y<=m&&(w.y+=m),w.x-=h.offsetX,w.y-=h.offsetY,w}const Zm=(a,t,e,n)=>{const{target:i,offsetX:s,offsetY:l}=t,c=e-s,h=n-l,p=!Ys(i,"lockMovementX")&&i.left!==c,m=!Ys(i,"lockMovementY")&&i.top!==h;return p&&i.set(en,c),m&&i.set(Li,h),(p||m)&&R1(b1,z1(a,t,e,n)),p||m};class q1{getSvgStyles(t){const e=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):Ai,s=this.strokeDashOffset?this.strokeDashOffset:"0",l=this.strokeLineCap?this.strokeLineCap:"butt",c=this.strokeLineJoin?this.strokeLineJoin:"miter",h=this.strokeMiterLimit?this.strokeMiterLimit:"4",p=this.opacity!==void 0?this.opacity:"1",m=this.visible?"":" visibility: hidden;",w=t?"":this.getSvgFilter(),b=Zu(er,this.fill);return[Zu(Ti,this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",l,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",c,"; ","stroke-miterlimit: ",h,"; ",b,"fill-rule: ",e,"; ","opacity: ",p,";",w,m].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=t?this.calcTransformMatrix():this.calcOwnMatrix(),i='transform="'.concat(Of(n));return"".concat(i).concat(e,'" ')}_toSVG(t){return[""]}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})}toClipPathSVG(t){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})}_createBaseClipPathSVGMarkup(t){let{reviver:e,additionalTransform:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),s=t.indexOf("COMMON_PARTS");return t[s]=i,e?e(t.join("")):t.join("")}_createBaseSVGMarkup(t){let{noStyle:e,reviver:n,withShadow:i,additionalTransform:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=e?"":'style="'.concat(this.getSvgStyles(),'" '),c=i?'style="'.concat(this.getSvgFilter(),'" '):"",h=this.clipPath,p=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",m=h&&h.absolutePositioned,w=this.stroke,b=this.fill,y=this.shadow,A=[],k=t.indexOf("COMMON_PARTS");let O;h&&(h.clipPathId="CLIPPATH_".concat(_l()),O='<clipPath id="'.concat(h.clipPathId,`" >
`).concat(h.toClipPathSVG(n),`</clipPath>
`)),m&&A.push("<g ",c,this.getSvgCommons(),` >
`),A.push("<g ",this.getSvgTransform(!1),m?"":c+this.getSvgCommons(),` >
`);const T=[l,p,e?"":this.addPaintOrder()," ",s?'transform="'.concat(s,'" '):""].join("");return t[k]=T,ps(b)&&A.push(b.toSVG(this)),ps(w)&&A.push(w.toSVG(this)),y&&A.push(y.toSVG(this)),h&&A.push(O),A.push(t.join("")),A.push(`</g>
`),m&&A.push(`</g>
`),n?n(A.join("")):A.join("")}addPaintOrder(){return this.paintFirst!==er?' paint-order="'.concat(this.paintFirst,'" '):""}}function Yf(a){return new RegExp("^("+a.join("|")+")\\b","i")}var P0;const vc=String.raw(P0||(P0=Cl(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"]))),t5=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+vc+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+vc+"))?\\s+(.*)"),e5={cx:en,x:en,r:"radius",cy:Li,y:Li,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},Yd="font-size",Xd="clip-path";Yf(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);Yf(["symbol","image","marker","pattern","view","svg"]);const N0=Yf(["symbol","g","a","svg","clipPath","defs"]),n5=new Et(1,0),W1=new Et,V1=(a,t)=>a.rotate(t),vp=(a,t)=>new Et(t).subtract(a),yp=a=>a.distanceFrom(W1),wp=(a,t)=>Math.atan2(Xu(a,t),i5(a,t)),r5=a=>wp(n5,a),Kp=a=>a.eq(W1)?a:a.scalarDivide(yp(a)),H1=function(a){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Kp(new Et(-a.y,a.x).scalarMultiply(t?1:-1))},Xu=(a,t)=>a.x*t.y-a.y*t.x,i5=(a,t)=>a.x*t.x+a.y*t.y,O0=(a,t,e)=>{if(a.eq(t)||a.eq(e))return!0;const n=Xu(t,e),i=Xu(t,a),s=Xu(e,a);return n>=0?i>=0&&s<=0:!(i<=0&&s>=0)},E0="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",D0=new RegExp("(?:\\s|^)"+E0+E0+"("+vc+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class ya{constructor(t){const e=typeof t=="string"?ya.parseShadow(t):t;Object.assign(this,ya.ownDefaults,e),this.id=_l()}static parseShadow(t){const e=t.trim(),[,n=0,i=0,s=0]=(D0.exec(e)||[]).map(l=>parseFloat(l)||0);return{color:(e.replace(D0,"")||"rgb(0,0,0)").trim(),offsetX:n,offsetY:i,blur:s}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(t){const e=V1(new Et(this.offsetX,this.offsetY),Vn(-t.angle)),n=new Gi(this.color);let i=40,s=40;return t.width&&t.height&&(i=100*Pn((Math.abs(e.x)+this.blur)/t.width,Xe.NUM_FRACTION_DIGITS)+20,s=100*Pn((Math.abs(e.y)+this.blur)/t.height,Xe.NUM_FRACTION_DIGITS)+20),t.flipX&&(e.x*=-1),t.flipY&&(e.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(s,'%" height="').concat(100+2*s,'%" x="-').concat(i,'%" width="').concat(100+2*i,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(Pn(this.blur?this.blur/2:0,Xe.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(Pn(e.x,Xe.NUM_FRACTION_DIGITS),'" dy="').concat(Pn(e.y,Xe.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(n.toRgb(),'" flood-opacity="').concat(n.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const t={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},e=ya.ownDefaults;return this.includeDefaultValues?t:Yp(t,(n,i)=>n!==e[i])}static async fromObject(t){return new this(t)}}lt(ya,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),lt(ya,"type","shadow"),ne.setClass(ya,"shadow");const fu=(a,t,e)=>Math.max(a,Math.min(t,e)),s5=[Li,en,Pi,gs,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",pu,gu],_a=[er,Ti,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],o5={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:en,originY:Li,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:er,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},a5=(a,t,e,n)=>-e*Math.cos(a/n*rh)+e+t,l5=()=>!1;class Jp{constructor(t){let{startValue:e,byValue:n,duration:i=500,delay:s=0,easing:l=a5,onStart:c=vf,onChange:h=vf,onComplete:p=vf,abort:m=l5,target:w}=t;lt(this,"_state","pending"),lt(this,"durationProgress",0),lt(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=i,this.delay=s,this.easing=l,this._onStart=c,this._onChange=h,this._onComplete=p,this._abort=m,this.target=w,this.startValue=e,this.byValue=n,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const t=e=>{this._state==="pending"&&(this.startTime=e||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>wf(t),this.delay):wf(t)}tick(t){const e=(t||+new Date)-this.startTime,n=Math.min(e,this.duration);this.durationProgress=n/this.duration;const{value:i,valueProgress:s}=this.calculate(n);this.value=Object.freeze(i),this.valueProgress=s,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):e>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),wf(this.tick)))}register(){Pf.push(this)}unregister(){Pf.remove(this)}abort(){this._state="aborted",this.unregister()}}const c5=["startValue","endValue"];class u5 extends Jp{constructor(t){let{startValue:e=0,endValue:n=100}=t;super(ht(ht({},kn(t,c5)),{},{startValue:e,byValue:n-e}))}calculate(t){const e=this.easing(t,this.startValue,this.byValue,this.duration);return{value:e,valueProgress:Math.abs((e-this.startValue)/this.byValue)}}}const h5=["startValue","endValue"];class f5 extends Jp{constructor(t){let{startValue:e=[0],endValue:n=[100]}=t;super(ht(ht({},kn(t,h5)),{},{startValue:e,byValue:n.map((i,s)=>i-e[s])}))}calculate(t){const e=this.startValue.map((n,i)=>this.easing(t,n,this.byValue[i],this.duration,i));return{value:e,valueProgress:Math.abs((e[0]-this.startValue[0])/this.byValue[0])}}}const d5=["startValue","endValue","easing","onChange","onComplete","abort"],p5=(a,t,e,n)=>t+e*(1-Math.cos(a/n*rh)),Gd=a=>a&&((t,e,n)=>a(new Gi(t).toRgba(),e,n));class g5 extends Jp{constructor(t){let{startValue:e,endValue:n,easing:i=p5,onChange:s,onComplete:l,abort:c}=t,h=kn(t,d5);const p=new Gi(e).getSource(),m=new Gi(n).getSource();super(ht(ht({},h),{},{startValue:p,byValue:m.map((w,b)=>w-p[b]),easing:i,onChange:Gd(s),onComplete:Gd(l),abort:Gd(c)}))}calculate(t){const[e,n,i,s]=this.startValue.map((c,h)=>this.easing(t,c,this.byValue[h],this.duration,h)),l=[...[e,n,i].map(Math.round),fu(0,s,1)];return{value:l,valueProgress:l.map((c,h)=>this.byValue[h]!==0?Math.abs((c-this.startValue[h])/this.byValue[h]):0).find(c=>c!==0)||0}}}function Y1(a){const t=(e=>Array.isArray(e.startValue)||Array.isArray(e.endValue))(a)?new f5(a):new u5(a);return t.start(),t}function m5(a){const t=new g5(a);return t.start(),t}class Tn{constructor(t){this.status=t,this.points=[]}includes(t){return this.points.some(e=>e.eq(t))}append(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.points=this.points.concat(e.filter(i=>!this.includes(i))),this}static isPointContained(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(e.eq(n))return t.eq(e);if(e.x===n.x)return t.x===e.x&&(i||t.y>=Math.min(e.y,n.y)&&t.y<=Math.max(e.y,n.y));if(e.y===n.y)return t.y===e.y&&(i||t.x>=Math.min(e.x,n.x)&&t.x<=Math.max(e.x,n.x));{const s=vp(e,n),l=vp(e,t).divide(s);return i?Math.abs(l.x)===Math.abs(l.y):l.x===l.y&&l.x>=0&&l.x<=1}}static isPointInPolygon(t,e){const n=new Et(t).setX(Math.min(t.x-1,...e.map(s=>s.x)));let i=0;for(let s=0;s<e.length;s++){const l=this.intersectSegmentSegment(e[s],e[(s+1)%e.length],t,n);if(l.includes(t))return!0;i+=+(l.status==="Intersection")}return i%2==1}static intersectLineLine(t,e,n,i){let s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],l=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const c=e.x-t.x,h=e.y-t.y,p=i.x-n.x,m=i.y-n.y,w=t.x-n.x,b=t.y-n.y,y=p*b-m*w,A=c*b-h*w,k=m*c-p*h;if(k!==0){const O=y/k,T=A/k;return(s||0<=O&&O<=1)&&(l||0<=T&&T<=1)?new Tn("Intersection").append(new Et(t.x+O*c,t.y+O*h)):new Tn}if(y===0||A===0){const O=s||l||Tn.isPointContained(t,n,i)||Tn.isPointContained(e,n,i)||Tn.isPointContained(n,t,e)||Tn.isPointContained(i,t,e);return new Tn(O?"Coincident":void 0)}return new Tn("Parallel")}static intersectSegmentLine(t,e,n,i){return Tn.intersectLineLine(t,e,n,i,!1,!0)}static intersectSegmentSegment(t,e,n,i){return Tn.intersectLineLine(t,e,n,i,!1,!1)}static intersectLinePolygon(t,e,n){let i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const s=new Tn,l=n.length;for(let c,h,p,m=0;m<l;m++){if(c=n[m],h=n[(m+1)%l],p=Tn.intersectLineLine(t,e,c,h,i,!1),p.status==="Coincident")return p;s.append(...p.points)}return s.points.length>0&&(s.status="Intersection"),s}static intersectSegmentPolygon(t,e,n){return Tn.intersectLinePolygon(t,e,n,!1)}static intersectPolygonPolygon(t,e){const n=new Tn,i=t.length,s=[];for(let l=0;l<i;l++){const c=t[l],h=t[(l+1)%i],p=Tn.intersectSegmentPolygon(c,h,e);p.status==="Coincident"?(s.push(p),n.append(c,h)):n.append(...p.points)}return s.length>0&&s.length===t.length?new Tn("Coincident"):(n.points.length>0&&(n.status="Intersection"),n)}static intersectPolygonRectangle(t,e,n){const i=e.min(n),s=e.max(n),l=new Et(s.x,i.y),c=new Et(i.x,s.y);return Tn.intersectPolygonPolygon(t,[i,l,s,c])}}class v5 extends L1{getX(){return this.getXY().x}setX(t){this.setXY(this.getXY().setX(t))}getY(){return this.getXY().y}setY(t){this.setXY(this.getXY().setY(t))}getRelativeX(){return this.left}setRelativeX(t){this.left=t}getRelativeY(){return this.top}setRelativeY(t){this.top=t}getXY(){const t=this.getRelativeXY();return this.group?Ci(t,this.group.calcTransformMatrix()):t}setXY(t,e,n){this.group&&(t=Ci(t,Hs(this.group.calcTransformMatrix()))),this.setRelativeXY(t,e,n)}getRelativeXY(){return new Et(this.left,this.top)}setRelativeXY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(t,e,n)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:t,tr:e,br:n,bl:i}=this.aCoords||(this.aCoords=this.calcACoords()),s=[t,e,n,i];if(this.group){const l=this.group.calcTransformMatrix();return s.map(c=>Ci(c,l))}return s}intersectsWithRect(t,e){return Tn.intersectPolygonRectangle(this.getCoords(),t,e).status==="Intersection"}intersectsWithObject(t){const e=Tn.intersectPolygonPolygon(this.getCoords(),t.getCoords());return e.status==="Intersection"||e.status==="Coincident"||t.isContainedWithinObject(this)||this.isContainedWithinObject(t)}isContainedWithinObject(t){return this.getCoords().every(e=>t.containsPoint(e))}isContainedWithinRect(t,e){const{left:n,top:i,width:s,height:l}=this.getBoundingRect();return n>=t.x&&n+s<=e.x&&i>=t.y&&i+l<=e.y}isOverlapping(t){return this.intersectsWithObject(t)||this.isContainedWithinObject(t)||t.isContainedWithinObject(this)}containsPoint(t){return Tn.isPointInPolygon(t,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:t,br:e}=this.canvas.vptCoords;return!!this.getCoords().some(n=>n.x<=e.x&&n.x>=t.x&&n.y<=e.y&&n.y>=t.y)||!!this.intersectsWithRect(t,e)||this.containsPoint(t.midPointFrom(e))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:t,br:e}=this.canvas.vptCoords;return this.intersectsWithRect(t,e)?!0:this.getCoords().every(n=>(n.x>=e.x||n.x<=t.x)&&(n.y>=e.y||n.y<=t.y))&&this.containsPoint(t.midPointFrom(e))}getBoundingRect(){return va(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(t){this._set(Pi,t),this._set(gs,t),this.setCoords()}scaleToWidth(t){const e=this.getBoundingRect().width/this.getScaledWidth();return this.scale(t/this.width/e)}scaleToHeight(t){const e=this.getBoundingRect().height/this.getScaledHeight();return this.scale(t/this.height/e)}getCanvasRetinaScaling(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.getRetinaScaling())||1}getTotalAngle(){return this.group?mc(T1(this.calcTransformMatrix())):this.angle}getViewportTransform(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.viewportTransform)||ui.concat()}calcACoords(){const t=sh({angle:this.angle}),{x:e,y:n}=this.getRelativeCenterPoint(),i=ih(e,n),s=Pr(i,t),l=this._getTransformedDimensions(),c=l.x/2,h=l.y/2;return{tl:Ci({x:-c,y:-h},s),tr:Ci({x:c,y:-h},s),bl:Ci({x:-c,y:h},s),br:Ci({x:c,y:h},s)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=[];return!t&&this.group&&(e=this.group.transformMatrixKey(t)),e.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,$n(this.originX),$n(this.originY)),e}calcTransformMatrix(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=this.calcOwnMatrix();if(t||!this.group)return e;const n=this.transformMatrixKey(t),i=this.matrixCache;return i&&i.key.every((s,l)=>s===n[l])?i.value:(this.group&&(e=Pr(this.group.calcTransformMatrix(!1),e)),this.matrixCache={key:n,value:e},e)}calcOwnMatrix(){const t=this.transformMatrixKey(!0),e=this.ownMatrixCache;if(e&&e.key===t)return e.value;const n=this.getRelativeCenterPoint(),i={angle:this.angle,translateX:n.x,translateY:n.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},s=qm(i);return this.ownMatrixCache={key:t,value:s},s}_getNonTransformedDimensions(){return new Et(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(t){return this._getTransformedDimensions(t).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=ht({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},t),n=e.strokeWidth;let i=n,s=0;this.strokeUniform&&(i=0,s=n);const l=e.width+i,c=e.height+i;let h;return h=e.skewX===0&&e.skewY===0?new Et(l*e.scaleX,c*e.scaleY):Gp(l,c,Wf(e)),h.scalarAdd(s)}translateToGivenOrigin(t,e,n,i,s){let l=t.x,c=t.y;const h=$n(i)-$n(e),p=$n(s)-$n(n);if(h||p){const m=this._getTransformedDimensions();l+=h*m.x,c+=p*m.y}return new Et(l,c)}translateToCenterPoint(t,e,n){if(e===De&&n===De)return t;const i=this.translateToGivenOrigin(t,e,n,De,De);return this.angle?i.rotate(Vn(this.angle),t):i}translateToOriginPoint(t,e,n){const i=this.translateToGivenOrigin(t,De,De,e,n);return this.angle?i.rotate(Vn(this.angle),t):i}getCenterPoint(){const t=this.getRelativeCenterPoint();return this.group?Ci(t,this.group.calcTransformMatrix()):t}getRelativeCenterPoint(){return this.translateToCenterPoint(new Et(this.left,this.top),this.originX,this.originY)}getPointByOrigin(t,e){return this.translateToOriginPoint(this.getRelativeCenterPoint(),t,e)}setPositionByOrigin(t,e,n){const i=this.translateToCenterPoint(t,e,n),s=this.translateToOriginPoint(i,this.originX,this.originY);this.set({left:s.x,top:s.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),en,Li)}}const y5=["type"],w5=["extraParam"];let ha=class _f extends v5{static getDefaults(){return _f.ownDefaults}get type(){const t=this.constructor.type;return t==="FabricObject"?"object":t.toLowerCase()}set type(t){xl("warn","Setting type has no effect",t)}constructor(t){super(),lt(this,"_cacheContext",null),Object.assign(this,_f.ownDefaults),this.setOptions(t)}_createCacheCanvas(){this._cacheCanvas=Xs(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(t){const e=t.width,n=t.height,i=Xe.maxCacheSideLimit,s=Xe.minCacheSideLimit;if(e<=i&&n<=i&&e*n<=Xe.perfLimitSizeTotal)return e<s&&(t.width=s),n<s&&(t.height=s),t;const l=e/n,[c,h]=Yu.limitDimsByArea(l),p=fu(s,c,i),m=fu(s,h,i);return e>p&&(t.zoomX/=e/p,t.width=p,t.capped=!0),n>m&&(t.zoomY/=n/m,t.height=m,t.capped=!0),t}_getCacheCanvasDimensions(){const t=this.getTotalObjectScaling(),e=this._getTransformedDimensions({skewX:0,skewY:0}),n=e.x*t.x/this.scaleX,i=e.y*t.y/this.scaleY;return{width:Math.ceil(n+2),height:Math.ceil(i+2),zoomX:t.x,zoomY:t.y,x:n,y:i}}_updateCacheCanvas(){const t=this._cacheCanvas,e=this._cacheContext,{width:n,height:i,zoomX:s,zoomY:l,x:c,y:h}=this._limitCacheSize(this._getCacheCanvasDimensions()),p=n!==t.width||i!==t.height,m=this.zoomX!==s||this.zoomY!==l;if(!t||!e)return!1;if(p||m){n!==t.width||i!==t.height?(t.width=n,t.height=i):(e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height));const w=c/2,b=h/2;return this.cacheTranslationX=Math.round(t.width/2-w)+w,this.cacheTranslationY=Math.round(t.height/2-b)+b,e.translate(this.cacheTranslationX,this.cacheTranslationY),e.scale(s,l),this.zoomX=s,this.zoomY=l,!0}return!1}setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(t)}transform(t){const e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,n=this.calcTransformMatrix(!e);t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}getObjectScaling(){if(!this.group)return new Et(Math.abs(this.scaleX),Math.abs(this.scaleY));const t=Nf(this.calcTransformMatrix());return new Et(Math.abs(t.scaleX),Math.abs(t.scaleY))}getTotalObjectScaling(){const t=this.getObjectScaling();if(this.canvas){const e=this.canvas.getZoom(),n=this.getCanvasRetinaScaling();return t.scalarMultiply(e*n)}return t}getObjectOpacity(){let t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t}_constrainScale(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:t===0?1e-4:t}_set(t,e){t!==Pi&&t!==gs||(e=this._constrainScale(e)),t===Pi&&e<0?(this.flipX=!this.flipX,e*=-1):t==="scaleY"&&e<0?(this.flipY=!this.flipY,e*=-1):t!=="shadow"||!e||e instanceof ya||(e=new ya(e));const n=this[t]!==e;return this[t]=e,n&&this.constructor.cacheProperties.includes(t)&&(this.dirty=!0),this.parent&&(this.dirty||n&&this.constructor.stateProperties.includes(t))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.drawObject(t,!1,{}),this.dirty=!1),t.restore())}drawSelectionBackground(t){}renderCache(t){if(t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:e,zoomY:n,cacheTranslationX:i,cacheTranslationY:s}=this,{width:l,height:c}=this._cacheCanvas;this.drawObject(this._cacheContext,t.forClipping,{zoomX:e,zoomY:n,cacheTranslationX:i,cacheTranslationY:s,width:l,height:c,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===Ti&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(t,e,n){t.save(),e.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",t.setTransform(1,0,0,1,0,0),t.drawImage(n,0,0),t.restore()}drawObject(t,e,n){const i=this.fill,s=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath,n),this.fill=i,this.stroke=s}createClipPathLayer(t,e){const n=To(e),i=n.getContext("2d");if(i.translate(e.cacheTranslationX,e.cacheTranslationY),i.scale(e.zoomX,e.zoomY),t._cacheCanvas=n,e.parentClipPaths.forEach(s=>{s.transform(i)}),e.parentClipPaths.push(t),t.absolutePositioned){const s=Hs(this.calcTransformMatrix());i.transform(s[0],s[1],s[2],s[3],s[4],s[5])}return t.transform(i),t.drawObject(i,!0,e),n}_drawClipPath(t,e,n){if(!e)return;e._transformDone=!0;const i=this.createClipPathLayer(e,n);this.drawClipPathOnCache(t,e,i)}drawCacheOnCanvas(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const e=this._cacheCanvas,n=this._cacheContext;return!(!e||!n||t||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(e&&n&&!t&&(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height),n.restore()),!0)}_renderBackground(t){if(!this.backgroundColor)return;const e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}_setOpacity(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity}_setStrokeStyles(t,e){const n=e.stroke;n&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,ps(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(t,n):(t.strokeStyle=n.toLive(t),this._applyPatternGradientTransform(t,n)):t.strokeStyle=e.stroke)}_setFillStyles(t,e){let{fill:n}=e;n&&(ps(n)?(t.fillStyle=n.toLive(t),this._applyPatternGradientTransform(t,n)):t.fillStyle=n)}_setClippingProperties(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"}_setLineDash(t,e){e&&e.length!==0&&t.setLineDash(e)}_setShadow(t){if(!this.shadow)return;const e=this.shadow,n=this.canvas,i=this.getCanvasRetinaScaling(),[s,,,l]=(n==null?void 0:n.viewportTransform)||ui,c=s*i,h=l*i,p=e.nonScaling?new Et(1,1):this.getObjectScaling();t.shadowColor=e.color,t.shadowBlur=e.blur*Xe.browserShadowBlurConstant*(c+h)*(p.x+p.y)/4,t.shadowOffsetX=e.offsetX*c*p.x,t.shadowOffsetY=e.offsetY*h*p.y}_removeShadow(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)}_applyPatternGradientTransform(t,e){if(!ps(e))return{offsetX:0,offsetY:0};const n=e.gradientTransform||e.patternTransform,i=-this.width/2+e.offsetX||0,s=-this.height/2+e.offsetY||0;return e.gradientUnits==="percentage"?t.transform(this.width,0,0,this.height,i,s):t.transform(1,0,0,1,i,s),n&&t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:i,offsetY:s}}_renderPaintInOrder(t){this.paintFirst===Ti?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))}_render(t){}_renderFill(t){this.fill&&(t.save(),this._setFillStyles(t,this),this.fillRule==="evenodd"?t.fill("evenodd"):t.fill(),t.restore())}_renderStroke(t){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform){const e=this.getObjectScaling();t.scale(1/e.x,1/e.y)}this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}}_applyPatternForTransformedGradient(t,e){var n;const i=this._limitCacheSize(this._getCacheCanvasDimensions()),s=this.getCanvasRetinaScaling(),l=i.x/this.scaleX/s,c=i.y/this.scaleY/s,h=To({width:Math.ceil(l),height:Math.ceil(c)}),p=h.getContext("2d");p&&(p.beginPath(),p.moveTo(0,0),p.lineTo(l,0),p.lineTo(l,c),p.lineTo(0,c),p.closePath(),p.translate(l/2,c/2),p.scale(i.zoomX/this.scaleX/s,i.zoomY/this.scaleY/s),this._applyPatternGradientTransform(p,e),p.fillStyle=e.toLive(t),p.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(s*this.scaleX/i.zoomX,s*this.scaleY/i.zoomY),t.strokeStyle=(n=p.createPattern(h,"no-repeat"))!==null&&n!==void 0?n:"")}_findCenterFromElement(){return new Et(this.left+this.width/2,this.top+this.height/2)}clone(t){const e=this.toObject(t);return this.constructor.fromObject(e)}cloneAsImage(t){const e=this.toCanvasElement(t);return new(ne.getClass("image"))(e)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=I1(this),n=this.group,i=this.shadow,s=Math.abs,l=t.enableRetinaScaling?_1():1,c=(t.multiplier||1)*l,h=t.canvasProvider||(F=>new Xp(F,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,t.withoutTransform&&$m(this),t.withoutShadow&&(this.shadow=null),t.viewportTransform&&Jm(this,this.getViewportTransform()),this.setCoords();const p=Xs(),m=this.getBoundingRect(),w=this.shadow,b=new Et;if(w){const F=w.blur,Y=w.nonScaling?new Et(1,1):this.getObjectScaling();b.x=2*Math.round(s(w.offsetX)+F)*s(Y.x),b.y=2*Math.round(s(w.offsetY)+F)*s(Y.y)}const y=m.width+b.x,A=m.height+b.y;p.width=Math.ceil(y),p.height=Math.ceil(A);const k=h(p);t.format==="jpeg"&&(k.backgroundColor="#fff"),this.setPositionByOrigin(new Et(k.width/2,k.height/2),De,De);const O=this.canvas;k._objects=[this],this.set("canvas",k),this.setCoords();const T=k.toCanvasElement(c||1,t);return this.set("canvas",O),this.shadow=i,n&&(this.group=n),this.set(e),this.setCoords(),k._objects=[],k.destroy(),T}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return A1(this.toCanvasElement(t),t.format||"png",t.quality||1)}isType(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.includes(this.constructor.type)||e.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(t){const{centeredRotation:e,originX:n,originY:i}=this;if(e){const{x:s,y:l}=this.getRelativeCenterPoint();this.originX=De,this.originY=De,this.left=s,this.top=l}if(this.set("angle",t),e){const{x:s,y:l}=this.translateToOriginPoint(this.getRelativeCenterPoint(),n,i);this.left=s,this.top=l,this.originX=n,this.originY=i}}setOnGroup(){}_setupCompositeOperation(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}dispose(){Pf.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Ao().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(t,e){return Object.entries(t).reduce((n,i)=>{let[s,l]=i;return n[s]=this._animate(s,l,e),n},{})}_animate(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=t.split("."),s=this.constructor.colorProperties.includes(i[i.length-1]),{abort:l,startValue:c,onChange:h,onComplete:p}=n,m=ht(ht({},n),{},{target:this,startValue:c??i.reduce((w,b)=>w[b],this),endValue:e,abort:l==null?void 0:l.bind(this),onChange:(w,b,y)=>{i.reduce((A,k,O)=>(O===i.length-1&&(A[k]=w),A[k]),this),h&&h(w,b,y)},onComplete:(w,b,y)=>{this.setCoords(),p&&p(w,b,y)}});return s?m5(m):Y1(m)}isDescendantOf(t){const{parent:e,group:n}=this;return e===t||n===t||!!e&&e.isDescendantOf(t)||!!n&&n!==e&&n.isDescendantOf(t)}getAncestors(){const t=[];let e=this;do e=e.parent,e&&t.push(e);while(e);return t}findCommonAncestors(t){if(this===t)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const e=this.getAncestors(),n=t.getAncestors();if(e.length===0&&n.length>0&&this===n[n.length-1])return{fork:[],otherFork:[t,...n.slice(0,n.length-1)],common:[this]};for(let i,s=0;s<e.length;s++){if(i=e[s],i===t)return{fork:[this,...e.slice(0,s)],otherFork:[],common:e.slice(s)};for(let l=0;l<n.length;l++){if(this===n[l])return{fork:[],otherFork:[t,...n.slice(0,l)],common:[this,...e]};if(i===n[l])return{fork:[this,...e.slice(0,s)],otherFork:[t,...n.slice(0,l)],common:e.slice(s)}}}return{fork:[this,...e],otherFork:[t,...n],common:[]}}hasCommonAncestors(t){const e=this.findCommonAncestors(t);return e&&!!e.common.length}isInFrontOf(t){if(this===t)return;const e=this.findCommonAncestors(t);if(e.fork.includes(t))return!0;if(e.otherFork.includes(this))return!1;const n=e.common[0]||this.canvas;if(!n)return;const i=e.fork.pop(),s=e.otherFork.pop(),l=n._objects.indexOf(i),c=n._objects.indexOf(s);return l>-1&&l>c}toObject(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(_f.customProperties,this.constructor.customProperties||[]);let e;const n=Xe.NUM_FRACTION_DIGITS,{clipPath:i,fill:s,stroke:l,shadow:c,strokeDashArray:h,left:p,top:m,originX:w,originY:b,width:y,height:A,strokeWidth:k,strokeLineCap:O,strokeDashOffset:T,strokeLineJoin:F,strokeUniform:Y,strokeMiterLimit:st,scaleX:Z,scaleY:mt,angle:tt,flipX:q,flipY:dt,opacity:bt,visible:R,backgroundColor:B,fillRule:G,paintFirst:H,globalCompositeOperation:Lt,skewX:wt,skewY:Ct}=this;i&&!i.excludeFromExport&&(e=i.toObject(t.concat("inverted","absolutePositioned")));const X=ct=>Pn(ct,n),ft=ht(ht({},mu(this,t)),{},{type:this.constructor.type,version:fp,originX:w,originY:b,left:X(p),top:X(m),width:X(y),height:X(A),fill:k0(s)?s.toObject():s,stroke:k0(l)?l.toObject():l,strokeWidth:X(k),strokeDashArray:h&&h.concat(),strokeLineCap:O,strokeDashOffset:T,strokeLineJoin:F,strokeUniform:Y,strokeMiterLimit:X(st),scaleX:X(Z),scaleY:X(mt),angle:X(tt),flipX:q,flipY:dt,opacity:X(bt),shadow:c&&c.toObject(),visible:R,backgroundColor:B,fillRule:G,paintFirst:H,globalCompositeOperation:Lt,skewX:X(wt),skewY:X(Ct)},e?{clipPath:e}:null);return this.includeDefaultValues?ft:this._removeDefaultValues(ft)}toDatalessObject(t){return this.toObject(t)}_removeDefaultValues(t){const e=this.constructor.getDefaults(),n=Object.keys(e).length>0?e:Object.getPrototypeOf(this);return Yp(t,(i,s)=>{if(s===en||s===Li||s==="type")return!0;const l=n[s];return i!==l&&!(Array.isArray(i)&&Array.isArray(l)&&i.length===0&&l.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(t){let e=kn(t,y5),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:i}=n,s=kn(n,w5);return Vf(e,s).then(l=>i?(delete l[i],new this(e[i],l)):new this(l))}static fromObject(t,e){return this._fromObject(t,e)}};lt(ha,"stateProperties",s5),lt(ha,"cacheProperties",_a),lt(ha,"ownDefaults",o5),lt(ha,"type","FabricObject"),lt(ha,"colorProperties",[er,Ti,"backgroundColor"]),lt(ha,"customProperties",[]),ne.setClass(ha),ne.setClass(ha,"object");const vu=(a,t,e)=>(n,i,s,l)=>{const c=t(n,i,s,l);return c&&R1(a,ht(ht({},z1(n,i,s,l)),e)),c};function yu(a){return(t,e,n,i)=>{const{target:s,originX:l,originY:c}=e,h=s.getRelativeCenterPoint(),p=s.translateToOriginPoint(h,l,c),m=a(t,e,n,i);return s.setPositionByOrigin(p,e.originX,e.originY),m}}const M0=vu(Ju,yu((a,t,e,n)=>{const i=$p(t,t.originX,t.originY,e,n);if($n(t.originX)===$n(De)||$n(t.originX)===$n(zn)&&i.x<0||$n(t.originX)===$n(en)&&i.x>0){const{target:s}=t,l=s.strokeWidth/(s.strokeUniform?s.scaleX:1),c=B1(t)?2:1,h=s.width,p=Math.abs(i.x*c/s.scaleX)-l;return s.set("width",Math.max(p,1)),h!==s.width}return!1}));function x5(a,t,e,n,i){n=n||{};const s=this.sizeX||n.cornerSize||i.cornerSize,l=this.sizeY||n.cornerSize||i.cornerSize,c=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,h=c?Ti:er,p=!c&&(n.cornerStrokeColor||i.cornerStrokeColor);let m,w=t,b=e;a.save(),a.fillStyle=n.cornerColor||i.cornerColor||"",a.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",s>l?(m=s,a.scale(1,l/s),b=e*s/l):l>s?(m=l,a.scale(s/l,1),w=t*l/s):m=s,a.beginPath(),a.arc(w,b,m/2,0,Lf,!1),a[h](),p&&a.stroke(),a.restore()}function _5(a,t,e,n,i){n=n||{};const s=this.sizeX||n.cornerSize||i.cornerSize,l=this.sizeY||n.cornerSize||i.cornerSize,c=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,h=c?Ti:er,p=!c&&(n.cornerStrokeColor||i.cornerStrokeColor),m=s/2,w=l/2;a.save(),a.fillStyle=n.cornerColor||i.cornerColor||"",a.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",a.translate(t,e);const b=i.getTotalAngle();a.rotate(Vn(b)),a["".concat(h,"Rect")](-m,-w,s,l),p&&a.strokeRect(-m,-w,s,l),a.restore()}class Us{constructor(t){lt(this,"visible",!0),lt(this,"actionName",qf),lt(this,"angle",0),lt(this,"x",0),lt(this,"y",0),lt(this,"offsetX",0),lt(this,"offsetY",0),lt(this,"sizeX",0),lt(this,"sizeY",0),lt(this,"touchSizeX",0),lt(this,"touchSizeY",0),lt(this,"cursorStyle","crosshair"),lt(this,"withConnection",!1),Object.assign(this,t)}shouldActivate(t,e,n,i){var s;let{tl:l,tr:c,br:h,bl:p}=i;return((s=e.canvas)===null||s===void 0?void 0:s.getActiveObject())===e&&e.isControlVisible(t)&&Tn.isPointInPolygon(n,[l,c,h,p])}getActionHandler(t,e,n){return this.actionHandler}getMouseDownHandler(t,e,n){return this.mouseDownHandler}getMouseUpHandler(t,e,n){return this.mouseUpHandler}cursorStyleHandler(t,e,n){return e.cursorStyle}getActionName(t,e,n){return e.actionName}getVisibility(t,e){var n,i;return(n=(i=t._controlsVisibility)===null||i===void 0?void 0:i[e])!==null&&n!==void 0?n:this.visible}setVisibility(t,e,n){this.visible=t}positionHandler(t,e,n,i){return new Et(this.x*t.x+this.offsetX,this.y*t.y+this.offsetY).transform(e)}calcCornerCoords(t,e,n,i,s,l){const c=Vp([ih(n,i),sh({angle:t}),Hp((s?this.touchSizeX:this.sizeX)||e,(s?this.touchSizeY:this.sizeY)||e)]);return{tl:new Et(-.5,-.5).transform(c),tr:new Et(.5,-.5).transform(c),br:new Et(.5,.5).transform(c),bl:new Et(-.5,.5).transform(c)}}render(t,e,n,i,s){((i=i||{}).cornerStyle||s.cornerStyle)==="circle"?x5.call(this,t,e,n,i,s):_5.call(this,t,e,n,i,s)}}const b5=(a,t,e)=>e.lockRotation?Df:t.cursorStyle,S5=vu(S1,yu((a,t,e,n)=>{let{target:i,ex:s,ey:l,theta:c,originX:h,originY:p}=t;const m=i.translateToOriginPoint(i.getRelativeCenterPoint(),h,p);if(Ys(i,"lockRotation"))return!1;const w=Math.atan2(l-m.y,s-m.x),b=Math.atan2(n-m.y,e-m.x);let y=mc(b-w+c);if(i.snapAngle&&i.snapAngle>0){const k=i.snapAngle,O=i.snapThreshold||k,T=Math.ceil(y/k)*k,F=Math.floor(y/k)*k;Math.abs(y-F)<O?y=F:Math.abs(y-T)<O&&(y=T)}y<0&&(y=360+y),y%=360;const A=i.angle!==y;return i.angle=y,A}));function X1(a,t){const e=t.canvas,n=a[e.uniScaleKey];return e.uniformScaling&&!n||!e.uniformScaling&&n}function G1(a,t,e){const n=Ys(a,"lockScalingX"),i=Ys(a,"lockScalingY");if(n&&i||!t&&(n||i)&&e||n&&t==="x"||i&&t==="y")return!0;const{width:s,height:l,strokeWidth:c}=a;return s===0&&c===0&&t!=="y"||l===0&&c===0&&t!=="x"}const C5=["e","se","s","sw","w","nw","n","ne","e"],Hu=(a,t,e)=>{const n=X1(a,e);if(G1(e,t.x!==0&&t.y===0?"x":t.x===0&&t.y!==0?"y":"",n))return Df;const i=U1(e,t);return"".concat(C5[i],"-resize")};function Qp(a,t,e,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s=t.target,l=i.by,c=X1(a,s);let h,p,m,w,b,y;if(G1(s,l,c))return!1;if(t.gestureScale)p=t.scaleX*t.gestureScale,m=t.scaleY*t.gestureScale;else{if(h=$p(t,t.originX,t.originY,e,n),b=l!=="y"?Math.sign(h.x||t.signX||1):1,y=l!=="x"?Math.sign(h.y||t.signY||1):1,t.signX||(t.signX=b),t.signY||(t.signY=y),Ys(s,"lockScalingFlip")&&(t.signX!==b||t.signY!==y))return!1;if(w=s._getTransformedDimensions(),c&&!l){const O=Math.abs(h.x)+Math.abs(h.y),{original:T}=t,F=O/(Math.abs(w.x*T.scaleX/s.scaleX)+Math.abs(w.y*T.scaleY/s.scaleY));p=T.scaleX*F,m=T.scaleY*F}else p=Math.abs(h.x*s.scaleX/w.x),m=Math.abs(h.y*s.scaleY/w.y);B1(t)&&(p*=2,m*=2),t.signX!==b&&l!=="y"&&(t.originX=T0(t.originX),p*=-1,t.signX=b),t.signY!==y&&l!=="x"&&(t.originY=T0(t.originY),m*=-1,t.signY=y)}const A=s.scaleX,k=s.scaleY;return l?(l==="x"&&s.set(Pi,p),l==="y"&&s.set(gs,m)):(!Ys(s,"lockScalingX")&&s.set(Pi,p),!Ys(s,"lockScalingY")&&s.set(gs,m)),A!==s.scaleX||k!==s.scaleY}const qh=vu(Uf,yu((a,t,e,n)=>Qp(a,t,e,n))),k5=vu(Uf,yu((a,t,e,n)=>Qp(a,t,e,n,{by:"x"}))),L5=vu(Uf,yu((a,t,e,n)=>Qp(a,t,e,n,{by:"y"}))),A5=["target","ex","ey","skewingSide"],$d={x:{counterAxis:"y",scale:Pi,skew:pu,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:gs,skew:gu,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},T5=["ns","nesw","ew","nwse"],P5=(a,t,e)=>{if(t.x!==0&&Ys(e,"lockSkewingY")||t.y!==0&&Ys(e,"lockSkewingX"))return Df;const n=U1(e,t)%4;return"".concat(T5[n],"-resize")};function $1(a,t,e,n,i){const{target:s}=e,{counterAxis:l,origin:c,lockSkewing:h,skew:p,flip:m}=$d[a];if(Ys(s,h))return!1;const{origin:w,flip:b}=$d[l],y=$n(e[w])*(s[b]?-1:1),A=-Math.sign(y)*(s[m]?-1:1),k=.5*-((s[p]===0&&$p(e,De,De,n,i)[a]>0||s[p]>0?1:-1)*A)+.5;return vu(C1,yu((T,F,Y,st)=>function(Z,mt,tt){let{target:q,ex:dt,ey:bt,skewingSide:R}=mt,B=kn(mt,A5);const{skew:G}=$d[Z],H=tt.subtract(new Et(dt,bt)).divide(new Et(q.scaleX,q.scaleY))[Z],Lt=q[G],wt=B[G],Ct=Math.tan(Vn(wt)),X=Z==="y"?q._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:q._getTransformedDimensions({scaleX:1,scaleY:1}).y,ft=2*H*R/Math.max(X,1)+Ct,ct=mc(Math.atan(ft));q.set(G,ct);const K=Lt!==q[G];if(K&&Z==="y"){const{skewX:L,scaleX:z}=q,W=q._getTransformedDimensions({skewY:Lt}),J=q._getTransformedDimensions(),et=L!==0?W.x/J.x:1;et!==1&&q.set(Pi,et*z)}return K}(a,F,new Et(Y,st))))(t,ht(ht({},e),{},{[c]:k,skewingSide:A}),n,i)}const N5=(a,t,e,n)=>$1("x",a,t,e,n),O5=(a,t,e,n)=>$1("y",a,t,e,n);function Xf(a,t){return a[t.canvas.altActionKey]}const Wh=(a,t,e)=>{const n=Xf(a,e);return t.x===0?n?pu:gs:t.y===0?n?gu:Pi:""},eu=(a,t,e)=>Xf(a,e)?P5(0,t,e):Hu(a,t,e),j0=(a,t,e,n)=>Xf(a,t.target)?O5(a,t,e,n):k5(a,t,e,n),F0=(a,t,e,n)=>Xf(a,t.target)?N5(a,t,e,n):L5(a,t,e,n),K1=()=>({ml:new Us({x:-.5,y:0,cursorStyleHandler:eu,actionHandler:j0,getActionName:Wh}),mr:new Us({x:.5,y:0,cursorStyleHandler:eu,actionHandler:j0,getActionName:Wh}),mb:new Us({x:0,y:.5,cursorStyleHandler:eu,actionHandler:F0,getActionName:Wh}),mt:new Us({x:0,y:-.5,cursorStyleHandler:eu,actionHandler:F0,getActionName:Wh}),tl:new Us({x:-.5,y:-.5,cursorStyleHandler:Hu,actionHandler:qh}),tr:new Us({x:.5,y:-.5,cursorStyleHandler:Hu,actionHandler:qh}),bl:new Us({x:-.5,y:.5,cursorStyleHandler:Hu,actionHandler:qh}),br:new Us({x:.5,y:.5,cursorStyleHandler:Hu,actionHandler:qh}),mtr:new Us({x:0,y:-.5,actionHandler:S5,cursorStyleHandler:b5,offsetY:-40,withConnection:!0,actionName:qp})}),E5=()=>({mr:new Us({x:.5,y:0,actionHandler:M0,cursorStyleHandler:eu,actionName:Ju}),ml:new Us({x:-.5,y:0,actionHandler:M0,cursorStyleHandler:eu,actionName:Ju})}),D5=()=>ht(ht({},K1()),E5());class th extends ha{static getDefaults(){return ht(ht({},super.getDefaults()),th.ownDefaults)}constructor(t){super(),Object.assign(this,this.constructor.createControls(),th.ownDefaults),this.setOptions(t)}static createControls(){return{controls:K1()}}_updateCacheCanvas(){const t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){const e=t._currentTransform,n=e.target,i=e.action;if(this===n&&i&&i.startsWith(qf))return!1}return super._updateCacheCanvas()}getActiveControl(){const t=this.__corner;return t?{key:t,control:this.controls[t],coord:this.oCoords[t]}:void 0}findControl(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const n=Object.entries(this.oCoords);for(let i=n.length-1;i>=0;i--){const[s,l]=n[i],c=this.controls[s];if(c.shouldActivate(s,this,t,e?l.touchCorner:l.corner))return this.__corner=s,{key:s,control:c,coord:this.oCoords[s]}}}calcOCoords(){const t=this.getViewportTransform(),e=this.getCenterPoint(),n=ih(e.x,e.y),i=sh({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),s=Pr(n,i),l=Pr(t,s),c=Pr(l,[1/t[0],0,0,1/t[3],0,0]),h=this.group?Nf(this.calcTransformMatrix()):void 0;h&&(h.scaleX=Math.abs(h.scaleX),h.scaleY=Math.abs(h.scaleY));const p=this._calculateCurrentDimensions(h),m={};return this.forEachControl((w,b)=>{const y=w.positionHandler(p,c,this,w);m[b]=Object.assign(y,this._calcCornerCoords(w,y))}),m}_calcCornerCoords(t,e){const n=this.getTotalAngle();return{corner:t.calcCornerCoords(n,this.cornerSize,e.x,e.y,!1,this),touchCorner:t.calcCornerCoords(n,this.touchCornerSize,e.x,e.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(t){for(const e in this.controls)t(this.controls[e],e,this)}drawSelectionBackground(t){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;t.save();const e=this.getRelativeCenterPoint(),n=this._calculateCurrentDimensions(),i=this.getViewportTransform();t.translate(e.x,e.y),t.scale(1/i[0],1/i[3]),t.rotate(Vn(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-n.x/2,-n.y/2,n.x,n.y),t.restore()}strokeBorders(t,e){t.strokeRect(-e.x/2,-e.y/2,e.x,e.y)}_drawBorders(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=ht({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},n);t.save(),t.strokeStyle=i.borderColor,this._setLineDash(t,i.borderDashArray),this.strokeBorders(t,e),i.hasControls&&this.drawControlsConnectingLines(t,e),t.restore()}_renderControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:n,hasControls:i}=this,s=ht({hasBorders:n,hasControls:i},e),l=this.getViewportTransform(),c=s.hasBorders,h=s.hasControls,p=Pr(l,this.calcTransformMatrix()),m=Nf(p);t.save(),t.translate(m.translateX,m.translateY),t.lineWidth=this.borderScaleFactor,this.group===this.parent&&(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(m.angle-=180),t.rotate(Vn(this.group?m.angle:this.angle)),c&&this.drawBorders(t,m,e),h&&this.drawControls(t,e),t.restore()}drawBorders(t,e,n){let i;if(n&&n.forActiveSelection||this.group){const s=Gp(this.width,this.height,Wf(e)),l=this.isStrokeAccountedForInDimensions()?Wp:(this.strokeUniform?new Et().scalarAdd(this.canvas?this.canvas.getZoom():1):new Et(e.scaleX,e.scaleY)).scalarMultiply(this.strokeWidth);i=s.add(l).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else i=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(t,i,n)}drawControlsConnectingLines(t,e){let n=!1;t.beginPath(),this.forEachControl((i,s)=>{i.withConnection&&i.getVisibility(this,s)&&(n=!0,t.moveTo(i.x*e.x,i.y*e.y),t.lineTo(i.x*e.x+i.offsetX,i.y*e.y+i.offsetY))}),n&&t.stroke()}drawControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.save();const n=this.getCanvasRetinaScaling(),{cornerStrokeColor:i,cornerDashArray:s,cornerColor:l}=this,c=ht({cornerStrokeColor:i,cornerDashArray:s,cornerColor:l},e);t.setTransform(n,0,0,n,0,0),t.strokeStyle=t.fillStyle=c.cornerColor,this.transparentCorners||(t.strokeStyle=c.cornerStrokeColor),this._setLineDash(t,c.cornerDashArray),this.forEachControl((h,p)=>{if(h.getVisibility(this,p)){const m=this.oCoords[p];h.render(t,m.x,m.y,c,this)}}),t.restore()}isControlVisible(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)}setControlVisible(t,e){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e}setControlsVisibility(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(t).forEach(e=>{let[n,i]=e;return this.setControlVisible(n,i)})}clearContextTop(t){if(!this.canvas)return;const e=this.canvas.contextTop;if(!e)return;const n=this.canvas.viewportTransform;e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(e);const i=this.width+4,s=this.height+4;return e.clearRect(-i/2,-s/2,i,s),t||e.restore(),e}onDeselect(t){return!1}onSelect(t){return!1}shouldStartDragging(t){return!1}onDragStart(t){return!1}canDrop(t){return!1}renderDragSourceEffect(t){}renderDropTargetEffect(t){}}function J1(a,t){return t.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(a.prototype,n,Object.getOwnPropertyDescriptor(e.prototype,n)||Object.create(null))})}),a}lt(th,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class Kr extends th{}J1(Kr,[q1]),ne.setClass(Kr),ne.setClass(Kr,"object");const M5=(a,t,e,n)=>{const i=2*(n=Math.round(n))+1,{data:s}=a.getImageData(t-n,e-n,i,i);for(let l=3;l<s.length;l+=4)if(s[l]>0)return!1;return!0};class Q1{constructor(t){this.options=t,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new Et(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new Et(1/this.options.scaleX,1/this.options.scaleY):new Et(1,1)}createSideVector(t,e){const n=vp(t,e);return this.options.strokeUniform?n.multiply(this.scale):n}projectOrthogonally(t,e,n){return this.applySkew(t.add(this.calcOrthogonalProjection(t,e,n)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(t){const e=new Et(t);return e.y+=e.x*Math.tan(Vn(this.options.skewY)),e.x+=e.y*Math.tan(Vn(this.options.skewX)),e}scaleUnitVector(t,e){return t.multiply(this.strokeUniformScalar).scalarMultiply(e)}}const j5=new Et;class au extends Q1{static getOrthogonalRotationFactor(t,e){const n=e?wp(t,e):r5(t);return Math.abs(n)<rh?-1:1}constructor(t,e,n,i){super(i),lt(this,"AB",void 0),lt(this,"AC",void 0),lt(this,"alpha",void 0),lt(this,"bisector",void 0),this.A=new Et(t),this.B=new Et(e),this.C=new Et(n),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=wp(this.AB,this.AC),this.bisector=Kp(V1(this.AB.eq(j5)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(t,e),s=H1(i),l=au.getOrthogonalRotationFactor(s,this.bisector);return this.scaleUnitVector(s,n*l)}projectBevel(){const t=[];return(this.alpha%Lf==0?[this.B]:[this.B,this.C]).forEach(e=>{t.push(this.projectOrthogonally(this.A,e)),t.push(this.projectOrthogonally(this.A,e,-this.strokeProjectionMagnitude))}),t}projectMiter(){const t=[],e=Math.abs(this.alpha),n=1/Math.sin(e/2),i=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*n),s=this.options.strokeUniform?yp(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return yp(i)/this.strokeProjectionMagnitude<=s&&t.push(this.applySkew(this.A.add(i))),t.push(...this.projectBevel()),t}projectRoundNoSkew(t,e){const n=[],i=new Et(au.getOrthogonalRotationFactor(this.bisector),au.getOrthogonalRotationFactor(new Et(this.bisector.y,this.bisector.x)));return[new Et(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i),new Et(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i)].forEach(s=>{O0(s,t,e)&&n.push(this.A.add(s))}),n}projectRoundWithSkew(t,e){const n=[],{skewX:i,skewY:s,scaleX:l,scaleY:c,strokeUniform:h}=this.options,p=new Et(Math.tan(Vn(i)),Math.tan(Vn(s))),m=this.strokeProjectionMagnitude,w=h?m/c/Math.sqrt(1/c**2+1/l**2*p.y**2):m/Math.sqrt(1+p.y**2),b=new Et(Math.sqrt(Math.max(m**2-w**2,0)),w),y=h?m/Math.sqrt(1+p.x**2*(1/c)**2/(1/l+1/l*p.x*p.y)**2):m/Math.sqrt(1+p.x**2/(1+p.x*p.y)**2),A=new Et(y,Math.sqrt(Math.max(m**2-y**2,0)));return[A,A.scalarMultiply(-1),b,b.scalarMultiply(-1)].map(k=>this.applySkew(h?k.multiply(this.strokeUniformScalar):k)).forEach(k=>{O0(k,t,e)&&n.push(this.applySkew(this.A).add(k))}),n}projectRound(){const t=[];t.push(...this.projectBevel());const e=this.alpha%Lf==0,n=this.applySkew(this.A),i=t[e?0:2].subtract(n),s=t[e?1:0].subtract(n),l=e?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),c=Xu(i,l)>0,h=c?i:s,p=c?s:i;return this.isSkewed()?t.push(...this.projectRoundWithSkew(h,p)):t.push(...this.projectRoundNoSkew(h,p)),t}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t,angle:this.alpha,bisector:this.bisector}))}}class I0 extends Q1{constructor(t,e,n){super(n),this.A=new Et(t),this.T=new Et(e)}calcOrthogonalProjection(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(t,e);return this.scaleUnitVector(H1(i),n)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const t=[];if(!this.isSkewed()&&this.A.eq(this.T)){const e=new Et(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.applySkew(this.A.add(e)),this.applySkew(this.A.subtract(e)))}else t.push(...new au(this.A,this.T,this.T,this.options).projectRound());return t}projectSquare(){const t=[];if(this.A.eq(this.T)){const e=new Et(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.A.add(e),this.A.subtract(e))}else{const e=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),n=this.scaleUnitVector(Kp(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),i=this.A.add(n);t.push(i.add(e),i.subtract(e))}return t.map(e=>this.applySkew(e))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t}))}}const F5=function(a,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const n=[];if(a.length===0)return n;const i=a.reduce((s,l)=>(s[s.length-1].eq(l)||s.push(new Et(l)),s),[new Et(a[0])]);if(i.length===1)e=!0;else if(!e){const s=i[0],l=((c,h)=>{for(let p=c.length-1;p>=0;p--)if(h(c[p],p,c))return p;return-1})(i,c=>!c.eq(s));i.splice(l+1)}return i.forEach((s,l,c)=>{let h,p;l===0?(p=c[1],h=e?s:c[c.length-1]):l===c.length-1?(h=c[l-1],p=e?s:c[0]):(h=c[l-1],p=c[l+1]),e&&c.length===1?n.push(...new I0(s,s,t).project()):!e||l!==0&&l!==c.length-1?n.push(...new au(s,h,p,t).project()):n.push(...new I0(s,l===0?p:h,t).project())}),n},Zp=a=>{const t={};return Object.keys(a).forEach(e=>{t[e]={},Object.keys(a[e]).forEach(n=>{t[e][n]=ht({},a[e][n])})}),t},I5=a=>a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),tg=a=>{const t=[];for(let e,n=0;n<a.length;n++)(e=R5(a,n))!==!1&&t.push(e);return t},R5=(a,t)=>{const e=a.charCodeAt(t);if(isNaN(e))return"";if(e<55296||e>57343)return a.charAt(t);if(55296<=e&&e<=56319){if(a.length<=t+1)throw"High surrogate without following low surrogate";const i=a.charCodeAt(t+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return a.charAt(t)+a.charAt(t+1)}if(t===0)throw"Low surrogate without preceding high surrogate";const n=a.charCodeAt(t-1);if(55296>n||n>56319)throw"Low surrogate without preceding high surrogate";return!1},eg=function(a,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.fill!==t.fill||a.stroke!==t.stroke||a.strokeWidth!==t.strokeWidth||a.fontSize!==t.fontSize||a.fontFamily!==t.fontFamily||a.fontWeight!==t.fontWeight||a.fontStyle!==t.fontStyle||a.textBackgroundColor!==t.textBackgroundColor||a.deltaY!==t.deltaY||e&&(a.overline!==t.overline||a.underline!==t.underline||a.linethrough!==t.linethrough)},B5=(a,t)=>{const e=t.split(`
`),n=[];let i=-1,s={};a=Zp(a);for(let l=0;l<e.length;l++){const c=tg(e[l]);if(a[l])for(let h=0;h<c.length;h++){i++;const p=a[l][h];p&&Object.keys(p).length>0&&(eg(s,p,!0)?n.push({start:i,end:i+1,style:p}):n[n.length-1].end++),s=p||{}}else i+=c.length,s={}}return n},z5=(a,t)=>{if(!Array.isArray(a))return Zp(a);const e=t.split(Up),n={};let i=-1,s=0;for(let l=0;l<e.length;l++){const c=tg(e[l]);for(let h=0;h<c.length;h++)i++,a[s]&&a[s].start<=i&&i<a[s].end&&(n[l]=n[l]||{},n[l][h]=ht({},a[s].style),i===a[s].end-1&&s++)}return n},kl=["display","transform",er,"fill-opacity","fill-rule","opacity",Ti,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function R0(a,t){const e=a.nodeName,n=a.getAttribute("class"),i=a.getAttribute("id"),s="(?![a-zA-Z\\-]+)";let l;if(l=new RegExp("^"+e,"i"),t=t.replace(l,""),i&&t.length&&(l=new RegExp("#"+i+s,"i"),t=t.replace(l,"")),n&&t.length){const c=n.split(" ");for(let h=c.length;h--;)l=new RegExp("\\."+c[h]+s,"i"),t=t.replace(l,"")}return t.length===0}function U5(a,t){let e=!0;const n=R0(a,t.pop());return n&&t.length&&(e=function(i,s){let l,c=!0;for(;i.parentElement&&i.parentElement.nodeType===1&&s.length;)c&&(l=s.pop()),c=R0(i=i.parentElement,l);return s.length===0}(a,t)),n&&e&&t.length===0}const q5=a=>{var t;return(t=e5[a])!==null&&t!==void 0?t:a},W5=new RegExp("(".concat(vc,")"),"gi"),V5=a=>a.replace(W5," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var B0,z0,U0,q0,W0,V0,H0;const ci="(".concat(vc,")"),H5=String.raw(B0||(B0=Cl(["(skewX)(",")"],["(skewX)\\(","\\)"])),ci),Y5=String.raw(z0||(z0=Cl(["(skewY)(",")"],["(skewY)\\(","\\)"])),ci),X5=String.raw(U0||(U0=Cl(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),ci,ci,ci),G5=String.raw(q0||(q0=Cl(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),ci,ci),$5=String.raw(W0||(W0=Cl(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),ci,ci),K5=String.raw(V0||(V0=Cl(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),ci,ci,ci,ci,ci,ci),ng="(?:".concat(K5,"|").concat($5,"|").concat(X5,"|").concat(G5,"|").concat(H5,"|").concat(Y5,")"),J5="(?:".concat(ng,"*)"),Q5=String.raw(H0||(H0=Cl(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),J5),Z5=new RegExp(Q5),tv=new RegExp(ng),ev=new RegExp(ng,"g");function xp(a){const t=[];if(!(a=V5(a).replace(/\s*([()])\s*/gi,"$1"))||a&&!Z5.test(a))return[...ui];for(const e of a.matchAll(ev)){const n=tv.exec(e[0]);if(!n)continue;let i=ui;const s=n.filter(A=>!!A),[,l,...c]=s,[h,p,m,w,b,y]=c.map(A=>parseFloat(A));switch(l){case"translate":i=ih(h,p);break;case qp:i=sh({angle:h},{x:p,y:m});break;case qf:i=Hp(h,p);break;case pu:i=N1(h);break;case gu:i=O1(h);break;case"matrix":i=[h,p,m,w,b,y]}t.push(i)}return Vp(t)}function nv(a,t,e,n){const i=Array.isArray(t);let s,l=t;if(a!==er&&a!==Ti||t!==Ai){if(a==="strokeUniform")return t==="non-scaling-stroke";if(a==="strokeDashArray")l=t===Ai?null:t.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(a==="transformMatrix")l=e&&e.transformMatrix?Pr(e.transformMatrix,xp(t)):xp(t);else if(a==="visible")l=t!==Ai&&t!=="hidden",e&&e.visible===!1&&(l=!1);else if(a==="opacity")l=parseFloat(t),e&&e.opacity!==void 0&&(l*=e.opacity);else if(a==="textAnchor")l=t==="start"?en:t==="end"?zn:De;else if(a==="charSpacing")s=su(t,n)/n*1e3;else if(a==="paintFirst"){const c=t.indexOf(er),h=t.indexOf(Ti);l=er,(c>-1&&h>-1&&h<c||c===-1&&h>-1)&&(l=Ti)}else{if(a==="href"||a==="xlink:href"||a==="font"||a==="id")return t;if(a==="imageSmoothing")return t==="optimizeQuality";s=i?t.map(su):su(t,n)}}else l="";return!i&&isNaN(s)?l:s}function rv(a,t){const e=a.match(t5);if(!e)return;const n=e[1],i=e[3],s=e[4],l=e[5],c=e[6];n&&(t.fontStyle=n),i&&(t.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),s&&(t.fontSize=su(s)),c&&(t.fontFamily=c),l&&(t.lineHeight=l==="normal"?1:l)}function iv(a,t){a.replace(/;\s*$/,"").split(";").forEach(e=>{if(!e)return;const[n,i]=e.split(":");t[n.trim().toLowerCase()]=i.trim()})}function sv(a){const t={},e=a.getAttribute("style");return e&&(typeof e=="string"?iv(e,t):function(n,i){Object.entries(n).forEach(s=>{let[l,c]=s;c!==void 0&&(i[l.toLowerCase()]=c)})}(e,t)),t}const ov={stroke:"strokeOpacity",fill:"fillOpacity"};function ba(a,t,e){if(!a)return{};let n,i={},s=zp;a.parentNode&&N0.test(a.parentNode.nodeName)&&(i=ba(a.parentElement,t,e),i.fontSize&&(n=s=su(i.fontSize)));const l=ht(ht(ht({},t.reduce((p,m)=>{const w=a.getAttribute(m);return w&&(p[m]=w),p},{})),function(p){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w={};for(const b in m)U5(p,b.split(" "))&&(w=ht(ht({},w),m[b]));return w}(a,e)),sv(a));l[Xd]&&a.setAttribute(Xd,l[Xd]),l[Yd]&&(n=su(l[Yd],s),l[Yd]="".concat(n));const c={};for(const p in l){const m=q5(p),w=nv(m,l[p],i,n);c[m]=w}c.font&&rv(c.font,c);const h=ht(ht({},i),c);return N0.test(a.nodeName)?h:function(p){const m=Kr.getDefaults();return Object.entries(ov).forEach(w=>{let[b,y]=w;if(p[y]===void 0||p[b]==="")return;if(p[b]===void 0){if(!m[b])return;p[b]=m[b]}if(p[b].indexOf("url(")===0)return;const A=new Gi(p[b]);p[b]=A.setAlpha(Pn(A.getAlpha()*p[y],2)).toRgba()}),p}(h)}const av=["left","top","width","height","visible"],Z1=["rx","ry"];class bo extends Kr{static getDefaults(){return ht(ht({},super.getDefaults()),bo.ownDefaults)}constructor(t){super(),Object.assign(this,bo.ownDefaults),this.setOptions(t),this._initRxRy()}_initRxRy(){const{rx:t,ry:e}=this;t&&!e?this.ry=t:e&&!t&&(this.rx=e)}_render(t){const{width:e,height:n}=this,i=-e/2,s=-n/2,l=this.rx?Math.min(this.rx,e/2):0,c=this.ry?Math.min(this.ry,n/2):0,h=l!==0||c!==0;t.beginPath(),t.moveTo(i+l,s),t.lineTo(i+e-l,s),h&&t.bezierCurveTo(i+e-pl*l,s,i+e,s+pl*c,i+e,s+c),t.lineTo(i+e,s+n-c),h&&t.bezierCurveTo(i+e,s+n-pl*c,i+e-pl*l,s+n,i+e-l,s+n),t.lineTo(i+l,s+n),h&&t.bezierCurveTo(i+pl*l,s+n,i,s+n-pl*c,i,s+n-c),t.lineTo(i,s+c),h&&t.bezierCurveTo(i,s+pl*c,i+pl*l,s,i+l,s),t.closePath(),this._renderPaintInOrder(t)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...Z1,...t])}_toSVG(){const{width:t,height:e,rx:n,ry:i}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-t/2,'" y="').concat(-e/2,'" rx="').concat(n,'" ry="').concat(i,'" width="').concat(t,'" height="').concat(e,`" />
`)]}static async fromElement(t,e,n){const i=ba(t,this.ATTRIBUTE_NAMES,n),{left:s=0,top:l=0,width:c=0,height:h=0,visible:p=!0}=i,m=kn(i,av);return new this(ht(ht(ht({},e),m),{},{left:s,top:l,width:c,height:h,visible:!!(p&&c&&h)}))}}lt(bo,"type","Rect"),lt(bo,"cacheProperties",[..._a,...Z1]),lt(bo,"ownDefaults",{rx:0,ry:0}),lt(bo,"ATTRIBUTE_NAMES",[...kl,"x","y","rx","ry","width","height"]),ne.setClass(bo),ne.setSVGClass(bo);const pa="initialization",Mf="added",rg="removed",jf="imperative",t2=(a,t)=>{const{strokeUniform:e,strokeWidth:n,width:i,height:s,group:l}=t,c=l&&l!==a?Hf(l.calcTransformMatrix(),a.calcTransformMatrix()):null,h=c?t.getRelativeCenterPoint().transform(c):t.getRelativeCenterPoint(),p=!t.isStrokeAccountedForInDimensions(),m=e&&p?Km(new Et(n,n),void 0,a.calcTransformMatrix()):Wp,w=!e&&p?n:0,b=Gp(i+w,s+w,Vp([c,t.calcOwnMatrix()],!0)).add(m).scalarDivide(2);return[h.subtract(b),h.add(b)]};class Gf{calcLayoutResult(t,e){if(this.shouldPerformLayout(t))return this.calcBoundingBox(e,t)}shouldPerformLayout(t){let{type:e,prevStrategy:n,strategy:i}=t;return e===pa||e===jf||!!n&&i!==n}shouldLayoutClipPath(t){let{type:e,target:{clipPath:n}}=t;return e!==pa&&n&&!n.absolutePositioned}getInitialSize(t,e){return e.size}calcBoundingBox(t,e){const{type:n,target:i}=e;if(n===jf&&e.overrides)return e.overrides;if(t.length===0)return;const{left:s,top:l,width:c,height:h}=va(t.map(w=>t2(i,w)).reduce((w,b)=>w.concat(b),[])),p=new Et(c,h),m=new Et(s,l).add(p.scalarDivide(2));if(n===pa){const w=this.getInitialSize(e,{size:p,center:m});return{center:m,relativeCorrection:new Et(0,0),size:w}}return{center:m.transform(i.calcOwnMatrix()),size:p}}}lt(Gf,"type","strategy");class _p extends Gf{shouldPerformLayout(t){return!0}}lt(_p,"type","fit-content"),ne.setClass(_p);const lv=["strategy"],cv=["target","strategy","bubbles","prevStrategy"],e2="layoutManager";class eh{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new _p;lt(this,"strategy",void 0),this.strategy=t,this._subscriptions=new Map}performLayout(t){const e=ht(ht({bubbles:!0,strategy:this.strategy},t),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(e);const n=this.getLayoutResult(e);n&&this.commitLayout(e,n),this.onAfterLayout(e,n),this._prevLayoutStrategy=e.strategy}attachHandlers(t,e){const{target:n}=e;return[Tf,b1,Ju,S1,Uf,C1,Af,jm,Fm].map(i=>t.on(i,s=>this.performLayout(i===Tf?{type:"object_modified",trigger:i,e:s,target:n}:{type:"object_modifying",trigger:i,e:s,target:n})))}subscribe(t,e){this.unsubscribe(t,e);const n=this.attachHandlers(t,e);this._subscriptions.set(t,n)}unsubscribe(t,e){(this._subscriptions.get(t)||[]).forEach(n=>n()),this._subscriptions.delete(t)}unsubscribeTargets(t){t.targets.forEach(e=>this.unsubscribe(e,t))}subscribeTargets(t){t.targets.forEach(e=>this.subscribe(e,t))}onBeforeLayout(t){const{target:e,type:n}=t,{canvas:i}=e;if(n===pa||n===Mf?this.subscribeTargets(t):n===rg&&this.unsubscribeTargets(t),e.fire("layout:before",{context:t}),i&&i.fire("object:layout:before",{target:e,context:t}),n===jf&&t.deep){const s=kn(t,lv);e.forEachObject(l=>l.layoutManager&&l.layoutManager.performLayout(ht(ht({},s),{},{bubbles:!1,target:l})))}}getLayoutResult(t){const{target:e,strategy:n,type:i}=t,s=n.calcLayoutResult(t,e.getObjects());if(!s)return;const l=i===pa?new Et:e.getRelativeCenterPoint(),{center:c,correction:h=new Et,relativeCorrection:p=new Et}=s,m=l.subtract(c).add(h).transform(i===pa?ui:Hs(e.calcOwnMatrix()),!0).add(p);return{result:s,prevCenter:l,nextCenter:c,offset:m}}commitLayout(t,e){const{target:n}=t,{result:{size:i},nextCenter:s}=e;var l,c;n.set({width:i.x,height:i.y}),this.layoutObjects(t,e),t.type===pa?n.set({left:(l=t.x)!==null&&l!==void 0?l:s.x+i.x*$n(n.originX),top:(c=t.y)!==null&&c!==void 0?c:s.y+i.y*$n(n.originY)}):(n.setPositionByOrigin(s,De,De),n.setCoords(),n.set("dirty",!0))}layoutObjects(t,e){const{target:n}=t;n.forEachObject(i=>{i.group===n&&this.layoutObject(t,e,i)}),t.strategy.shouldLayoutClipPath(t)&&this.layoutObject(t,e,n.clipPath)}layoutObject(t,e,n){let{offset:i}=e;n.set({left:n.left+i.x,top:n.top+i.y})}onAfterLayout(t,e){const{target:n,strategy:i,bubbles:s,prevStrategy:l}=t,c=kn(t,cv),{canvas:h}=n;n.fire("layout:after",{context:t,result:e}),h&&h.fire("object:layout:after",{context:t,result:e,target:n});const p=n.parent;s&&p!=null&&p.layoutManager&&((c.path||(c.path=[])).push(n),p.layoutManager.performLayout(ht(ht({},c),{},{target:p}))),n.set("dirty",!0)}dispose(){const{_subscriptions:t}=this;t.forEach(e=>e.forEach(n=>n())),t.clear()}toObject(){return{type:e2,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}ne.setClass(eh,e2);const uv=["type","objects","layoutManager"];class hv extends eh{performLayout(){}}class pc extends k1(Kr){static getDefaults(){return ht(ht({},super.getDefaults()),pc.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),lt(this,"_activeObjects",[]),lt(this,"__objectSelectionTracker",void 0),lt(this,"__objectSelectionDisposer",void 0),Object.assign(this,pc.ownDefaults),this.setOptions(e),this.groupInit(t,e)}groupInit(t,e){var n;this._objects=[...t],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(i=>{this.enterGroup(i,!1)}),this.layoutManager=(n=e.layoutManager)!==null&&n!==void 0?n:new eh,this.layoutManager.performLayout({type:pa,target:this,targets:[...t],x:e.left,y:e.top})}canEnterGroup(t){return t===this||this.isDescendantOf(t)?(xl("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(t)===-1||(xl("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(t){return t.filter((e,n,i)=>this.canEnterGroup(e)&&i.indexOf(e)===n)}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=this._filterObjectsBeforeEnteringGroup(e),s=super.add(...i);return this._onAfterObjectsChange(Mf,i),s}insertAt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const s=this._filterObjectsBeforeEnteringGroup(n),l=super.insertAt(t,...s);return this._onAfterObjectsChange(Mf,s),l}remove(){const t=super.remove(...arguments);return this._onAfterObjectsChange(rg,t),t}_onObjectAdded(t){this.enterGroup(t,!0),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t,e){this.exitGroup(t,e),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onAfterObjectsChange(t,e){this.layoutManager.performLayout({type:t,targets:e,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(t,e){const n=this[t];return super._set(t,e),t==="canvas"&&n!==e&&(this._objects||[]).forEach(i=>{i._set(t,e)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(t,e){let{target:n}=e;const i=this._activeObjects;if(t)i.push(n),this._set("dirty",!0);else if(i.length>0){const s=i.indexOf(n);s>-1&&(i.splice(s,1),this._set("dirty",!0))}}_watchObject(t,e){t&&this._watchObject(!1,e),t?(e.on("selected",this.__objectSelectionTracker),e.on("deselected",this.__objectSelectionDisposer)):(e.off("selected",this.__objectSelectionTracker),e.off("deselected",this.__objectSelectionDisposer))}enterGroup(t,e){t.group&&t.group.remove(t),t._set("parent",this),this._enterGroup(t,e)}_enterGroup(t,e){e&&Ef(t,Pr(Hs(this.calcTransformMatrix()),t.calcTransformMatrix())),this._shouldSetNestedCoords()&&t.setCoords(),t._set("group",this),t._set("canvas",this.canvas),this._watchObject(!0,t);const n=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();n&&(n===t||t.isDescendantOf(n))&&this._activeObjects.push(t)}exitGroup(t,e){this._exitGroup(t,e),t._set("parent",void 0),t._set("canvas",void 0)}_exitGroup(t,e){t._set("group",void 0),e||(Ef(t,Pr(this.calcTransformMatrix(),t.calcTransformMatrix())),t.setCoords()),this._watchObject(!1,t);const n=this._activeObjects.length>0?this._activeObjects.indexOf(t):-1;n>-1&&this._activeObjects.splice(n,1)}shouldCache(){const t=Kr.prototype.shouldCache.call(this);if(t){for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return this.ownCaching=!1,!1}return t}willDrawShadow(){if(super.willDrawShadow())return!0;for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(t,e,n){this._renderBackground(t);for(let s=0;s<this._objects.length;s++){var i;const l=this._objects[s];(i=this.canvas)!==null&&i!==void 0&&i.preserveObjectStacking&&l.group!==this?(t.save(),t.transform(...Hs(this.calcTransformMatrix())),l.render(t),t.restore()):l.group===this&&l.render(t)}this._drawClipPath(t,this.clipPath,n)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(t=>t.setCoords())}triggerLayout(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(ht({target:this,type:jf},t))}render(t){this._transformDone=!0,super.render(t),this._transformDone=!1}__serializeObjects(t,e){const n=this.includeDefaultValues;return this._objects.filter(function(i){return!i.excludeFromExport}).map(function(i){const s=i.includeDefaultValues;i.includeDefaultValues=n;const l=i[t||"toObject"](e);return i.includeDefaultValues=s,l})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=this.layoutManager.toObject();return ht(ht(ht({},super.toObject(["subTargetCheck","interactive",...t])),e.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:e}:{}),{},{objects:this.__serializeObjects("toObject",t)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(t=>{this._watchObject(!1,t),t.dispose()}),super.dispose()}_createSVGBgRect(t){if(!this.backgroundColor)return"";const e=bo.prototype._toSVG.call(this),n=e.indexOf("COMMON_PARTS");e[n]='for="group" ';const i=e.join("");return t?t(i):i}_toSVG(t){const e=["<g ","COMMON_PARTS",` >
`],n=this._createSVGBgRect(t);n&&e.push("		",n);for(let i=0;i<this._objects.length;i++)e.push("		",this._objects[i].toSVG(t));return e.push(`</g>
`),e}getSvgStyles(){const t=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")}toClipPathSVG(t){const e=[],n=this._createSVGBgRect(t);n&&e.push("	",n);for(let i=0;i<this._objects.length;i++)e.push("	",this._objects[i].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}static fromObject(t,e){let{type:n,objects:i=[],layoutManager:s}=t,l=kn(t,uv);return Promise.all([Qu(i,e),Vf(l,e)]).then(c=>{let[h,p]=c;const m=new this(h,ht(ht(ht({},l),p),{},{layoutManager:new hv}));if(s){const w=ne.getClass(s.type),b=ne.getClass(s.strategy);m.layoutManager=new w(new b)}else m.layoutManager=new eh;return m.layoutManager.subscribeTargets({type:pa,target:m,targets:m.getObjects()}),m.setCoords(),m})}}lt(pc,"type","Group"),lt(pc,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),ne.setClass(pc);const fv=(a,t)=>Math.min(t.width/a.width,t.height/a.height),dv=(a,t)=>Math.max(t.width/a.width,t.height/a.height),bp="\\s*,?\\s*",qu="".concat(bp,"(").concat(vc,")"),pv="".concat(qu).concat(qu).concat(qu).concat(bp,"([01])").concat(bp,"([01])").concat(qu).concat(qu),gv={m:"l",M:"L"},mv=(a,t,e,n,i,s,l,c,h,p,m)=>{const w=wa(a),b=xa(a),y=wa(t),A=xa(t),k=e*i*y-n*s*A+l,O=n*i*y+e*s*A+c;return["C",p+h*(-e*i*b-n*s*w),m+h*(-n*i*b+e*s*w),k+h*(e*i*A+n*s*y),O+h*(n*i*A-e*s*y),k,O]},Y0=(a,t,e,n)=>{const i=Math.atan2(t,a),s=Math.atan2(n,e);return s>=i?s-i:2*Math.PI-(i-s)};function X0(a,t,e,n,i,s,l,c){let h;if(Xe.cachesBoundsOfCurve&&(h=[...arguments].join(),Yu.boundsOfCurveCache[h]))return Yu.boundsOfCurveCache[h];const p=Math.sqrt,m=Math.abs,w=[],b=[[0,0],[0,0]];let y=6*a-12*e+6*i,A=-3*a+9*e-9*i+3*l,k=3*e-3*a;for(let st=0;st<2;++st){if(st>0&&(y=6*t-12*n+6*s,A=-3*t+9*n-9*s+3*c,k=3*n-3*t),m(A)<1e-12){if(m(y)<1e-12)continue;const dt=-k/y;0<dt&&dt<1&&w.push(dt);continue}const Z=y*y-4*k*A;if(Z<0)continue;const mt=p(Z),tt=(-y+mt)/(2*A);0<tt&&tt<1&&w.push(tt);const q=(-y-mt)/(2*A);0<q&&q<1&&w.push(q)}let O=w.length;const T=O,F=n2(a,t,e,n,i,s,l,c);for(;O--;){const{x:st,y:Z}=F(w[O]);b[0][O]=st,b[1][O]=Z}b[0][T]=a,b[1][T]=t,b[0][T+1]=l,b[1][T+1]=c;const Y=[new Et(Math.min(...b[0]),Math.min(...b[1])),new Et(Math.max(...b[0]),Math.max(...b[1]))];return Xe.cachesBoundsOfCurve&&(Yu.boundsOfCurveCache[h]=Y),Y}const vv=(a,t,e)=>{let[n,i,s,l,c,h,p,m]=e;const w=((b,y,A,k,O,T,F)=>{if(A===0||k===0)return[];let Y=0,st=0,Z=0;const mt=Math.PI,tt=F*Bp,q=xa(tt),dt=wa(tt),bt=.5*(-dt*b-q*y),R=.5*(-dt*y+q*b),B=A**2,G=k**2,H=R**2,Lt=bt**2,wt=B*G-B*H-G*Lt;let Ct=Math.abs(A),X=Math.abs(k);if(wt<0){const It=Math.sqrt(1-wt/(B*G));Ct*=It,X*=It}else Z=(O===T?-1:1)*Math.sqrt(wt/(B*H+G*Lt));const ft=Z*Ct*R/X,ct=-Z*X*bt/Ct,K=dt*ft-q*ct+.5*b,L=q*ft+dt*ct+.5*y;let z=Y0(1,0,(bt-ft)/Ct,(R-ct)/X),W=Y0((bt-ft)/Ct,(R-ct)/X,(-bt-ft)/Ct,(-R-ct)/X);T===0&&W>0?W-=2*mt:T===1&&W<0&&(W+=2*mt);const J=Math.ceil(Math.abs(W/mt*2)),et=[],pt=W/J,vt=8/3*Math.sin(pt/4)*Math.sin(pt/4)/Math.sin(pt/2);let yt=z+pt;for(let It=0;It<J;It++)et[It]=mv(z,yt,dt,q,Ct,X,K,L,vt,Y,st),Y=et[It][5],st=et[It][6],z=yt,yt+=pt;return et})(p-a,m-t,i,s,c,h,l);for(let b=0,y=w.length;b<y;b++)w[b][1]+=a,w[b][2]+=t,w[b][3]+=a,w[b][4]+=t,w[b][5]+=a,w[b][6]+=t;return w},yv=a=>{let t=0,e=0,n=0,i=0;const s=[];let l,c=0,h=0;for(const p of a){const m=[...p];let w;switch(m[0]){case"l":m[1]+=t,m[2]+=e;case"L":t=m[1],e=m[2],w=["L",t,e];break;case"h":m[1]+=t;case"H":t=m[1],w=["L",t,e];break;case"v":m[1]+=e;case"V":e=m[1],w=["L",t,e];break;case"m":m[1]+=t,m[2]+=e;case"M":t=m[1],e=m[2],n=m[1],i=m[2],w=["M",t,e];break;case"c":m[1]+=t,m[2]+=e,m[3]+=t,m[4]+=e,m[5]+=t,m[6]+=e;case"C":c=m[3],h=m[4],t=m[5],e=m[6],w=["C",m[1],m[2],c,h,t,e];break;case"s":m[1]+=t,m[2]+=e,m[3]+=t,m[4]+=e;case"S":l==="C"?(c=2*t-c,h=2*e-h):(c=t,h=e),t=m[3],e=m[4],w=["C",c,h,m[1],m[2],t,e],c=w[3],h=w[4];break;case"q":m[1]+=t,m[2]+=e,m[3]+=t,m[4]+=e;case"Q":c=m[1],h=m[2],t=m[3],e=m[4],w=["Q",c,h,t,e];break;case"t":m[1]+=t,m[2]+=e;case"T":l==="Q"?(c=2*t-c,h=2*e-h):(c=t,h=e),t=m[1],e=m[2],w=["Q",c,h,t,e];break;case"a":m[6]+=t,m[7]+=e;case"A":vv(t,e,m).forEach(b=>s.push(b)),t=m[6],e=m[7];break;case"z":case"Z":t=n,e=i,w=["Z"]}w?(s.push(w),l=w[0]):l=""}return s},Ff=(a,t,e,n)=>Math.sqrt((e-a)**2+(n-t)**2),n2=(a,t,e,n,i,s,l,c)=>h=>{const p=h**3,m=(y=>3*y**2*(1-y))(h),w=(y=>3*y*(1-y)**2)(h),b=(y=>(1-y)**3)(h);return new Et(l*p+i*m+e*w+a*b,c*p+s*m+n*w+t*b)},r2=a=>a**2,i2=a=>2*a*(1-a),s2=a=>(1-a)**2,wv=(a,t,e,n,i,s,l,c)=>h=>{const p=r2(h),m=i2(h),w=s2(h),b=3*(w*(e-a)+m*(i-e)+p*(l-i)),y=3*(w*(n-t)+m*(s-n)+p*(c-s));return Math.atan2(y,b)},xv=(a,t,e,n,i,s)=>l=>{const c=r2(l),h=i2(l),p=s2(l);return new Et(i*c+e*h+a*p,s*c+n*h+t*p)},_v=(a,t,e,n,i,s)=>l=>{const c=1-l,h=2*(c*(e-a)+l*(i-e)),p=2*(c*(n-t)+l*(s-n));return Math.atan2(p,h)},G0=(a,t,e)=>{let n=new Et(t,e),i=0;for(let s=1;s<=100;s+=1){const l=a(s/100);i+=Ff(n.x,n.y,l.x,l.y),n=l}return i},bv=(a,t)=>{let e,n=0,i=0,s={x:a.x,y:a.y},l=ht({},s),c=.01,h=0;const p=a.iterator,m=a.angleFinder;for(;i<t&&c>1e-4;)l=p(n),h=n,e=Ff(s.x,s.y,l.x,l.y),e+i>t?(n-=c,c/=2):(s=l,n+=c,i+=e);return ht(ht({},l),{},{angle:m(h)})},o2=a=>{let t,e,n=0,i=0,s=0,l=0,c=0;const h=[];for(const p of a){const m={x:i,y:s,command:p[0],length:0};switch(p[0]){case"M":e=m,e.x=l=i=p[1],e.y=c=s=p[2];break;case"L":e=m,e.length=Ff(i,s,p[1],p[2]),i=p[1],s=p[2];break;case"C":t=n2(i,s,p[1],p[2],p[3],p[4],p[5],p[6]),e=m,e.iterator=t,e.angleFinder=wv(i,s,p[1],p[2],p[3],p[4],p[5],p[6]),e.length=G0(t,i,s),i=p[5],s=p[6];break;case"Q":t=xv(i,s,p[1],p[2],p[3],p[4]),e=m,e.iterator=t,e.angleFinder=_v(i,s,p[1],p[2],p[3],p[4]),e.length=G0(t,i,s),i=p[3],s=p[4];break;case"Z":e=m,e.destX=l,e.destY=c,e.length=Ff(i,s,l,c),i=l,s=c}n+=e.length,h.push(e)}return h.push({length:n,x:i,y:s}),h},Sv=function(a,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o2(a),n=0;for(;t-e[n].length>0&&n<e.length-2;)t-=e[n].length,n++;const i=e[n],s=t/i.length,l=a[n];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return ht(ht({},new Et(i.x,i.y).lerp(new Et(i.destX,i.destY),s)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return ht(ht({},new Et(i.x,i.y).lerp(new Et(l[1],l[2]),s)),{},{angle:Math.atan2(l[2]-i.y,l[1]-i.x)});case"C":case"Q":return bv(i,t)}},Cv=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),$0=new RegExp(pv,"g"),kv=new RegExp(vc,"gi"),Lv={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Av=a=>{var t;const e=[],n=(t=a.match(Cv))!==null&&t!==void 0?t:[];for(const i of n){const s=i[0];if(s==="z"||s==="Z"){e.push([s]);continue}const l=Lv[s.toLowerCase()];let c=[];if(s==="a"||s==="A"){$0.lastIndex=0;for(let h=null;h=$0.exec(i);)c.push(...h.slice(1))}else c=i.match(kv)||[];for(let h=0;h<c.length;h+=l){const p=new Array(l),m=gv[s];p[0]=h>0&&m?m:s;for(let w=0;w<l;w++)p[w+1]=parseFloat(c[h+w]);e.push(p)}}return e},Tv=(a,t)=>a.map(e=>e.map((n,i)=>i===0||t===void 0?n:Pn(n,t)).join(" ")).join(" ");function Sp(a,t){const e=a.style;e&&t&&(typeof t=="string"?e.cssText+=";"+t:Object.entries(t).forEach(n=>{let[i,s]=n;return e.setProperty(i,s)}))}class Pv extends j1{constructor(t){let{allowTouchScrolling:e=!1,containerClass:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(t),lt(this,"upper",void 0),lt(this,"container",void 0);const{el:i}=this.lower,s=this.createUpperCanvas();this.upper={el:s,ctx:s.getContext("2d")},this.applyCanvasStyle(i,{allowTouchScrolling:e}),this.applyCanvasStyle(s,{allowTouchScrolling:e,styles:{position:"absolute",left:"0",top:"0"}});const l=this.createContainerElement();l.classList.add(n),i.parentNode&&i.parentNode.replaceChild(l,i),l.append(i,s),this.container=l}createUpperCanvas(){const{el:t}=this.lower,e=Xs();return e.className=t.className,e.classList.remove("lower-canvas"),e.classList.add("upper-canvas"),e.setAttribute("data-fabric","top"),e.style.cssText=t.style.cssText,e.setAttribute("draggable","true"),e}createContainerElement(){const t=du().createElement("div");return t.setAttribute("data-fabric","wrapper"),Sp(t,{position:"relative"}),A0(t),t}applyCanvasStyle(t,e){const{styles:n,allowTouchScrolling:i}=e;Sp(t,ht(ht({},n),{},{"touch-action":i?"manipulation":Ai})),A0(t)}setDimensions(t,e){super.setDimensions(t,e);const{el:n,ctx:i}=this.upper;M1(n,i,t,e)}setCSSDimensions(t){super.setCSSDimensions(t),pp(this.upper.el,t),pp(this.container,t)}cleanupDOM(t){const e=this.container,{el:n}=this.lower,{el:i}=this.upper;super.cleanupDOM(t),e.removeChild(i),e.removeChild(n),e.parentNode&&e.parentNode.replaceChild(n,e)}dispose(){super.dispose(),Ao().dispose(this.upper.el),delete this.upper,delete this.container}}class $f extends Xp{constructor(){super(...arguments),lt(this,"targets",[]),lt(this,"_hoveredTargets",[]),lt(this,"_objectsToRender",void 0),lt(this,"_currentTransform",null),lt(this,"_groupSelector",null),lt(this,"contextTopDirty",!1)}static getDefaults(){return ht(ht({},super.getDefaults()),$f.ownDefaults)}get upperCanvasEl(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.el}get contextTop(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.ctx}get wrapperEl(){return this.elements.container}initElements(t){this.elements=new Pv(t,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(t){this._objectsToRender=void 0,super._onObjectAdded(t)}_onObjectRemoved(t){this._objectsToRender=void 0,t===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[t]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[t]}),t.fire("deselected",{target:t})),t===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(t)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const t=this._activeObject;return!this.preserveObjectStacking&&t?this._objects.filter(e=>!e.group&&e!==t).concat(t):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()}renderTop(){const t=this.contextTop;this.clearContext(t),this.renderTopLayer(t),this.fire("after:render",{ctx:t})}setTargetFindTolerance(t){t=Math.round(t),this.targetFindTolerance=t;const e=this.getRetinaScaling(),n=Math.ceil((2*t+1)*e);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=n,this.pixelFindContext.scale(e,e)}isTargetTransparent(t,e,n){const i=this.targetFindTolerance,s=this.pixelFindContext;this.clearContext(s),s.save(),s.translate(-e+i,-n+i),s.transform(...this.viewportTransform);const l=t.selectionBackgroundColor;t.selectionBackgroundColor="",t.render(s),t.selectionBackgroundColor=l,s.restore();const c=Math.round(i*this.getRetinaScaling());return M5(s,c,c,c)}_isSelectionKeyPressed(t){const e=this.selectionKey;return!!e&&(Array.isArray(e)?!!e.find(n=>!!n&&t[n]===!0):t[e])}_shouldClearSelection(t,e){const n=this.getActiveObjects(),i=this._activeObject;return!!(!e||e&&i&&n.length>1&&n.indexOf(e)===-1&&i!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&i&&i!==e)}_shouldCenterTransform(t,e,n){if(!t)return;let i;return e===qf||e===Pi||e===gs||e===Ju?i=this.centeredScaling||t.centeredScaling:e===qp&&(i=this.centeredRotation||t.centeredRotation),i?!n:n}_getOriginFromCorner(t,e){const n={x:t.originX,y:t.originY};return e&&(["ml","tl","bl"].includes(e)?n.x=zn:["mr","tr","br"].includes(e)&&(n.x=en),["tl","mt","tr"].includes(e)?n.y=dp:["bl","mb","br"].includes(e)&&(n.y=Li)),n}_setupCurrentTransform(t,e,n){var i;const s=e.group?ou(this.getScenePoint(t),void 0,e.group.calcTransformMatrix()):this.getScenePoint(t),{key:l="",control:c}=e.getActiveControl()||{},h=n&&c?(i=c.getActionHandler(t,e,c))===null||i===void 0?void 0:i.bind(c):Zm,p=((y,A,k,O)=>{if(!A||!y)return"drag";const T=O.controls[A];return T.getActionName(k,T,O)})(n,l,t,e),m=t[this.centeredKey],w=this._shouldCenterTransform(e,p,m)?{x:De,y:De}:this._getOriginFromCorner(e,l),b={target:e,action:p,actionHandler:h,actionPerformed:!1,corner:l,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,offsetX:s.x-e.left,offsetY:s.y-e.top,originX:w.x,originY:w.y,ex:s.x,ey:s.y,lastX:s.x,lastY:s.y,theta:Vn(e.angle),width:e.width,height:e.height,shiftKey:t.shiftKey,altKey:m,original:ht(ht({},I1(e)),{},{originX:w.x,originY:w.y})};this._currentTransform=b,this.fire("before:transform",{e:t,transform:b})}setCursor(t){this.upperCanvasEl.style.cursor=t}_drawSelection(t){const{x:e,y:n,deltaX:i,deltaY:s}=this._groupSelector,l=new Et(e,n).transform(this.viewportTransform),c=new Et(e+i,n+s).transform(this.viewportTransform),h=this.selectionLineWidth/2;let p=Math.min(l.x,c.x),m=Math.min(l.y,c.y),w=Math.max(l.x,c.x),b=Math.max(l.y,c.y);this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(p,m,w-p,b-m)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,p+=h,m+=h,w-=h,b-=h,Kr.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(p,m,w-p,b-m))}findTarget(t){if(this.skipTargetFind)return;const e=this.getViewportPoint(t),n=this._activeObject,i=this.getActiveObjects();if(this.targets=[],n&&i.length>=1){if(n.findControl(e,gp(t))||i.length>1&&this.searchPossibleTargets([n],e))return n;if(n===this.searchPossibleTargets([n],e)){if(this.preserveObjectStacking){const s=this.targets;this.targets=[];const l=this.searchPossibleTargets(this._objects,e);return t[this.altSelectionKey]&&l&&l!==n?(this.targets=s,n):l}return n}}return this.searchPossibleTargets(this._objects,e)}_pointIsInObjectSelectionArea(t,e){let n=t.getCoords();const i=this.getZoom(),s=t.padding/i;if(s){const[l,c,h,p]=n,m=Math.atan2(c.y-l.y,c.x-l.x),w=wa(m)*s,b=xa(m)*s,y=w+b,A=w-b;n=[new Et(l.x-A,l.y-y),new Et(c.x+y,c.y-A),new Et(h.x+A,h.y+y),new Et(p.x-y,p.y+A)]}return Tn.isPointInPolygon(e,n)}_checkTarget(t,e){return!!(t&&t.visible&&t.evented&&this._pointIsInObjectSelectionArea(t,ou(e,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing||!this.isTargetTransparent(t,e.x,e.y)))}_searchPossibleTargets(t,e){let n=t.length;for(;n--;){const i=t[n];if(this._checkTarget(i,e)){if(yf(i)&&i.subTargetCheck){const s=this._searchPossibleTargets(i._objects,e);s&&this.targets.push(s)}return i}}}searchPossibleTargets(t,e){const n=this._searchPossibleTargets(t,e);if(n&&yf(n)&&n.interactive&&this.targets[0]){const i=this.targets;for(let s=i.length-1;s>0;s--){const l=i[s];if(!yf(l)||!l.interactive)return l}return i[0]}return n}getViewportPoint(t){return this._pointer?this._pointer:this.getPointer(t,!0)}getScenePoint(t){return this._absolutePointer?this._absolutePointer:this.getPointer(t)}getPointer(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const n=this.upperCanvasEl,i=n.getBoundingClientRect();let s=Ym(t),l=i.width||0,c=i.height||0;l&&c||(Li in i&&dp in i&&(c=Math.abs(i.top-i.bottom)),zn in i&&en in i&&(l=Math.abs(i.right-i.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,e||(s=ou(s,void 0,this.viewportTransform));const h=this.getRetinaScaling();h!==1&&(s.x/=h,s.y/=h);const p=l===0||c===0?new Et(1,1):new Et(n.width/l,n.height/c);return s.multiply(p)}_setDimensionsImpl(t,e){this._resetTransformEventData(),super._setDimensionsImpl(t,e),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=Xs(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const t=this._activeObject;return lc(t)?t.getObjects():t?[t]:[]}_fireSelectionEvents(t,e){let n=!1,i=!1;const s=this.getActiveObjects(),l=[],c=[];t.forEach(h=>{s.includes(h)||(n=!0,h.fire("deselected",{e,target:h}),c.push(h))}),s.forEach(h=>{t.includes(h)||(n=!0,h.fire("selected",{e,target:h}),l.push(h))}),t.length>0&&s.length>0?(i=!0,n&&this.fire("selection:updated",{e,selected:l,deselected:c})):s.length>0?(i=!0,this.fire("selection:created",{e,selected:l})):t.length>0&&(i=!0,this.fire("selection:cleared",{e,deselected:c})),i&&(this._objectsToRender=void 0)}setActiveObject(t,e){const n=this.getActiveObjects(),i=this._setActiveObject(t,e);return this._fireSelectionEvents(n,e),i}_setActiveObject(t,e){const n=this._activeObject;return n!==t&&!(!this._discardActiveObject(e,t)&&this._activeObject)&&!t.onSelect({e})&&(this._activeObject=t,lc(t)&&n!==t&&t.set("canvas",this),t.setCoords(),!0)}_discardActiveObject(t,e){const n=this._activeObject;return!!n&&!n.onDeselect({e:t,object:e})&&(this._currentTransform&&this._currentTransform.target===n&&this.endCurrentTransform(t),lc(n)&&n===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(t){const e=this.getActiveObjects(),n=this.getActiveObject();e.length&&this.fire("before:selection:cleared",{e:t,deselected:[n]});const i=this._discardActiveObject(t);return this._fireSelectionEvents(e,t),i}endCurrentTransform(t){const e=this._currentTransform;this._finalizeCurrentTransform(t),e&&e.target&&(e.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(t){const e=this._currentTransform,n=e.target,i={e:t,target:n,transform:e,action:e.action};n._scaling&&(n._scaling=!1),n.setCoords(),e.actionPerformed&&(this.fire("object:modified",i),n.fire(Tf,i))}setViewportTransform(t){super.setViewportTransform(t);const e=this._activeObject;e&&e.setCoords()}destroy(){const t=this._activeObject;lc(t)&&(t.removeAll(),t.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(t){const e=this._activeObject;e&&e._renderControls(t)}_toObject(t,e,n){const i=this._realizeGroupTransformOnObject(t),s=super._toObject(t,e,n);return t.set(i),s}_realizeGroupTransformOnObject(t){const{group:e}=t;if(e&&lc(e)&&this._activeObject===e){const n=mu(t,["angle","flipX","flipY",en,Pi,gs,pu,gu,Li]);return Gm(t,e.calcOwnMatrix()),n}return{}}_setSVGObject(t,e,n){const i=this._realizeGroupTransformOnObject(e);super._setSVGObject(t,e,n),e.set(i)}}lt($f,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class Nv{constructor(t){lt(this,"targets",[]),lt(this,"__disposer",void 0);const e=()=>{const{hiddenTextarea:i}=t.getActiveObject()||{};i&&i.focus()},n=t.upperCanvasEl;n.addEventListener("click",e),this.__disposer=()=>n.removeEventListener("click",e)}exitTextEditing(){this.target=void 0,this.targets.forEach(t=>{t.isEditing&&t.exitEditing()})}add(t){this.targets.push(t)}remove(t){this.unregister(t),Qc(this.targets,t)}register(t){this.target=t}unregister(t){t===this.target&&(this.target=void 0)}onMouseMove(t){var e;!((e=this.target)===null||e===void 0)&&e.isEditing&&this.target.updateSelectionOnMouseMove(t)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const Ov=["target","oldTarget","fireCanvas","e"],Yi={passive:!1},$c=(a,t)=>{const e=a.getViewportPoint(t),n=a.getScenePoint(t);return{viewportPoint:e,scenePoint:n,pointer:e,absolutePointer:n}},gl=function(a){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];return a.addEventListener(...e)},ds=function(a){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];return a.removeEventListener(...e)},Ev={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class If extends $f{constructor(t){super(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),lt(this,"_isClick",void 0),lt(this,"textEditingManager",new Nv(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(e=>{this[e]=this[e].bind(this)}),this.addOrRemove(gl,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(t,e){const n=this.upperCanvasEl,i=this._getEventPrefix();t(D1(n),"resize",this._onResize),t(n,i+"down",this._onMouseDown),t(n,"".concat(i,"move"),this._onMouseMove,Yi),t(n,"".concat(i,"out"),this._onMouseOut),t(n,"".concat(i,"enter"),this._onMouseEnter),t(n,"wheel",this._onMouseWheel),t(n,"contextmenu",this._onContextMenu),t(n,"dblclick",this._onDoubleClick),t(n,"dragstart",this._onDragStart),t(n,"dragend",this._onDragEnd),t(n,"dragover",this._onDragOver),t(n,"dragenter",this._onDragEnter),t(n,"dragleave",this._onDragLeave),t(n,"drop",this._onDrop),this.enablePointerEvents||t(n,"touchstart",this._onTouchStart,Yi)}removeListeners(){this.addOrRemove(ds,"remove");const t=this._getEventPrefix(),e=Vs(this.upperCanvasEl);ds(e,"".concat(t,"up"),this._onMouseUp),ds(e,"touchend",this._onTouchEnd,Yi),ds(e,"".concat(t,"move"),this._onMouseMove,Yi),ds(e,"touchmove",this._onMouseMove,Yi),clearTimeout(this._willAddMouseDown)}_onMouseWheel(t){this.__onMouseWheel(t)}_onMouseOut(t){const e=this._hoveredTarget,n=ht({e:t},$c(this,t));this.fire("mouse:out",ht(ht({},n),{},{target:e})),this._hoveredTarget=void 0,e&&e.fire("mouseout",ht({},n)),this._hoveredTargets.forEach(i=>{this.fire("mouse:out",ht(ht({},n),{},{target:i})),i&&i.fire("mouseout",ht({},n))}),this._hoveredTargets=[]}_onMouseEnter(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",ht({e:t},$c(this,t))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(t){this._isClick=!1;const e=this.getActiveObject();if(e&&e.onDragStart(t)){this._dragSource=e;const n={e:t,target:e};return this.fire("dragstart",n),e.fire("dragstart",n),void gl(this.upperCanvasEl,"drag",this._onDragProgress)}mp(t)}_renderDragEffects(t,e,n){let i=!1;const s=this._dropTarget;s&&s!==e&&s!==n&&(s.clearContextTop(),i=!0),e==null||e.clearContextTop(),n!==e&&(n==null||n.clearContextTop());const l=this.contextTop;l.save(),l.transform(...this.viewportTransform),e&&(l.save(),e.transform(l),e.renderDragSourceEffect(t),l.restore(),i=!0),n&&(l.save(),n.transform(l),n.renderDropTargetEffect(t),l.restore(),i=!0),l.restore(),i&&(this.contextTopDirty=!0)}_onDragEnd(t){const e=!!t.dataTransfer&&t.dataTransfer.dropEffect!==Ai,n=e?this._activeObject:void 0,i={e:t,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:e,dropTarget:n};ds(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",i),this._dragSource&&this._dragSource.fire("dragend",i),delete this._dragSource,this._onMouseUp(t)}_onDragProgress(t){const e={e:t,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",e),this._dragSource&&this._dragSource.fire("drag",e)}findDragTargets(t){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(t)),targets:[...this.targets]}}_onDragOver(t){const e="dragover",{target:n,targets:i}=this.findDragTargets(t),s=this._dragSource,l={e:t,target:n,subTargets:i,dragSource:s,canDrop:!1,dropTarget:void 0};let c;this.fire(e,l),this._fireEnterLeaveEvents(n,l),n&&(n.canDrop(t)&&(c=n),n.fire(e,l));for(let h=0;h<i.length;h++){const p=i[h];p.canDrop(t)&&(c=p),p.fire(e,l)}this._renderDragEffects(t,s,c),this._dropTarget=c}_onDragEnter(t){const{target:e,targets:n}=this.findDragTargets(t),i={e:t,target:e,subTargets:n,dragSource:this._dragSource};this.fire("dragenter",i),this._fireEnterLeaveEvents(e,i)}_onDragLeave(t){const e={e:t,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",e),this._fireEnterLeaveEvents(void 0,e),this._renderDragEffects(t,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(t){const{target:e,targets:n}=this.findDragTargets(t),i=this._basicEventHandler("drop:before",ht({e:t,target:e,subTargets:n,dragSource:this._dragSource},$c(this,t)));i.didDrop=!1,i.dropTarget=void 0,this._basicEventHandler("drop",i),this.fire("drop:after",i)}_onContextMenu(t){const e=this.findTarget(t),n=this.targets||[],i=this._basicEventHandler("contextmenu:before",{e:t,target:e,subTargets:n});return this.stopContextMenu&&mp(t),this._basicEventHandler("contextmenu",i),!1}_onDoubleClick(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData()}getPointerId(t){const e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1}_isMainEvent(t){return t.isPrimary===!0||t.isPrimary!==!1&&(t.type==="touchend"&&t.touches.length===0||!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(t){let e=!this.allowTouchScrolling;const n=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),(this.isDrawingMode||n&&this._target===n)&&(e=!0),e&&t.preventDefault(),this._resetTransformEventData();const i=this.upperCanvasEl,s=this._getEventPrefix(),l=Vs(i);gl(l,"touchend",this._onTouchEnd,Yi),e&&gl(l,"touchmove",this._onMouseMove,Yi),ds(i,"".concat(s,"down"),this._onMouseDown)}_onMouseDown(t){this.__onMouseDown(t),this._resetTransformEventData();const e=this.upperCanvasEl,n=this._getEventPrefix();ds(e,"".concat(n,"move"),this._onMouseMove,Yi);const i=Vs(e);gl(i,"".concat(n,"up"),this._onMouseUp),gl(i,"".concat(n,"move"),this._onMouseMove,Yi)}_onTouchEnd(t){if(t.touches.length>0)return;this.__onMouseUp(t),this._resetTransformEventData(),delete this.mainTouchId;const e=this._getEventPrefix(),n=Vs(this.upperCanvasEl);ds(n,"touchend",this._onTouchEnd,Yi),ds(n,"touchmove",this._onMouseMove,Yi),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{gl(this.upperCanvasEl,"".concat(e,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(t){this.__onMouseUp(t),this._resetTransformEventData();const e=this.upperCanvasEl,n=this._getEventPrefix();if(this._isMainEvent(t)){const i=Vs(this.upperCanvasEl);ds(i,"".concat(n,"up"),this._onMouseUp),ds(i,"".concat(n,"move"),this._onMouseMove,Yi),gl(e,"".concat(n,"move"),this._onMouseMove,Yi)}}_onMouseMove(t){const e=this.getActiveObject();!this.allowTouchScrolling&&(!e||!e.shouldStartDragging(t))&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(t){const e=this.getActiveObject();return!!e!=!!t||e&&t&&e!==t}__onMouseUp(t){var e;this._cacheTransformEventData(t),this._handleEvent(t,"up:before");const n=this._currentTransform,i=this._isClick,s=this._target,{button:l}=t;if(l)return(this.fireMiddleClick&&l===1||this.fireRightClick&&l===2)&&this._handleEvent(t,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(t);if(!this._isMainEvent(t))return;let c,h,p=!1;if(n&&(this._finalizeCurrentTransform(t),p=n.actionPerformed),!i){const m=s===this._activeObject;this.handleSelection(t),p||(p=this._shouldRender(s)||!m&&s===this._activeObject)}if(s){const m=s.findControl(this.getViewportPoint(t),gp(t)),{key:w,control:b}=m||{};if(h=w,s.selectable&&s!==this._activeObject&&s.activeOn==="up")this.setActiveObject(s,t),p=!0;else if(b){const y=b.getMouseUpHandler(t,s,b);y&&(c=this.getScenePoint(t),y.call(b,t,n,c.x,c.y))}s.isMoving=!1}if(n&&(n.target!==s||n.corner!==h)){const m=n.target&&n.target.controls[n.corner],w=m&&m.getMouseUpHandler(t,n.target,m);c=c||this.getScenePoint(t),w&&w.call(m,t,n,c.x,c.y)}this._setCursorFromEvent(t,s),this._handleEvent(t,"up"),this._groupSelector=null,this._currentTransform=null,s&&(s.__corner=void 0),p?this.requestRenderAll():i||(e=this._activeObject)!==null&&e!==void 0&&e.isEditing||this.renderTop()}_basicEventHandler(t,e){const{target:n,subTargets:i=[]}=e;this.fire(t,e),n&&n.fire(t,e);for(let s=0;s<i.length;s++)i[s]!==n&&i[s].fire(t,e);return e}_handleEvent(t,e){const n=this._target,i=this.targets||[],s=ht(ht({e:t,target:n,subTargets:i},$c(this,t)),{},{transform:this._currentTransform},e==="up:before"||e==="up"?{isClick:this._isClick,currentTarget:this.findTarget(t),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(e),s),n&&n.fire("mouse".concat(e),s);for(let l=0;l<i.length;l++)i[l]!==n&&i[l].fire("mouse".concat(e),s)}_onMouseDownInDrawingMode(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(t),this.requestRenderAll());const e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")}_onMouseMoveInDrawingMode(t){if(this._isCurrentlyDrawing){const e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")}_onMouseUpInDrawingMode(t){const e=this.getScenePoint(t);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:t,pointer:e}):this._isCurrentlyDrawing=!1,this._handleEvent(t,"up")}__onMouseDown(t){this._isClick=!0,this._cacheTransformEventData(t),this._handleEvent(t,"down:before");let e=this._target;const{button:n}=t;if(n)return(this.fireMiddleClick&&n===1||this.fireRightClick&&n===2)&&this._handleEvent(t,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(t);if(!this._isMainEvent(t)||this._currentTransform)return;let i=this._shouldRender(e),s=!1;if(this.handleMultiSelection(t,e)?(e=this._activeObject,s=!0,i=!0):this._shouldClearSelection(t,e)&&this.discardActiveObject(t),this.selection&&(!e||!e.selectable&&!e.isEditing&&e!==this._activeObject)){const l=this.getScenePoint(t);this._groupSelector={x:l.x,y:l.y,deltaY:0,deltaX:0}}if(e){const l=e===this._activeObject;e.selectable&&e.activeOn==="down"&&this.setActiveObject(e,t);const c=e.findControl(this.getViewportPoint(t),gp(t));if(e===this._activeObject&&(c||!s)){this._setupCurrentTransform(t,e,l);const h=c?c.control:void 0,p=this.getScenePoint(t),m=h&&h.getMouseDownHandler(t,e,h);m&&m.call(h,t,this._currentTransform,p.x,p.y)}}i&&(this._objectsToRender=void 0),this._handleEvent(t,"down"),i&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(t){this._resetTransformEventData(),this._pointer=this.getViewportPoint(t),this._absolutePointer=ou(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)}__onMouseMove(t){if(this._isClick=!1,this._cacheTransformEventData(t),this._handleEvent(t,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(t);if(!this._isMainEvent(t))return;const e=this._groupSelector;if(e){const n=this.getScenePoint(t);e.deltaX=n.x-e.x,e.deltaY=n.y-e.y,this.renderTop()}else if(this._currentTransform)this._transformObject(t);else{const n=this.findTarget(t);this._setCursorFromEvent(t,n),this._fireOverOutEvents(t,n)}this.textEditingManager.onMouseMove(t),this._handleEvent(t,"move"),this._resetTransformEventData()}_fireOverOutEvents(t,e){const n=this._hoveredTarget,i=this._hoveredTargets,s=this.targets,l=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("mouse",{e:t,target:e,oldTarget:n,fireCanvas:!0});for(let c=0;c<l;c++)this.fireSyntheticInOutEvents("mouse",{e:t,target:s[c],oldTarget:i[c]});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(t,e){const n=this._draggedoverTarget,i=this._hoveredTargets,s=this.targets,l=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("drag",ht(ht({},e),{},{target:t,oldTarget:n,fireCanvas:!0}));for(let c=0;c<l;c++)this.fireSyntheticInOutEvents("drag",ht(ht({},e),{},{target:s[c],oldTarget:i[c]}));this._draggedoverTarget=t}fireSyntheticInOutEvents(t,e){let{target:n,oldTarget:i,fireCanvas:s,e:l}=e,c=kn(e,Ov);const{targetIn:h,targetOut:p,canvasIn:m,canvasOut:w}=Ev[t],b=i!==n;if(i&&b){const y=ht(ht({},c),{},{e:l,target:i,nextTarget:n},$c(this,l));s&&this.fire(w,y),i.fire(p,y)}if(n&&b){const y=ht(ht({},c),{},{e:l,target:n,previousTarget:i},$c(this,l));s&&this.fire(m,y),n.fire(h,y)}}__onMouseWheel(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()}_transformObject(t){const e=this.getScenePoint(t),n=this._currentTransform,i=n.target,s=i.group?ou(e,void 0,i.group.calcTransformMatrix()):e;n.shiftKey=t.shiftKey,n.altKey=!!this.centeredKey&&t[this.centeredKey],this._performTransformAction(t,n,s),n.actionPerformed&&this.requestRenderAll()}_performTransformAction(t,e,n){const{action:i,actionHandler:s,target:l}=e,c=!!s&&s(t,e,n.x,n.y);c&&l.setCoords(),i==="drag"&&c&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||c}_setCursorFromEvent(t,e){if(!e)return void this.setCursor(this.defaultCursor);let n=e.hoverCursor||this.hoverCursor;const i=lc(this._activeObject)?this._activeObject:null,s=(!i||e.group!==i)&&e.findControl(this.getViewportPoint(t));if(s){const l=s.control;this.setCursor(l.cursorStyleHandler(t,l,e))}else e.subTargetCheck&&this.targets.concat().reverse().map(l=>{n=l.hoverCursor||n}),this.setCursor(n)}handleMultiSelection(t,e){const n=this._activeObject,i=lc(n);if(n&&this._isSelectionKeyPressed(t)&&this.selection&&e&&e.selectable&&(n!==e||i)&&(i||!e.isDescendantOf(n)&&!n.isDescendantOf(e))&&!e.onSelect({e:t})&&!n.getActiveControl()){if(i){const s=n.getObjects();if(e===n){const l=this.getViewportPoint(t);if(!(e=this.searchPossibleTargets(s,l)||this.searchPossibleTargets(this._objects,l))||!e.selectable)return!1}e.group===n?(n.remove(e),this._hoveredTarget=e,this._hoveredTargets=[...this.targets],n.size()===1&&this._setActiveObject(n.item(0),t)):(n.multiSelectAdd(e),this._hoveredTarget=n,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(s,t)}else{n.isEditing&&n.exitEditing();const s=new(ne.getClass("ActiveSelection"))([],{canvas:this});s.multiSelectAdd(n,e),this._hoveredTarget=s,this._setActiveObject(s,t),this._fireSelectionEvents([n],t)}return!0}return!1}handleSelection(t){if(!this.selection||!this._groupSelector)return!1;const{x:e,y:n,deltaX:i,deltaY:s}=this._groupSelector,l=new Et(e,n),c=l.add(new Et(i,s)),h=l.min(c),p=l.max(c).subtract(h),m=this.collectObjects({left:h.x,top:h.y,width:p.x,height:p.y},{includeIntersecting:!this.selectionFullyContained}),w=l.eq(c)?m[0]?[m[0]]:[]:m.length>1?m.filter(b=>!b.onSelect({e:t})).reverse():m;if(w.length===1)this.setActiveObject(w[0],t);else if(w.length>1){const b=ne.getClass("ActiveSelection");this.setActiveObject(new b(w,{canvas:this}),t)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const a2={x1:0,y1:0,x2:0,y2:0},Dv=ht(ht({},a2),{},{r1:0,r2:0}),nu=(a,t)=>isNaN(a)&&typeof t=="number"?t:a,Mv=/^(\d+\.\d+)%|(\d+)%$/;function l2(a){return a&&Mv.test(a)}function c2(a,t){const e=typeof a=="number"?a:typeof a=="string"?parseFloat(a)/(l2(a)?100:1):NaN;return fu(0,nu(e,t),1)}const jv=/\s*;\s*/,Fv=/\s*:\s*/;function Iv(a,t){let e,n;const i=a.getAttribute("style");if(i){const l=i.split(jv);l[l.length-1]===""&&l.pop();for(let c=l.length;c--;){const[h,p]=l[c].split(Fv).map(m=>m.trim());h==="stop-color"?e=p:h==="stop-opacity"&&(n=p)}}const s=new Gi(e||a.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:c2(a.getAttribute("offset"),0),color:s.toRgb(),opacity:nu(parseFloat(n||a.getAttribute("stop-opacity")||""),1)*s.getAlpha()*t}}function Rv(a,t){const e=[],n=a.getElementsByTagName("stop"),i=c2(t,1);for(let s=n.length;s--;)e.push(Iv(n[s],i));return e}function u2(a){return a.nodeName==="linearGradient"||a.nodeName==="LINEARGRADIENT"?"linear":"radial"}function h2(a){return a.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Rs(a,t){return a.getAttribute(t)}function Bv(a,t){return function(e,n){let i,{width:s,height:l,gradientUnits:c}=n;return Object.keys(e).reduce((h,p)=>{const m=e[p];return m==="Infinity"?i=1:m==="-Infinity"?i=0:(i=typeof m=="string"?parseFloat(m):m,typeof m=="string"&&l2(m)&&(i*=.01,c==="pixels"&&(p!=="x1"&&p!=="x2"&&p!=="r2"||(i*=s),p!=="y1"&&p!=="y2"||(i*=l)))),h[p]=i,h},{})}(u2(a)==="linear"?function(e){return{x1:Rs(e,"x1")||0,y1:Rs(e,"y1")||0,x2:Rs(e,"x2")||"100%",y2:Rs(e,"y2")||0}}(a):function(e){return{x1:Rs(e,"fx")||Rs(e,"cx")||"50%",y1:Rs(e,"fy")||Rs(e,"cy")||"50%",r1:0,x2:Rs(e,"cx")||"50%",y2:Rs(e,"cy")||"50%",r2:Rs(e,"r")||"50%"}}(a),ht(ht({},t),{},{gradientUnits:h2(a)}))}class Vh{constructor(t){const{type:e="linear",gradientUnits:n="pixels",coords:i={},colorStops:s=[],offsetX:l=0,offsetY:c=0,gradientTransform:h,id:p}=t||{};Object.assign(this,{type:e,gradientUnits:n,coords:ht(ht({},e==="radial"?Dv:a2),i),colorStops:s,offsetX:l,offsetY:c,gradientTransform:h,id:p?"".concat(p,"_").concat(_l()):_l()})}addColorStop(t){for(const e in t){const n=new Gi(t[e]);this.colorStops.push({offset:parseFloat(e),color:n.toRgb(),opacity:n.getAlpha()})}return this}toObject(t){return ht(ht({},mu(this,t)),{},{type:this.type,coords:ht({},this.coords),colorStops:this.colorStops.map(e=>ht({},e)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(t){let{additionalTransform:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=[],i=this.gradientTransform?this.gradientTransform.concat():ui.concat(),s=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",l=this.colorStops.map(w=>ht({},w)).sort((w,b)=>w.offset-b.offset);let c=-this.offsetX,h=-this.offsetY;var p;s==="objectBoundingBox"?(c/=t.width,h/=t.height):(c+=t.width/2,h+=t.height/2),(p=t)&&typeof p._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(c-=t.pathOffset.x,h-=t.pathOffset.y),i[4]-=c,i[5]-=h;const m=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(s,'"'),'gradientTransform="'.concat(e?e+" ":"").concat(Of(i),'"'),""].join(" ");if(this.type==="linear"){const{x1:w,y1:b,x2:y,y2:A}=this.coords;n.push("<linearGradient ",m,' x1="',w,'" y1="',b,'" x2="',y,'" y2="',A,`">
`)}else if(this.type==="radial"){const{x1:w,y1:b,x2:y,y2:A,r1:k,r2:O}=this.coords,T=k>O;n.push("<radialGradient ",m,' cx="',T?w:y,'" cy="',T?b:A,'" r="',T?k:O,'" fx="',T?y:w,'" fy="',T?A:b,`">
`),T&&(l.reverse(),l.forEach(Y=>{Y.offset=1-Y.offset}));const F=Math.min(k,O);if(F>0){const Y=F/Math.max(k,O);l.forEach(st=>{st.offset+=Y*(1-st.offset)})}}return l.forEach(w=>{let{color:b,offset:y,opacity:A}=w;n.push("<stop ",'offset="',100*y+"%",'" style="stop-color:',b,A!==void 0?";stop-opacity: "+A:";",`"/>
`)}),n.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),n.join("")}toLive(t){const{x1:e,y1:n,x2:i,y2:s,r1:l,r2:c}=this.coords,h=this.type==="linear"?t.createLinearGradient(e,n,i,s):t.createRadialGradient(e,n,l,i,s,c);return this.colorStops.forEach(p=>{let{color:m,opacity:w,offset:b}=p;h.addColorStop(b,w!==void 0?new Gi(m).setAlpha(w).toRgba():m)}),h}static async fromObject(t){const{colorStops:e,gradientTransform:n}=t;return new this(ht(ht({},t),{},{colorStops:e?e.map(i=>ht({},i)):void 0,gradientTransform:n?[...n]:void 0}))}static fromElement(t,e,n){const i=h2(t),s=e._findCenterFromElement();return new this(ht({id:t.getAttribute("id")||void 0,type:u2(t),coords:Bv(t,{width:n.viewBoxWidth||n.width,height:n.viewBoxHeight||n.height}),colorStops:Rv(t,n.opacity),gradientUnits:i,gradientTransform:xp(t.getAttribute("gradientTransform")||"")},i==="pixels"?{offsetX:e.width/2-s.x,offsetY:e.height/2-s.y}:{offsetX:0,offsetY:0}))}}lt(Vh,"type","Gradient"),ne.setClass(Vh,"gradient"),ne.setClass(Vh,"linear"),ne.setClass(Vh,"radial");const zv=["type","source","patternTransform"];class Kd{get type(){return"pattern"}set type(t){xl("warn","Setting type has no effect",t)}constructor(t){lt(this,"repeat","repeat"),lt(this,"offsetX",0),lt(this,"offsetY",0),lt(this,"crossOrigin",""),this.id=_l(),Object.assign(this,t)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(t){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?t.createPattern(this.source,this.repeat):null}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:e,crossOrigin:n}=this;return ht(ht({},mu(this,t)),{},{type:"pattern",source:this.sourceToString(),repeat:e,crossOrigin:n,offsetX:Pn(this.offsetX,Xe.NUM_FRACTION_DIGITS),offsetY:Pn(this.offsetY,Xe.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(t){let{width:e,height:n}=t;const{source:i,repeat:s,id:l}=this,c=nu(this.offsetX/e,0),h=nu(this.offsetY/n,0),p=s==="repeat-y"||s==="no-repeat"?1+Math.abs(c||0):nu(i.width/e,0),m=s==="repeat-x"||s==="no-repeat"?1+Math.abs(h||0):nu(i.height/n,0);return['<pattern id="SVGID_'.concat(l,'" x="').concat(c,'" y="').concat(h,'" width="').concat(p,'" height="').concat(m,'">'),'<image x="0" y="0" width="'.concat(i.width,'" height="').concat(i.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(t,e){let{type:n,source:i,patternTransform:s}=t,l=kn(t,zv);const c=await xf(i,ht(ht({},e),{},{crossOrigin:l.crossOrigin}));return new this(ht(ht({},l),{},{patternTransform:s&&s.slice(0),source:c}))}}lt(Kd,"type","Pattern"),ne.setClass(Kd),ne.setClass(Kd,"pattern");const Uv=["path","left","top"],qv=["d"];class cc extends Kr{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:n,left:i,top:s}=e,l=kn(e,Uv);super(),Object.assign(this,cc.ownDefaults),this.setOptions(l),this._setPath(t||[],!0),typeof i=="number"&&this.set(en,i),typeof s=="number"&&this.set(Li,s)}_setPath(t,e){this.path=yv(Array.isArray(t)?t:Av(t)),this.setBoundingBox(e)}_findCenterFromElement(){const t=this._calcBoundsFromPath();return new Et(t.left+t.width/2,t.top+t.height/2)}_renderPathCommands(t){const e=-this.pathOffset.x,n=-this.pathOffset.y;t.beginPath();for(const i of this.path)switch(i[0]){case"L":t.lineTo(i[1]+e,i[2]+n);break;case"M":t.moveTo(i[1]+e,i[2]+n);break;case"C":t.bezierCurveTo(i[1]+e,i[2]+n,i[3]+e,i[4]+n,i[5]+e,i[6]+n);break;case"Q":t.quadraticCurveTo(i[1]+e,i[2]+n,i[3]+e,i[4]+n);break;case"Z":t.closePath()}}_render(t){this._renderPathCommands(t),this._renderPaintInOrder(t)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ht(ht({},super.toObject(t)),{},{path:this.path.map(e=>e.slice())})}toDatalessObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=this.toObject(t);return this.sourcePath&&(delete e.path,e.sourcePath=this.sourcePath),e}_toSVG(){const t=Tv(this.path,Xe.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(t,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const t=Xe.NUM_FRACTION_DIGITS;return" translate(".concat(Pn(-this.pathOffset.x,t),", ").concat(Pn(-this.pathOffset.y,t),")")}toClipPathSVG(t){const e=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}toSVG(t){const e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{width:e,height:n,pathOffset:i}=this._calcDimensions();this.set({width:e,height:n,pathOffset:i}),t&&this.setPositionByOrigin(i,De,De)}_calcBoundsFromPath(){const t=[];let e=0,n=0,i=0,s=0;for(const l of this.path)switch(l[0]){case"L":i=l[1],s=l[2],t.push({x:e,y:n},{x:i,y:s});break;case"M":i=l[1],s=l[2],e=i,n=s;break;case"C":t.push(...X0(i,s,l[1],l[2],l[3],l[4],l[5],l[6])),i=l[5],s=l[6];break;case"Q":t.push(...X0(i,s,l[1],l[2],l[1],l[2],l[3],l[4])),i=l[3],s=l[4];break;case"Z":i=e,s=n}return va(t)}_calcDimensions(){const t=this._calcBoundsFromPath();return ht(ht({},t),{},{pathOffset:new Et(t.left+t.width/2,t.top+t.height/2)})}static fromObject(t){return this._fromObject(t,{extraParam:"path"})}static async fromElement(t,e,n){const i=ba(t,this.ATTRIBUTE_NAMES,n),{d:s}=i;return new this(s,ht(ht(ht({},kn(i,qv)),e),{},{left:void 0,top:void 0}))}}lt(cc,"type","Path"),lt(cc,"cacheProperties",[..._a,"path","fillRule"]),lt(cc,"ATTRIBUTE_NAMES",[...kl,"d"]),ne.setClass(cc),ne.setSVGClass(cc);const Wv=["left","top","radius"],f2=["radius","startAngle","endAngle","counterClockwise"];class fa extends Kr{static getDefaults(){return ht(ht({},super.getDefaults()),fa.ownDefaults)}constructor(t){super(),Object.assign(this,fa.ownDefaults),this.setOptions(t)}_set(t,e){return super._set(t,e),t==="radius"&&this.setRadius(e),this}_render(t){t.beginPath(),t.arc(0,0,this.radius,Vn(this.startAngle),Vn(this.endAngle),this.counterClockwise),this._renderPaintInOrder(t)}getRadiusX(){return this.get("radius")*this.get(Pi)}getRadiusY(){return this.get("radius")*this.get(gs)}setRadius(t){this.radius=t,this.set({width:2*t,height:2*t})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...f2,...t])}_toSVG(){const t=(this.endAngle-this.startAngle)%360;if(t===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:e}=this,n=Vn(this.startAngle),i=Vn(this.endAngle),s=wa(n)*e,l=xa(n)*e,c=wa(i)*e,h=xa(i)*e,p=t>180?1:0,m=this.counterClockwise?0:1;return['<path d="M '.concat(s," ").concat(l," A ").concat(e," ").concat(e," 0 ").concat(p," ").concat(m," ").concat(c," ").concat(h,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(t,e,n){const i=ba(t,this.ATTRIBUTE_NAMES,n),{left:s=0,top:l=0,radius:c=0}=i;return new this(ht(ht({},kn(i,Wv)),{},{radius:c,left:s-c,top:l-c}))}static fromObject(t){return super._fromObject(t)}}lt(fa,"type","Circle"),lt(fa,"cacheProperties",[..._a,...f2]),lt(fa,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),lt(fa,"ATTRIBUTE_NAMES",["cx","cy","r",...kl]),ne.setClass(fa),ne.setSVGClass(fa);const Vv=["x1","y1","x2","y2"],Hv=["x1","y1","x2","y2"],Cp=["x1","x2","y1","y2"];class uc extends Kr{constructor(){let[t,e,n,i]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,uc.ownDefaults),this.setOptions(s),this.x1=t,this.x2=n,this.y1=e,this.y2=i,this._setWidthHeight();const{left:l,top:c}=s;typeof l=="number"&&this.set(en,l),typeof c=="number"&&this.set(Li,c)}_setWidthHeight(){const{x1:t,y1:e,x2:n,y2:i}=this;this.width=Math.abs(n-t),this.height=Math.abs(i-e);const{left:s,top:l,width:c,height:h}=va([{x:t,y:e},{x:n,y:i}]),p=new Et(s+c/2,l+h/2);this.setPositionByOrigin(p,De,De)}_set(t,e){return super._set(t,e),Cp.includes(t)&&this._setWidthHeight(),this}_render(t){t.beginPath();const e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;const n=t.strokeStyle;var i;ps(this.stroke)?t.strokeStyle=this.stroke.toLive(t):t.strokeStyle=(i=this.stroke)!==null&&i!==void 0?i:t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=n}_findCenterFromElement(){return new Et((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ht(ht({},super.toObject(t)),this.calcLinePoints())}_getNonTransformedDimensions(){const t=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(t.y-=this.strokeWidth),this.height===0&&(t.x-=this.strokeWidth)),t}calcLinePoints(){const{x1:t,x2:e,y1:n,y2:i,width:s,height:l}=this,c=t<=e?-1:1,h=n<=i?-1:1;return{x1:c*s/2,x2:c*-s/2,y1:h*l/2,y2:h*-l/2}}_toSVG(){const{x1:t,x2:e,y1:n,y2:i}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(t,'" y1="').concat(n,'" x2="').concat(e,'" y2="').concat(i,`" />
`)]}static async fromElement(t,e,n){const i=ba(t,this.ATTRIBUTE_NAMES,n),{x1:s=0,y1:l=0,x2:c=0,y2:h=0}=i;return new this([s,l,c,h],kn(i,Vv))}static fromObject(t){let{x1:e,y1:n,x2:i,y2:s}=t,l=kn(t,Hv);return this._fromObject(ht(ht({},l),{},{points:[e,n,i,s]}),{extraParam:"points"})}}lt(uc,"type","Line"),lt(uc,"cacheProperties",[..._a,...Cp]),lt(uc,"ATTRIBUTE_NAMES",kl.concat(Cp)),ne.setClass(uc),ne.setSVGClass(uc);class fc extends Kr{static getDefaults(){return ht(ht({},super.getDefaults()),fc.ownDefaults)}constructor(t){super(),Object.assign(this,fc.ownDefaults),this.setOptions(t)}_render(t){const e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,n),t.lineTo(0,-n),t.lineTo(e,n),t.closePath(),this._renderPaintInOrder(t)}_toSVG(){const t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-t," ").concat(e,",0 ").concat(-e,",").concat(t," ").concat(e),'" />']}}lt(fc,"type","Triangle"),lt(fc,"ownDefaults",{width:100,height:100}),ne.setClass(fc),ne.setSVGClass(fc);const d2=["rx","ry"];class da extends Kr{static getDefaults(){return ht(ht({},super.getDefaults()),da.ownDefaults)}constructor(t){super(),Object.assign(this,da.ownDefaults),this.setOptions(t)}_set(t,e){switch(super._set(t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this}getRx(){return this.get("rx")*this.get(Pi)}getRy(){return this.get("ry")*this.get(gs)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...d2,...t])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,Lf,!1),t.restore(),this._renderPaintInOrder(t)}static async fromElement(t,e,n){const i=ba(t,this.ATTRIBUTE_NAMES,n);return i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,new this(i)}}function Yv(a){if(!a)return[];const t=a.replace(/,/g," ").trim().split(/\s+/),e=[];for(let n=0;n<t.length;n+=2)e.push({x:parseFloat(t[n]),y:parseFloat(t[n+1])});return e}lt(da,"type","Ellipse"),lt(da,"cacheProperties",[..._a,...d2]),lt(da,"ownDefaults",{rx:0,ry:0}),lt(da,"ATTRIBUTE_NAMES",[...kl,"cx","cy","rx","ry"]),ne.setClass(da),ne.setSVGClass(da);const Xv=["left","top"],p2={exactBoundingBox:!1};class Ws extends Kr{static getDefaults(){return ht(ht({},super.getDefaults()),Ws.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),lt(this,"strokeDiff",void 0),Object.assign(this,Ws.ownDefaults),this.setOptions(e),this.points=t;const{left:n,top:i}=e;this.initialized=!0,this.setBoundingBox(!0),typeof n=="number"&&this.set(en,n),typeof i=="number"&&this.set(Li,i)}isOpen(){return!0}_projectStrokeOnPoints(t){return F5(this.points,t,this.isOpen())}_calcDimensions(t){t=ht({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},t||{});const e=this.exactBoundingBox?this._projectStrokeOnPoints(t).map(p=>p.projectedPoint):this.points;if(e.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new Et,strokeOffset:new Et,strokeDiff:new Et};const n=va(e),i=Wf(ht(ht({},t),{},{scaleX:1,scaleY:1})),s=va(this.points.map(p=>Ci(p,i,!0))),l=new Et(this.scaleX,this.scaleY);let c=n.left+n.width/2,h=n.top+n.height/2;return this.exactBoundingBox&&(c-=h*Math.tan(Vn(this.skewX)),h-=c*Math.tan(Vn(this.skewY))),ht(ht({},n),{},{pathOffset:new Et(c,h),strokeOffset:new Et(s.left,s.top).subtract(new Et(n.left,n.top)).multiply(l),strokeDiff:new Et(n.width,n.height).subtract(new Et(s.width,s.height)).multiply(l)})}_findCenterFromElement(){const t=va(this.points);return new Et(t.left+t.width/2,t.top+t.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{left:e,top:n,width:i,height:s,pathOffset:l,strokeOffset:c,strokeDiff:h}=this._calcDimensions();this.set({width:i,height:s,pathOffset:l,strokeOffset:c,strokeDiff:h}),t&&this.setPositionByOrigin(new Et(e+i/2,n+s/2),De,De)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new Et(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let l;if(Object.keys(t).some(c=>this.strokeUniform||this.constructor.layoutProperties.includes(c))){var e,n;const{width:c,height:h}=this._calcDimensions(t);l=new Et((e=t.width)!==null&&e!==void 0?e:c,(n=t.height)!==null&&n!==void 0?n:h)}else{var i,s;l=new Et((i=t.width)!==null&&i!==void 0?i:this.width,(s=t.height)!==null&&s!==void 0?s:this.height)}return l.multiply(new Et(t.scaleX||this.scaleX,t.scaleY||this.scaleY))}return super._getTransformedDimensions(t)}_set(t,e){const n=this.initialized&&this[t]!==e,i=super._set(t,e);return this.exactBoundingBox&&n&&((t===Pi||t===gs)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(t))&&this.setDimensions(),i}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ht(ht({},super.toObject(t)),{},{points:this.points.map(e=>{let{x:n,y:i}=e;return{x:n,y:i}})})}_toSVG(){const t=[],e=this.pathOffset.x,n=this.pathOffset.y,i=Xe.NUM_FRACTION_DIGITS;for(let s=0,l=this.points.length;s<l;s++)t.push(Pn(this.points[s].x-e,i),",",Pn(this.points[s].y-n,i)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(t.join(""),`" />
`)]}_render(t){const e=this.points.length,n=this.pathOffset.x,i=this.pathOffset.y;if(e&&!isNaN(this.points[e-1].y)){t.beginPath(),t.moveTo(this.points[0].x-n,this.points[0].y-i);for(let s=0;s<e;s++){const l=this.points[s];t.lineTo(l.x-n,l.y-i)}!this.isOpen()&&t.closePath(),this._renderPaintInOrder(t)}}complexity(){return this.points.length}static async fromElement(t,e,n){return new this(Yv(t.getAttribute("points")),ht(ht({},kn(ba(t,this.ATTRIBUTE_NAMES,n),Xv)),e))}static fromObject(t){return this._fromObject(t,{extraParam:"points"})}}lt(Ws,"ownDefaults",p2),lt(Ws,"type","Polyline"),lt(Ws,"layoutProperties",[pu,gu,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),lt(Ws,"cacheProperties",[..._a,"points"]),lt(Ws,"ATTRIBUTE_NAMES",[...kl]),ne.setClass(Ws),ne.setSVGClass(Ws);class Hh extends Ws{isOpen(){return!1}}lt(Hh,"ownDefaults",p2),lt(Hh,"type","Polygon"),ne.setClass(Hh),ne.setSVGClass(Hh);const g2=["fontSize","fontWeight","fontFamily","fontStyle"],m2=["underline","overline","linethrough"],v2=[...g2,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],y2=[...v2,...m2,"textBackgroundColor","direction"],Gv=[...g2,...m2,Ti,"strokeWidth",er,"deltaY","textBackgroundColor"],$v={_reNewline:Up,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:en,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:en,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},So="justify",Rf="justify-left",Gu="justify-right",$u="justify-center";class w2 extends Kr{isEmptyStyles(t){if(!this.styles||t!==void 0&&!this.styles[t])return!0;const e=t===void 0?this.styles:{line:this.styles[t]};for(const n in e)for(const i in e[n])for(const s in e[n][i])return!1;return!0}styleHas(t,e){if(!this.styles||e!==void 0&&!this.styles[e])return!1;const n=e===void 0?this.styles:{0:this.styles[e]};for(const i in n)for(const s in n[i])if(n[i][s][t]!==void 0)return!0;return!1}cleanStyle(t){if(!this.styles)return!1;const e=this.styles;let n,i,s=0,l=!0,c=0;for(const h in e){n=0;for(const p in e[h]){const m=e[h][p]||{};s++,m[t]!==void 0?(i?m[t]!==i&&(l=!1):i=m[t],m[t]===this[t]&&delete m[t]):l=!1,Object.keys(m).length!==0?n++:delete e[h][p]}n===0&&delete e[h]}for(let h=0;h<this._textLines.length;h++)c+=this._textLines[h].length;l&&s===c&&(this[t]=i,this.removeStyle(t))}removeStyle(t){if(!this.styles)return;const e=this.styles;let n,i,s;for(i in e){for(s in n=e[i],n)delete n[s][t],Object.keys(n[s]).length===0&&delete n[s];Object.keys(n).length===0&&delete e[i]}}_extendStyles(t,e){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(t);this._getLineStyle(n)||this._setLineStyle(n);const s=Yp(ht(ht({},this._getStyleDeclaration(n,i)),e),l=>l!==void 0);this._setStyleDeclaration(n,i,s)}getSelectionStyles(t,e,n){const i=[];for(let s=t;s<(e||t);s++)i.push(this.getStyleAtPosition(s,n));return i}getStyleAtPosition(t,e){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(t);return e?this.getCompleteStyleDeclaration(n,i):this._getStyleDeclaration(n,i)}setSelectionStyles(t,e,n){for(let i=e;i<(n||e);i++)this._extendStyles(i,t);this._forceClearCache=!0}_getStyleDeclaration(t,e){var n;const i=this.styles&&this.styles[t];return i&&(n=i[e])!==null&&n!==void 0?n:{}}getCompleteStyleDeclaration(t,e){return ht(ht({},mu(this,this.constructor._styleProperties)),this._getStyleDeclaration(t,e))}_setStyleDeclaration(t,e,n){this.styles[t][e]=n}_deleteStyleDeclaration(t,e){delete this.styles[t][e]}_getLineStyle(t){return!!this.styles[t]}_setLineStyle(t){this.styles[t]={}}_deleteLineStyle(t){delete this.styles[t]}}lt(w2,"_styleProperties",Gv);const Kv=/  +/g,Jv=/"/g;function Jd(a,t,e,n,i){return"		".concat(function(s,l){let{left:c,top:h,width:p,height:m}=l,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xe.NUM_FRACTION_DIGITS;const b=Zu(er,s,!1),[y,A,k,O]=[c,h,p,m].map(T=>Pn(T,w));return"<rect ".concat(b,' x="').concat(y,'" y="').concat(A,'" width="').concat(k,'" height="').concat(O,'"></rect>')}(a,{left:t,top:e,width:n,height:i}),`
`)}const Qv=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Qd;class li extends w2{static getDefaults(){return ht(ht({},super.getDefaults()),li.ownDefaults)}constructor(t,e){super(),lt(this,"__charBounds",[]),Object.assign(this,li.ownDefaults),this.setOptions(e),this.styles||(this.styles={}),this.text=t,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const t=this.path;t&&(t.segmentsInfo=o2(t.path))}_splitText(){const t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(So)&&this.enlargeSpaces()}enlargeSpaces(){let t,e,n,i,s,l,c;for(let h=0,p=this._textLines.length;h<p;h++)if((this.textAlign===So||h!==p-1&&!this.isEndOfWrapping(h))&&(i=0,s=this._textLines[h],e=this.getLineWidth(h),e<this.width&&(c=this.textLines[h].match(this._reSpacesAndTabs)))){n=c.length,t=(this.width-e)/n;for(let m=0;m<=s.length;m++)l=this.__charBounds[h][m],this._reSpaceAndTab.test(s[m])?(l.width+=t,l.kernedWidth+=t,l.left+=i,i+=t):l.left+=i}}isEndOfWrapping(t){return t===this._textLines.length-1}missingNewlineOffset(t){return 1}get2DCursorLocation(t,e){const n=e?this._unwrappedTextLines:this._textLines;let i;for(i=0;i<n.length;i++){if(t<=n[i].length)return{lineIndex:i,charIndex:t};t-=n[i].length+this.missingNewlineOffset(i,e)}return{lineIndex:i-1,charIndex:n[i-1].length<t?n[i-1].length:t}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const t=super._getCacheCanvasDimensions(),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t}_render(t){const e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")}_renderText(t){this.paintFirst===Ti?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))}_setTextStyles(t,e,n){if(t.textBaseline="alphabetic",this.path)switch(this.pathAlign){case De:t.textBaseline="middle";break;case"ascender":t.textBaseline=Li;break;case"descender":t.textBaseline=dp}t.font=this._getFontDeclaration(e,n)}calcTextWidth(){let t=this.getLineWidth(0);for(let e=1,n=this._textLines.length;e<n;e++){const i=this.getLineWidth(e);i>t&&(t=i)}return t}_renderTextLine(t,e,n,i,s,l){this._renderChars(t,e,n,i,s,l)}_renderTextLinesBackground(t){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const e=t.fillStyle,n=this._getLeftOffset();let i=this._getTopOffset();for(let s=0,l=this._textLines.length;s<l;s++){const c=this.getHeightOfLine(s);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",s)){i+=c;continue}const h=this._textLines[s].length,p=this._getLineLeftOffset(s);let m,w,b=0,y=0,A=this.getValueOfPropertyAt(s,0,"textBackgroundColor");for(let k=0;k<h;k++){const O=this.__charBounds[s][k];w=this.getValueOfPropertyAt(s,k,"textBackgroundColor"),this.path?(t.save(),t.translate(O.renderLeft,O.renderTop),t.rotate(O.angle),t.fillStyle=w,w&&t.fillRect(-O.width/2,-c/this.lineHeight*(1-this._fontSizeFraction),O.width,c/this.lineHeight),t.restore()):w!==A?(m=n+p+y,this.direction==="rtl"&&(m=this.width-m-b),t.fillStyle=A,A&&t.fillRect(m,i,b,c/this.lineHeight),y=O.left,b=O.width,A=w):b+=O.kernedWidth}w&&!this.path&&(m=n+p+y,this.direction==="rtl"&&(m=this.width-m-b),t.fillStyle=w,t.fillRect(m,i,b,c/this.lineHeight)),i+=c}t.fillStyle=e,this._removeShadow(t)}_measureChar(t,e,n,i){const s=Yu.getFontCache(e),l=this._getFontDeclaration(e),c=n+t,h=n&&l===this._getFontDeclaration(i),p=e.fontSize/this.CACHE_FONT_SIZE;let m,w,b,y;if(n&&s[n]!==void 0&&(b=s[n]),s[t]!==void 0&&(y=m=s[t]),h&&s[c]!==void 0&&(w=s[c],y=w-b),m===void 0||b===void 0||w===void 0){const A=function(){return Qd||(Qd=To({width:0,height:0}).getContext("2d")),Qd}();this._setTextStyles(A,e,!0),m===void 0&&(y=m=A.measureText(t).width,s[t]=m),b===void 0&&h&&n&&(b=A.measureText(n).width,s[n]=b),h&&w===void 0&&(w=A.measureText(c).width,s[c]=w,y=w-b)}return{width:m*p,kernedWidth:y*p}}getHeightOfChar(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")}measureLine(t){const e=this._measureLine(t);return this.charSpacing!==0&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e}_measureLine(t){let e,n,i=0;const s=this.pathSide===zn,l=this.path,c=this._textLines[t],h=c.length,p=new Array(h);this.__charBounds[t]=p;for(let m=0;m<h;m++){const w=c[m];n=this._getGraphemeBox(w,t,m,e),p[m]=n,i+=n.kernedWidth,e=w}if(p[h]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},l&&l.segmentsInfo){let m=0;const w=l.segmentsInfo[l.segmentsInfo.length-1].length;switch(this.textAlign){case en:m=s?w-i:0;break;case De:m=(w-i)/2;break;case zn:m=s?0:w-i}m+=this.pathStartOffset*(s?-1:1);for(let b=s?h-1:0;s?b>=0:b<h;s?b--:b++)n=p[b],m>w?m%=w:m<0&&(m+=w),this._setGraphemeOnPath(m,n),m+=n.kernedWidth}return{width:i,numOfSpaces:0}}_setGraphemeOnPath(t,e){const n=t+e.kernedWidth/2,i=this.path,s=Sv(i.path,n,i.segmentsInfo);e.renderLeft=s.x-i.pathOffset.x,e.renderTop=s.y-i.pathOffset.y,e.angle=s.angle+(this.pathSide===zn?Math.PI:0)}_getGraphemeBox(t,e,n,i,s){const l=this.getCompleteStyleDeclaration(e,n),c=i?this.getCompleteStyleDeclaration(e,n-1):{},h=this._measureChar(t,l,i,c);let p,m=h.kernedWidth,w=h.width;this.charSpacing!==0&&(p=this._getWidthOfCharSpacing(),w+=p,m+=p);const b={width:w,left:0,height:l.fontSize,kernedWidth:m,deltaY:l.deltaY};if(n>0&&!s){const y=this.__charBounds[e][n-1];b.left=y.left+y.width+h.kernedWidth-h.width}return b}getHeightOfLine(t){if(this.__lineHeights[t])return this.__lineHeights[t];let e=this.getHeightOfChar(t,0);for(let n=1,i=this._textLines[t].length;n<i;n++)e=Math.max(this.getHeightOfChar(t,n),e);return this.__lineHeights[t]=e*this.lineHeight*this._fontSizeMult}calcTextHeight(){let t,e=0;for(let n=0,i=this._textLines.length;n<i;n++)t=this.getHeightOfLine(n),e+=n===i-1?t/this.lineHeight:t;return e}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(t,e){t.save();let n=0;const i=this._getLeftOffset(),s=this._getTopOffset();for(let l=0,c=this._textLines.length;l<c;l++){const h=this.getHeightOfLine(l),p=h/this.lineHeight,m=this._getLineLeftOffset(l);this._renderTextLine(e,t,this._textLines[l],i+m,s+n+p,l),n+=h}t.restore()}_renderTextFill(t){(this.fill||this.styleHas(er))&&this._renderTextCommon(t,"fillText")}_renderTextStroke(t){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())}_renderChars(t,e,n,i,s,l){const c=this.getHeightOfLine(l),h=this.textAlign.includes(So),p=this.path,m=!h&&this.charSpacing===0&&this.isEmptyStyles(l)&&!p,w=this.direction==="ltr",b=this.direction==="ltr"?1:-1,y=e.direction;let A,k,O,T,F,Y="",st=0;if(e.save(),y!==this.direction&&(e.canvas.setAttribute("dir",w?"ltr":"rtl"),e.direction=w?"ltr":"rtl",e.textAlign=w?en:zn),s-=c*this._fontSizeFraction/this.lineHeight,m)return this._renderChar(t,e,l,0,n.join(""),i,s),void e.restore();for(let Z=0,mt=n.length-1;Z<=mt;Z++)T=Z===mt||this.charSpacing||p,Y+=n[Z],O=this.__charBounds[l][Z],st===0?(i+=b*(O.kernedWidth-O.width),st+=O.width):st+=O.kernedWidth,h&&!T&&this._reSpaceAndTab.test(n[Z])&&(T=!0),T||(A=A||this.getCompleteStyleDeclaration(l,Z),k=this.getCompleteStyleDeclaration(l,Z+1),T=eg(A,k,!1)),T&&(p?(e.save(),e.translate(O.renderLeft,O.renderTop),e.rotate(O.angle),this._renderChar(t,e,l,Z,Y,-st/2,0),e.restore()):(F=i,this._renderChar(t,e,l,Z,Y,F,s)),Y="",A=k,i+=b*st,st=0);e.restore()}_applyPatternGradientTransformText(t){const e=this.width+this.strokeWidth,n=this.height+this.strokeWidth,i=To({width:e,height:n}),s=i.getContext("2d");return i.width=e,i.height=n,s.beginPath(),s.moveTo(0,0),s.lineTo(e,0),s.lineTo(e,n),s.lineTo(0,n),s.closePath(),s.translate(e/2,n/2),s.fillStyle=t.toLive(s),this._applyPatternGradientTransform(s,t),s.fill(),s.createPattern(i,"no-repeat")}handleFiller(t,e,n){let i,s;return ps(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?(i=-this.width/2,s=-this.height/2,t.translate(i,s),t[e]=this._applyPatternGradientTransformText(n),{offsetX:i,offsetY:s}):(t[e]=n.toLive(t),this._applyPatternGradientTransform(t,n)):(t[e]=n,{offsetX:0,offsetY:0})}_setStrokeStyles(t,e){let{stroke:n,strokeWidth:i}=e;return t.lineWidth=i,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",n)}_setFillStyles(t,e){let{fill:n}=e;return this.handleFiller(t,"fillStyle",n)}_renderChar(t,e,n,i,s,l,c){const h=this._getStyleDeclaration(n,i),p=this.getCompleteStyleDeclaration(n,i),m=t==="fillText"&&p.fill,w=t==="strokeText"&&p.stroke&&p.strokeWidth;if(w||m){if(e.save(),e.font=this._getFontDeclaration(p),h.textBackgroundColor&&this._removeShadow(e),h.deltaY&&(c+=h.deltaY),m){const b=this._setFillStyles(e,p);e.fillText(s,l-b.offsetX,c-b.offsetY)}if(w){const b=this._setStrokeStyles(e,p);e.strokeText(s,l-b.offsetX,c-b.offsetY)}e.restore()}}setSuperscript(t,e){this._setScript(t,e,this.superscript)}setSubscript(t,e){this._setScript(t,e,this.subscript)}_setScript(t,e,n){const i=this.get2DCursorLocation(t,!0),s=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),l=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),c={fontSize:s*n.size,deltaY:l+s*n.baseline};this.setSelectionStyles(c,t,e)}_getLineLeftOffset(t){const e=this.getLineWidth(t),n=this.width-e,i=this.textAlign,s=this.direction,l=this.isEndOfWrapping(t);let c=0;return i===So||i===$u&&!l||i===Gu&&!l||i===Rf&&!l?0:(i===De&&(c=n/2),i===zn&&(c=n),i===$u&&(c=n/2),i===Gu&&(c=n),s==="rtl"&&(i===zn||i===So||i===Gu?c=0:i===en||i===Rf?c=-n:i!==De&&i!==$u||(c=-n/2)),c)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(t){if(this.__lineWidths[t]!==void 0)return this.__lineWidths[t];const{width:e}=this.measureLine(t);return this.__lineWidths[t]=e,e}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(t,e,n){var i;return(i=this._getStyleDeclaration(t,e)[n])!==null&&i!==void 0?i:this[n]}_renderTextDecoration(t,e){if(!this[e]&&!this.styleHas(e))return;let n=this._getTopOffset();const i=this._getLeftOffset(),s=this.path,l=this._getWidthOfCharSpacing(),c=this.offsets[e];for(let h=0,p=this._textLines.length;h<p;h++){const m=this.getHeightOfLine(h);if(!this[e]&&!this.styleHas(e,h)){n+=m;continue}const w=this._textLines[h],b=m/this.lineHeight,y=this._getLineLeftOffset(h);let A,k,O=0,T=0,F=this.getValueOfPropertyAt(h,0,e),Y=this.getValueOfPropertyAt(h,0,er);const st=n+b*(1-this._fontSizeFraction);let Z=this.getHeightOfChar(h,0),mt=this.getValueOfPropertyAt(h,0,"deltaY");for(let q=0,dt=w.length;q<dt;q++){const bt=this.__charBounds[h][q];A=this.getValueOfPropertyAt(h,q,e),k=this.getValueOfPropertyAt(h,q,er);const R=this.getHeightOfChar(h,q),B=this.getValueOfPropertyAt(h,q,"deltaY");if(s&&A&&k)t.save(),t.fillStyle=Y,t.translate(bt.renderLeft,bt.renderTop),t.rotate(bt.angle),t.fillRect(-bt.kernedWidth/2,c*R+B,bt.kernedWidth,this.fontSize/15),t.restore();else if((A!==F||k!==Y||R!==Z||B!==mt)&&T>0){let G=i+y+O;this.direction==="rtl"&&(G=this.width-G-T),F&&Y&&(t.fillStyle=Y,t.fillRect(G,st+c*Z+mt,T,this.fontSize/15)),O=bt.left,T=bt.width,F=A,Y=k,Z=R,mt=B}else T+=bt.kernedWidth}let tt=i+y+O;this.direction==="rtl"&&(tt=this.width-tt-T),t.fillStyle=k,A&&k&&t.fillRect(tt,st+c*Z+mt,T-l,this.fontSize/15),n+=m}this._removeShadow(t)}_getFontDeclaration(){let{fontFamily:t=this.fontFamily,fontStyle:e=this.fontStyle,fontWeight:n=this.fontWeight,fontSize:i=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;const l=t.includes("'")||t.includes('"')||t.includes(",")||li.genericFonts.includes(t.toLowerCase())?t:'"'.concat(t,'"');return[e,n,"".concat(s?this.CACHE_FONT_SIZE:i,"px"),l].join(" ")}render(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(t)))}graphemeSplit(t){return tg(t)}_splitTextIntoLines(t){const e=t.split(this._reNewline),n=new Array(e.length),i=[`
`];let s=[];for(let l=0;l<e.length;l++)n[l]=this.graphemeSplit(e[l]),s=s.concat(n[l],i);return s.pop(),{_unwrappedLines:n,lines:e,graphemeText:s,graphemeLines:n}}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ht(ht({},super.toObject([...y2,...t])),{},{styles:B5(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(t,e){const{textLayoutProperties:n}=this.constructor;super.set(t,e);let i=!1,s=!1;if(typeof t=="object")for(const l in t)l==="path"&&this.setPathInfo(),i=i||n.includes(l),s=s||l==="path";else i=n.includes(t),s=t==="path";return s&&this.setPathInfo(),i&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(t,e,n){const i=ba(t,li.ATTRIBUTE_NAMES,n),s=ht(ht({},e),i),{textAnchor:l=en,textDecoration:c="",dx:h=0,dy:p=0,top:m=0,left:w=0,fontSize:b=zp,strokeWidth:y=1}=s,A=kn(s,Qv),k=new this((t.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),ht({left:w+h,top:m+p,underline:c.includes("underline"),overline:c.includes("overline"),linethrough:c.includes("line-through"),strokeWidth:0,fontSize:b},A)),O=k.getScaledHeight()/k.height,T=((k.height+k.strokeWidth)*k.lineHeight-k.height)*O,F=k.getScaledHeight()+T;let Y=0;return l===De&&(Y=k.getScaledWidth()/2),l===zn&&(Y=k.getScaledWidth()),k.set({left:k.left-Y,top:k.top-(F-k.fontSize*(.07+k._fontSizeFraction))/k.lineHeight,strokeWidth:y}),k}static fromObject(t){return this._fromObject(ht(ht({},t),{},{styles:z5(t.styles||{},t.text)}),{extraParam:"text"})}}lt(li,"textLayoutProperties",v2),lt(li,"cacheProperties",[..._a,...y2]),lt(li,"ownDefaults",$v),lt(li,"type","Text"),lt(li,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),lt(li,"ATTRIBUTE_NAMES",kl.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),J1(li,[class extends q1{_toSVG(){const a=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(a.textTop,a.textLeft);return this._wrapSVGTextAndBg(t)}toSVG(a){return this._createBaseSVGMarkup(this._toSVG(),{reviver:a,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(a){let{textBgRects:t,textSpans:e}=a;const n=this.getSvgTextDecoration(this);return[t.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(Jv,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",n?'text-decoration="'.concat(n,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.join(""),`</text>
`]}_getSVGTextAndBg(a,t){const e=[],n=[];let i,s=a;this.backgroundColor&&n.push(...Jd(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let l=0,c=this._textLines.length;l<c;l++)i=this._getLineLeftOffset(l),this.direction==="rtl"&&(i+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",l))&&this._setSVGTextLineBg(n,l,t+i,s),this._setSVGTextLineText(e,l,t+i,s),s+=this.getHeightOfLine(l);return{textSpans:e,textBgRects:n}}_createTextCharSpan(a,t,e,n){const i=this.getSvgSpanStyles(t,a!==a.trim()||!!a.match(Kv)),s=i?'style="'.concat(i,'"'):"",l=t.deltaY,c=l?' dy="'.concat(Pn(l,Xe.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(Pn(e,Xe.NUM_FRACTION_DIGITS),'" y="').concat(Pn(n,Xe.NUM_FRACTION_DIGITS),'" ').concat(c).concat(s,">").concat(I5(a),"</tspan>")}_setSVGTextLineText(a,t,e,n){const i=this.getHeightOfLine(t),s=this.textAlign.includes(So),l=this._textLines[t];let c,h,p,m,w,b="",y=0;n+=i*(1-this._fontSizeFraction)/this.lineHeight;for(let A=0,k=l.length-1;A<=k;A++)w=A===k||this.charSpacing,b+=l[A],p=this.__charBounds[t][A],y===0?(e+=p.kernedWidth-p.width,y+=p.width):y+=p.kernedWidth,s&&!w&&this._reSpaceAndTab.test(l[A])&&(w=!0),w||(c=c||this.getCompleteStyleDeclaration(t,A),h=this.getCompleteStyleDeclaration(t,A+1),w=eg(c,h,!0)),w&&(m=this._getStyleDeclaration(t,A),a.push(this._createTextCharSpan(b,m,e,n)),b="",c=h,this.direction==="rtl"?e-=y:e+=y,y=0)}_setSVGTextLineBg(a,t,e,n){const i=this._textLines[t],s=this.getHeightOfLine(t)/this.lineHeight;let l,c=0,h=0,p=this.getValueOfPropertyAt(t,0,"textBackgroundColor");for(let m=0;m<i.length;m++){const{left:w,width:b,kernedWidth:y}=this.__charBounds[t][m];l=this.getValueOfPropertyAt(t,m,"textBackgroundColor"),l!==p?(p&&a.push(...Jd(p,e+h,n,c,s)),h=w,c=b,p=l):c+=y}l&&a.push(...Jd(p,e+h,n,c,s))}_getSVGLineTopOffset(a){let t,e=0;for(t=0;t<a;t++)e+=this.getHeightOfLine(t);const n=this.getHeightOfLine(t);return{lineTop:e,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(a){return"".concat(super.getSvgStyles(a)," white-space: pre;")}getSvgSpanStyles(a,t){const{fontFamily:e,strokeWidth:n,stroke:i,fill:s,fontSize:l,fontStyle:c,fontWeight:h,deltaY:p}=a,m=this.getSvgTextDecoration(a);return[i?Zu(Ti,i):"",n?"stroke-width: ".concat(n,"; "):"",e?"font-family: ".concat(e.includes("'")||e.includes('"')?e:"'".concat(e,"'"),"; "):"",l?"font-size: ".concat(l,"px; "):"",c?"font-style: ".concat(c,"; "):"",h?"font-weight: ".concat(h,"; "):"",m&&"text-decoration: ".concat(m,"; "),s?Zu(er,s):"",p?"baseline-shift: ".concat(-p,"; "):"",t?"white-space: pre; ":""].join("")}getSvgTextDecoration(a){return["overline","underline","line-through"].filter(t=>a[t.replace("-","")]).join(" ")}}]),ne.setClass(li),ne.setSVGClass(li);class Zv{constructor(t){lt(this,"target",void 0),lt(this,"__mouseDownInPlace",!1),lt(this,"__dragStartFired",!1),lt(this,"__isDraggingOver",!1),lt(this,"__dragStartSelection",void 0),lt(this,"__dragImageDisposer",void 0),lt(this,"_dispose",void 0),this.target=t;const e=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{e.forEach(n=>n()),this._dispose=void 0}}isPointerOverSelection(t){const e=this.target,n=e.getSelectionStartFromPointer(t);return e.isEditing&&n>=e.selectionStart&&n<=e.selectionEnd&&e.selectionStart<e.selectionEnd}start(t){return this.__mouseDownInPlace=this.isPointerOverSelection(t)}isActive(){return this.__mouseDownInPlace}end(t){const e=this.isActive();return e&&!this.__dragStartFired&&(this.target.setCursorByClick(t),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,e}getDragStartSelection(){return this.__dragStartSelection}setDragImage(t,e){var n;let{selectionStart:i,selectionEnd:s}=e;const l=this.target,c=l.canvas,h=new Et(l.flipX?-1:1,l.flipY?-1:1),p=l._getCursorBoundaries(i),m=new Et(p.left+p.leftOffset,p.top+p.topOffset).multiply(h).transform(l.calcTransformMatrix()),w=c.getScenePoint(t).subtract(m),b=l.getCanvasRetinaScaling(),y=l.getBoundingRect(),A=m.subtract(new Et(y.left,y.top)),k=c.viewportTransform,O=A.add(w).transform(k,!0),T=l.backgroundColor,F=Zp(l.styles);l.backgroundColor="";const Y={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};l.setSelectionStyles(Y,0,i),l.setSelectionStyles(Y,s,l.text.length),l.dirty=!0;const st=l.toCanvasElement({enableRetinaScaling:c.enableRetinaScaling,viewportTransform:!0});l.backgroundColor=T,l.styles=F,l.dirty=!0,Sp(st,{position:"fixed",left:"".concat(-st.width,"px"),border:Ai,width:"".concat(st.width/b,"px"),height:"".concat(st.height/b,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{st.remove()},Vs(t.target||this.target.hiddenTextarea).body.appendChild(st),(n=t.dataTransfer)===null||n===void 0||n.setDragImage(st,O.x,O.y)}onDragStart(t){this.__dragStartFired=!0;const e=this.target,n=this.isActive();if(n&&t.dataTransfer){const i=this.__dragStartSelection={selectionStart:e.selectionStart,selectionEnd:e.selectionEnd},s=e._text.slice(i.selectionStart,i.selectionEnd).join(""),l=ht({text:e.text,value:s},i);t.dataTransfer.setData("text/plain",s),t.dataTransfer.setData("application/fabric",JSON.stringify({value:s,styles:e.getSelectionStyles(i.selectionStart,i.selectionEnd,!0)})),t.dataTransfer.effectAllowed="copyMove",this.setDragImage(t,l)}return e.abortCursorAnimation(),n}canDrop(t){if(this.target.editable&&!this.target.getActiveControl()&&!t.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const e=this.target.getSelectionStartFromPointer(t),n=this.__dragStartSelection;return e<n.selectionStart||e>n.selectionEnd}return!0}return!1}targetCanDrop(t){return this.target.canDrop(t)}dragEnterHandler(t){let{e}=t;const n=this.targetCanDrop(e);!this.__isDraggingOver&&n&&(this.__isDraggingOver=!0)}dragOverHandler(t){const{e}=t,n=this.targetCanDrop(e);!this.__isDraggingOver&&n?this.__isDraggingOver=!0:this.__isDraggingOver&&!n&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(e.preventDefault(),t.canDrop=!0,t.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(t){var e;const{e:n}=t,i=n.defaultPrevented;this.__isDraggingOver=!1,n.preventDefault();let s=(e=n.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain");if(s&&!i){const l=this.target,c=l.canvas;let h=l.getSelectionStartFromPointer(n);const{styles:p}=n.dataTransfer.types.includes("application/fabric")?JSON.parse(n.dataTransfer.getData("application/fabric")):{},m=s[Math.max(0,s.length-1)],w=0;if(this.__dragStartSelection){const b=this.__dragStartSelection.selectionStart,y=this.__dragStartSelection.selectionEnd;h>b&&h<=y?h=b:h>y&&(h-=y-b),l.removeChars(b,y),delete this.__dragStartSelection}l._reNewline.test(m)&&(l._reNewline.test(l._text[h])||h===l._text.length)&&(s=s.trimEnd()),t.didDrop=!0,t.dropTarget=l,l.insertChars(s,p,h),c.setActiveObject(l),l.enterEditing(n),l.selectionStart=Math.min(h+w,l._text.length),l.selectionEnd=Math.min(l.selectionStart+s.length,l._text.length),l.hiddenTextarea.value=l.text,l._updateTextarea(),l.hiddenTextarea.focus(),l.fire(Af,{index:h+w,action:"drop"}),c.fire("text:changed",{target:l}),c.contextTopDirty=!0,c.requestRenderAll()}}dragEndHandler(t){let{e}=t;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var n;const i=this.target,s=this.target.canvas,{selectionStart:l,selectionEnd:c}=this.__dragStartSelection,h=((n=e.dataTransfer)===null||n===void 0?void 0:n.dropEffect)||Ai;h===Ai?(i.selectionStart=l,i.selectionEnd=c,i._updateTextarea(),i.hiddenTextarea.focus()):(i.clearContextTop(),h==="move"&&(i.removeChars(l,c),i.selectionStart=i.selectionEnd=l,i.hiddenTextarea&&(i.hiddenTextarea.value=i.text),i._updateTextarea(),i.fire(Af,{index:l,action:"dragend"}),s.fire("text:changed",{target:i}),s.requestRenderAll()),i.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const K0=/[ \n\.,;!\?\-]/;class ty extends li{constructor(){super(...arguments),lt(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(t){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(t)}_animateCursor(t){let{toValue:e,duration:n,delay:i,onComplete:s}=t;return Y1({startValue:this._currentCursorOpacity,endValue:e,duration:n,delay:i,onComplete:s,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:l=>{this._currentCursorOpacity=l,this.renderCursorOrSelection()}})}_tick(t){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(t||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var t;(t=this._currentTickCompleteState)===null||t===void 0||t.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(t){this.abortCursorAnimation(),this._tick(t?0:this.cursorDelay)}abortCursorAnimation(){let t=!1;[this._currentTickState,this._currentTickCompleteState].forEach(e=>{e&&!e.isDone()&&(t=!0,e.abort())}),this._currentCursorOpacity=1,t&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(t=>!t||t.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(t){let e=0,n=t-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)e++,n--;for(;/\S/.test(this._text[n])&&n>-1;)e++,n--;return t-e}findWordBoundaryRight(t){let e=0,n=t;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)e++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)e++,n++;return t+e}findLineBoundaryLeft(t){let e=0,n=t-1;for(;!/\n/.test(this._text[n])&&n>-1;)e++,n--;return t-e}findLineBoundaryRight(t){let e=0,n=t;for(;!/\n/.test(this._text[n])&&n<this._text.length;)e++,n++;return t+e}searchWordBoundary(t,e){const n=this._text;let i=t>0&&this._reSpace.test(n[t])&&(e===-1||!Up.test(n[t-1]))?t-1:t,s=n[i];for(;i>0&&i<n.length&&!K0.test(s);)i+=e,s=n[i];return e===-1&&K0.test(s)&&i++,i}selectWord(t){t=t||this.selectionStart;const e=this.searchWordBoundary(t,-1),n=Math.max(e,this.searchWordBoundary(t,1));this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(t){t=t||this.selectionStart;const e=this.findLineBoundaryLeft(t),n=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(t){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",t?{e:t}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:t}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(t){if(this.getActiveControl())return;const e=this.hiddenTextarea;Vs(e).activeElement!==e&&e.focus();const n=this.getSelectionStartFromPointer(t),i=this.selectionStart,s=this.selectionEnd;(n===this.__selectionStartOnMouseDown&&i!==s||i!==n&&s!==n)&&(n>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=n):(this.selectionStart=n,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===s||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(t,e,n){const i=n.slice(0,t),s=this.graphemeSplit(i).length;if(t===e)return{selectionStart:s,selectionEnd:s};const l=n.slice(t,e);return{selectionStart:s,selectionEnd:s+this.graphemeSplit(l).length}}fromGraphemeToStringSelection(t,e,n){const i=n.slice(0,t).join("").length;return t===e?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+n.slice(t,e).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const t=this.hiddenTextarea;this.text=t.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const e=this.fromStringToGraphemeSelection(t.selectionStart,t.selectionEnd,t.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),n=this.get2DCursorLocation(t),i=n.lineIndex,s=n.charIndex,l=this.getValueOfPropertyAt(i,s,"fontSize")*this.lineHeight,c=e.leftOffset,h=this.getCanvasRetinaScaling(),p=this.canvas.upperCanvasEl,m=p.width/h,w=p.height/h,b=m-l,y=w-l,A=new Et(e.left+c,e.top+e.topOffset+l).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new Et(p.clientWidth/m,p.clientHeight/w));return A.x<0&&(A.x=0),A.x>b&&(A.x=b),A.y<0&&(A.y=0),A.y>y&&(A.y=y),A.x+=this.canvas._offset.left,A.y+=this.canvas._offset.top,{left:"".concat(A.x,"px"),top:"".concat(A.y,"px"),fontSize:"".concat(l,"px"),charHeight:l}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const t=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const t=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),t&&this.fire(Tf),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const t in this.styles)this._textLines[t]||delete this.styles[t]}removeStyleFromTo(t,e){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(t,!0),{lineIndex:s,charIndex:l}=this.get2DCursorLocation(e,!0);if(n!==s){if(this.styles[n])for(let c=i;c<this._unwrappedTextLines[n].length;c++)delete this.styles[n][c];if(this.styles[s])for(let c=l;c<this._unwrappedTextLines[s].length;c++){const h=this.styles[s][c];h&&(this.styles[n]||(this.styles[n]={}),this.styles[n][i+c-l]=h)}for(let c=n+1;c<=s;c++)delete this.styles[c];this.shiftLineStyles(s,n-s)}else if(this.styles[n]){const c=this.styles[n],h=l-i;for(let p=i;p<l;p++)delete c[p];for(const p in this.styles[n]){const m=parseInt(p,10);m>=l&&(c[m-h]=c[p],delete c[p])}}}shiftLineStyles(t,e){const n=Object.assign({},this.styles);for(const i in this.styles){const s=parseInt(i,10);s>t&&(this.styles[s+e]=n[s],n[s-e]||delete this.styles[s])}}insertNewlineStyleObject(t,e,n,i){const s={},l=this._unwrappedTextLines[t].length,c=l===e;let h=!1;n||(n=1),this.shiftLineStyles(t,n);const p=this.styles[t]?this.styles[t][e===0?e:e-1]:void 0;for(const w in this.styles[t]){const b=parseInt(w,10);b>=e&&(h=!0,s[b-e]=this.styles[t][w],c&&e===0||delete this.styles[t][w])}let m=!1;for(h&&!c&&(this.styles[t+n]=s,m=!0),(m||l>e)&&n--;n>0;)i&&i[n-1]?this.styles[t+n]={0:ht({},i[n-1])}:p?this.styles[t+n]={0:ht({},p)}:delete this.styles[t+n],n--;this._forceClearCache=!0}insertCharStyleObject(t,e,n,i){this.styles||(this.styles={});const s=this.styles[t],l=s?ht({},s):{};n||(n=1);for(const h in l){const p=parseInt(h,10);p>=e&&(s[p+n]=l[p],l[p-n]||delete s[p])}if(this._forceClearCache=!0,i){for(;n--;)Object.keys(i[n]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+n]=ht({},i[n]));return}if(!s)return;const c=s[e?e-1:1];for(;c&&n--;)this.styles[t][e+n]=ht({},c)}insertNewStyleBlock(t,e,n){const i=this.get2DCursorLocation(e,!0),s=[0];let l,c=0;for(let h=0;h<t.length;h++)t[h]===`
`?(c++,s[c]=0):s[c]++;for(s[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,s[0],n),n=n&&n.slice(s[0]+1)),c&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+s[0],c),l=1;l<c;l++)s[l]>0?this.insertCharStyleObject(i.lineIndex+l,0,s[l],n):n&&this.styles[i.lineIndex+l]&&n[0]&&(this.styles[i.lineIndex+l][0]=n[0]),n=n&&n.slice(s[l]+1);s[l]>0&&this.insertCharStyleObject(i.lineIndex+l,0,s[l],n)}removeChars(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t+1;this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;i>n&&this.removeStyleFromTo(n,i);const s=this.graphemeSplit(t);this.insertNewStyleBlock(s,n,e),this._text=[...this._text.slice(0,n),...s,...this._text.slice(i)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(t,e,n){n<=t?(e===t?this._selectionDirection=en:this._selectionDirection===zn&&(this._selectionDirection=en,this.selectionEnd=t),this.selectionStart=n):n>t&&n<e?this._selectionDirection===zn?this.selectionEnd=n:this.selectionStart=n:(e===t?this._selectionDirection=zn:this._selectionDirection===en&&(this._selectionDirection=zn,this.selectionStart=e),this.selectionEnd=n)}}class ey extends ty{initHiddenTextarea(){const t=this.canvas&&Vs(this.canvas.getElement())||du(),e=t.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(l=>{let[c,h]=l;return e.setAttribute(c,h)});const{top:n,left:i,fontSize:s}=this._calcTextareaPosition();e.style.cssText="position: absolute; top: ".concat(n,"; left: ").concat(i,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(s,";"),(this.hiddenTextareaContainer||t.body).appendChild(e),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(l=>{let[c,h]=l;return e.addEventListener(c,this[h].bind(this))}),this.hiddenTextarea=e}blur(){this.abortCursorAnimation()}onKeyDown(t){if(!this.isEditing)return;const e=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(t){const e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),!this.isEditing)return;const n=()=>{this.updateFromTextArea(),this.fire(Af),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void n();const i=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,s=this._text.length,l=i.length,c=this.selectionStart,h=this.selectionEnd,p=c!==h;let m,w,b,y,A=l-s;const k=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),O=c>k.selectionStart;p?(w=this._text.slice(c,h),A+=h-c):l<s&&(w=O?this._text.slice(h+A,h):this._text.slice(c,c-A));const T=i.slice(k.selectionEnd-A,k.selectionEnd);if(w&&w.length&&(T.length&&(m=this.getSelectionStyles(c,c+1,!1),m=T.map(()=>m[0])),p?(b=c,y=h):O?(b=h-w.length,y=h):(b=h,y=h+w.length),this.removeStyleFromTo(b,y)),T.length){const{copyPasteData:F}=Ao();e&&T.join("")===F.copiedText&&!Xe.disableStyleCopyPaste&&(m=F.copiedTextStyle),this.insertNewStyleBlock(T,c,m)}n()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(t){let{target:e}=t;const{selectionStart:n,selectionEnd:i}=e;this.compositionStart=n,this.compositionEnd=i,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:t}=Ao();t.copiedText=this.getSelectedText(),Xe.disableStyleCopyPaste?t.copiedTextStyle=void 0:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(t,e){let n,i=this._getLineLeftOffset(t);return e>0&&(n=this.__charBounds[t][e-1],i+=n.left+n.width),i}getDownCursorOffset(t,e){const n=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(n),s=i.lineIndex;if(s===this._textLines.length-1||t.metaKey||t.keyCode===34)return this._text.length-n;const l=i.charIndex,c=this._getWidthBeforeCursor(s,l),h=this._getIndexOnLine(s+1,c);return this._textLines[s].slice(l).length+h+1+this.missingNewlineOffset(s)}_getSelectionForOffset(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart}getUpCursorOffset(t,e){const n=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(n),s=i.lineIndex;if(s===0||t.metaKey||t.keyCode===33)return-n;const l=i.charIndex,c=this._getWidthBeforeCursor(s,l),h=this._getIndexOnLine(s-1,c),p=this._textLines[s].slice(0,l),m=this.missingNewlineOffset(s-1);return-this._textLines[s-1].length+h-p.length+(1-m)}_getIndexOnLine(t,e){const n=this._textLines[t];let i,s,l=this._getLineLeftOffset(t),c=0;for(let h=0,p=n.length;h<p;h++)if(i=this.__charBounds[t][h].width,l+=i,l>e){s=!0;const m=l-i,w=l,b=Math.abs(m-e);c=Math.abs(w-e)<b?h:h-1;break}return s||(c=n.length-1),c}moveCursorDown(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)}moveCursorUp(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",t)}_moveCursorUpOrDown(t,e){const n=this["get".concat(t,"CursorOffset")](e,this._selectionDirection===zn);if(e.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),n!==0){const i=this.text.length;this.selectionStart=fu(0,this.selectionStart,i),this.selectionEnd=fu(0,this.selectionEnd,i),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(t){const e=this._selectionDirection===en?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),t!==0}moveCursorWithoutShift(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),t!==0}moveCursorLeft(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",t)}_move(t,e,n){let i;if(t.altKey)i=this["findWordBoundary".concat(n)](this[e]);else{if(!t.metaKey&&t.keyCode!==35&&t.keyCode!==36)return this[e]+=n==="Left"?-1:1,!0;i=this["findLineBoundary".concat(n)](this[e])}return i!==void 0&&this[e]!==i&&(this[e]=i,!0)}_moveLeft(t,e){return this._move(t,e,"Left")}_moveRight(t,e){return this._move(t,e,"Right")}moveCursorLeftWithoutShift(t){let e=!0;return this._selectionDirection=en,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e}moveCursorLeftWithShift(t){return this._selectionDirection===zn&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=en,this._moveLeft(t,"selectionStart")):void 0}moveCursorRight(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)}_moveCursorLeftOrRight(t,e){const n="moveCursor".concat(t).concat(e.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[n](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(t){return this._selectionDirection===en&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=zn,this._moveRight(t,"selectionEnd")):void 0}moveCursorRightWithoutShift(t){let e=!0;return this._selectionDirection=zn,this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e}}const Zd=a=>!!a.button;class ny extends ey{constructor(){super(...arguments),lt(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new Zv(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(t){return this.draggableTextDelegate.onDragStart(t)}canDrop(t){return this.draggableTextDelegate.canDrop(t)}onMouseDown(t){if(!this.canvas)return;this.__newClickTime=+new Date;const e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),mp(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y}doubleClickHandler(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))}tripleClickHandler(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))}_mouseDownHandler(t){let{e}=t;this.canvas&&this.editable&&!Zd(e)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(e)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(t){let{e}=t;this.canvas&&this.editable&&!Zd(e)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(t){let{e,transform:n}=t;const i=this.draggableTextDelegate.end(e);if(this.canvas){this.canvas.textEditingManager.unregister(this);const s=this.canvas._activeObject;if(s&&s!==this)return}!this.editable||this.group&&!this.group.interactive||n&&n.actionPerformed||Zd(e)||i||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(t){const e=this.getSelectionStartFromPointer(t),n=this.selectionStart,i=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(n,i,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(t){const e=this.canvas.getScenePoint(t).transform(Hs(this.calcTransformMatrix())).add(new Et(-this._getLeftOffset(),-this._getTopOffset()));let n=0,i=0,s=0;for(let p=0;p<this._textLines.length&&n<=e.y;p++)n+=this.getHeightOfLine(p),s=p,p>0&&(i+=this._textLines[p-1].length+this.missingNewlineOffset(p-1));let l=Math.abs(this._getLineLeftOffset(s));const c=this._textLines[s].length,h=this.__charBounds[s];for(let p=0;p<c;p++){const m=l+h[p].kernedWidth;if(e.x<=m){Math.abs(e.x-m)<=Math.abs(e.x-l)&&i++;break}l=m,i++}return Math.min(this.flipX?c-i:i,this._text.length)}}const Yh="moveCursorUp",Xh="moveCursorDown",Gh="moveCursorLeft",$h="moveCursorRight",Kh="exitEditing",ry=ht({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:Kh,27:Kh,33:Yh,34:Xh,35:$h,36:Gh,37:Gh,38:Yh,39:$h,40:Xh},keysMapRtl:{9:Kh,27:Kh,33:Yh,34:Xh,35:Gh,36:$h,37:$h,38:Yh,39:Gh,40:Xh},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class ga extends ny{static getDefaults(){return ht(ht({},super.getDefaults()),ga.ownDefaults)}get type(){const t=super.type;return t==="itext"?"i-text":t}constructor(t,e){super(t,ht(ht({},ga.ownDefaults),e)),this.initBehavior()}_set(t,e){return this.isEditing&&this._savedProps&&t in this._savedProps?(this._savedProps[t]=e,this):(t==="canvas"&&(this.canvas instanceof If&&this.canvas.textEditingManager.remove(this),e instanceof If&&e.textEditingManager.add(this)),super._set(t,e))}setSelectionStart(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)}setSelectionEnd(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)}_updateAndFire(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,n=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(t,e,n)}setSelectionStyles(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(t,e,n)}get2DCursorLocation(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(t,e)}render(t){super.render(t),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(t){const e=this.isEditing;this.isEditing=!1;const n=super.toCanvasElement(t);return this.isEditing=e,n}renderCursorOrSelection(){if(!this.isEditing)return;const t=this.clearContextTop(!0);if(!t)return;const e=this._getCursorBoundaries();this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(t,e):this.renderCursor(t,e),this.canvas.contextTopDirty=!0,t.restore()}_getCursorBoundaries(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;const n=this._getLeftOffset(),i=this._getTopOffset(),s=this._getCursorBoundariesOffsets(t,e);return{left:n,top:i,leftOffset:s.left,topOffset:s.top}}_getCursorBoundariesOffsets(t,e){return e?this.__getCursorBoundariesOffsets(t):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(t)}__getCursorBoundariesOffsets(t){let e=0,n=0;const{charIndex:i,lineIndex:s}=this.get2DCursorLocation(t);for(let p=0;p<s;p++)e+=this.getHeightOfLine(p);const l=this._getLineLeftOffset(s),c=this.__charBounds[s][i];c&&(n=c.left),this.charSpacing!==0&&i===this._textLines[s].length&&(n-=this._getWidthOfCharSpacing());const h={top:e,left:l+(n>0?n:0)};return this.direction==="rtl"&&(this.textAlign===zn||this.textAlign===So||this.textAlign===Gu?h.left*=-1:this.textAlign===en||this.textAlign===Rf?h.left=l-(n>0?n:0):this.textAlign!==De&&this.textAlign!==$u||(h.left=l-(n>0?n:0))),h}renderCursorAt(t){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(t,!0),t)}renderCursor(t,e){this._renderCursor(t,e,this.selectionStart)}getCursorRenderingData(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(t);const n=this.get2DCursorLocation(t),i=n.lineIndex,s=n.charIndex>0?n.charIndex-1:0,l=this.getValueOfPropertyAt(i,s,"fontSize"),c=this.getObjectScaling().x*this.canvas.getZoom(),h=this.cursorWidth/c,p=this.getValueOfPropertyAt(i,s,"deltaY"),m=e.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-l*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(i,s,"fill"),opacity:this._currentCursorOpacity,left:e.left+e.leftOffset-h/2,top:m+e.top+p,width:h,height:l}}_renderCursor(t,e,n){const{color:i,opacity:s,left:l,top:c,width:h,height:p}=this.getCursorRenderingData(n,e);t.fillStyle=i,t.globalAlpha=s,t.fillRect(l,c,h,p)}renderSelection(t,e){const n={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(t,n,e)}renderDragSourceEffect(){const t=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,t,this._getCursorBoundaries(t.selectionStart,!0))}renderDropTargetEffect(t){const e=this.getSelectionStartFromPointer(t);this.renderCursorAt(e)}_renderSelection(t,e,n){const i=e.selectionStart,s=e.selectionEnd,l=this.textAlign.includes(So),c=this.get2DCursorLocation(i),h=this.get2DCursorLocation(s),p=c.lineIndex,m=h.lineIndex,w=c.charIndex<0?0:c.charIndex,b=h.charIndex<0?0:h.charIndex;for(let y=p;y<=m;y++){const A=this._getLineLeftOffset(y)||0;let k=this.getHeightOfLine(y),O=0,T=0,F=0;if(y===p&&(T=this.__charBounds[p][w].left),y>=p&&y<m)F=l&&!this.isEndOfWrapping(y)?this.width:this.getLineWidth(y)||5;else if(y===m)if(b===0)F=this.__charBounds[m][b].left;else{const tt=this._getWidthOfCharSpacing();F=this.__charBounds[m][b-1].left+this.__charBounds[m][b-1].width-tt}O=k,(this.lineHeight<1||y===m&&this.lineHeight>1)&&(k/=this.lineHeight);let Y=n.left+A+T,st=k,Z=0;const mt=F-T;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",st=1,Z=k):t.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===zn||this.textAlign===So||this.textAlign===Gu?Y=this.width-Y-mt:this.textAlign===en||this.textAlign===Rf?Y=n.left+A-F:this.textAlign!==De&&this.textAlign!==$u||(Y=n.left+A-F)),t.fillRect(Y,n.top+n.topOffset+Z,mt,st),n.topOffset+=O}}getCurrentCharFontSize(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")}getCurrentCharColor(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,er)}_getCurrentCharIndex(){const t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}lt(ga,"ownDefaults",ry),lt(ga,"type","IText"),ne.setClass(ga),ne.setClass(ga,"i-text");class ma extends ga{static getDefaults(){return ht(ht({},super.getDefaults()),ma.ownDefaults)}constructor(t,e){super(t,ht(ht({},ma.ownDefaults),e))}static createControls(){return{controls:D5()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(So)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(t){let e=0,n=0,i=0;const s={};for(let l=0;l<t.graphemeLines.length;l++)t.graphemeText[i]===`
`&&l>0?(n=0,i++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[i])&&l>0&&(n++,i++),s[l]={line:e,offset:n},i+=t.graphemeLines[l].length,n+=t.graphemeLines[l].length;return s}styleHas(t,e){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[e];n&&(e=n.line)}return super.styleHas(t,e)}isEmptyStyles(t){if(!this.styles)return!0;let e,n=0,i=t+1,s=!1;const l=this._styleMap[t],c=this._styleMap[t+1];l&&(t=l.line,n=l.offset),c&&(i=c.line,s=i===t,e=c.offset);const h=t===void 0?this.styles:{line:this.styles[t]};for(const p in h)for(const m in h[p]){const w=parseInt(m,10);if(w>=n&&(!s||w<e))for(const b in h[p][m])return!1}return!0}_getStyleDeclaration(t,e){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[t];if(!n)return{};t=n.line,e=n.offset+e}return super._getStyleDeclaration(t,e)}_setStyleDeclaration(t,e,n){const i=this._styleMap[t];super._setStyleDeclaration(i.line,i.offset+e,n)}_deleteStyleDeclaration(t,e){const n=this._styleMap[t];super._deleteStyleDeclaration(n.line,n.offset+e)}_getLineStyle(t){const e=this._styleMap[t];return!!this.styles[e.line]}_setLineStyle(t){const e=this._styleMap[t];super._setLineStyle(e.line)}_wrapText(t,e){this.isWrapping=!0;const n=this.getGraphemeDataForRender(t),i=[];for(let s=0;s<n.wordsData.length;s++)i.push(...this._wrapLine(s,e,n));return this.isWrapping=!1,i}getGraphemeDataForRender(t){const e=this.splitByGrapheme,n=e?"":" ";let i=0;return{wordsData:t.map((s,l)=>{let c=0;const h=e?this.graphemeSplit(s):this.wordSplit(s);return h.length===0?[{word:[],width:0}]:h.map(p=>{const m=e?[p]:this.graphemeSplit(p),w=this._measureWord(m,l,c);return i=Math.max(w,i),c+=m.length+n.length,{word:m,width:w}})}),largestWordWidth:i}}_measureWord(t,e){let n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=0;for(let l=0,c=t.length;l<c;l++)s+=this._getGraphemeBox(t[l],e,l+i,n,!0).kernedWidth,n=t[l];return s}wordSplit(t){return t.split(this._wordJoiners)}_wrapLine(t,e,n){let{largestWordWidth:i,wordsData:s}=n,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const c=this._getWidthOfCharSpacing(),h=this.splitByGrapheme,p=[],m=h?"":" ";let w=0,b=[],y=0,A=0,k=!0;e-=l;const O=Math.max(e,i,this.dynamicMinWidth),T=s[t];let F;for(y=0,F=0;F<T.length;F++){const{word:Y,width:st}=T[F];y+=Y.length,w+=A+st-c,w>O&&!k?(p.push(b),b=[],w=st,k=!0):w+=c,k||h||b.push(m),b=b.concat(Y),A=h?0:this._measureWord([m],t,y),y++,k=!1}return F&&p.push(b),i+l>this.dynamicMinWidth&&(this.dynamicMinWidth=i-c+l),p}isEndOfWrapping(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line}missingNewlineOffset(t,e){return this.splitByGrapheme&&!e?this.isEndOfWrapping(t)?1:0:1}_splitTextIntoLines(t){const e=super._splitTextIntoLines(t),n=this._wrapText(e.lines,this.width),i=new Array(n.length);for(let s=0;s<n.length;s++)i[s]=n[s].join("");return e.lines=i,e.graphemeLines=n,e}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const t=new Map;for(const e in this._styleMap){const n=parseInt(e,10);if(this._textLines[n]){const i=this._styleMap[e].line;t.set("".concat(i),!0)}}for(const e in this.styles)t.has(e)||delete this.styles[e]}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...t])}}lt(ma,"type","Textbox"),lt(ma,"textLayoutProperties",[...ga.textLayoutProperties,"width"]),lt(ma,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),ne.setClass(ma);class J0 extends Gf{shouldPerformLayout(t){return!!t.target.clipPath&&super.shouldPerformLayout(t)}shouldLayoutClipPath(){return!1}calcLayoutResult(t,e){const{target:n}=t,{clipPath:i,group:s}=n;if(!i||!this.shouldPerformLayout(t))return;const{width:l,height:c}=va(t2(n,i)),h=new Et(l,c);if(i.absolutePositioned)return{center:ou(i.getRelativeCenterPoint(),void 0,s?s.calcTransformMatrix():void 0),size:h};{const p=i.getRelativeCenterPoint().transform(n.calcOwnMatrix(),!0);if(this.shouldPerformLayout(t)){const{center:m=new Et,correction:w=new Et}=this.calcBoundingBox(e,t)||{};return{center:m.add(p),correction:w.subtract(p),size:h}}return{center:n.getRelativeCenterPoint().add(p),size:h}}}}lt(J0,"type","clip-path"),ne.setClass(J0);class Q0 extends Gf{getInitialSize(t,e){let{target:n}=t,{size:i}=e;return new Et(n.width||i.x,n.height||i.y)}}lt(Q0,"type","fixed"),ne.setClass(Q0);class iy extends eh{subscribeTargets(t){const e=t.target;t.targets.reduce((n,i)=>(i.parent&&n.add(i.parent),n),new Set).forEach(n=>{n.layoutManager.subscribeTargets({target:n,targets:[e]})})}unsubscribeTargets(t){const e=t.target,n=e.getObjects();t.targets.reduce((i,s)=>(s.parent&&i.add(s.parent),i),new Set).forEach(i=>{!n.some(s=>s.parent===i)&&i.layoutManager.unsubscribeTargets({target:i,targets:[e]})})}}class dc extends pc{static getDefaults(){return ht(ht({},super.getDefaults()),dc.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,dc.ownDefaults),this.setOptions(e);const{left:n,top:i,layoutManager:s}=e;this.groupInit(t,{left:n,top:i,layoutManager:s??new iy})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.multiSelectionStacking==="selection-order"?this.add(...e):e.forEach(i=>{const s=this._objects.findIndex(c=>c.isInFrontOf(i)),l=s===-1?this.size():s;this.insertAt(l,i)})}canEnterGroup(t){return this.getObjects().some(e=>e.isDescendantOf(t)||t.isDescendantOf(e))?(xl("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(t)}enterGroup(t,e){t.parent&&t.parent===t.group?t.parent._exitGroup(t):t.group&&t.parent!==t.group&&t.group.remove(t),this._enterGroup(t,e)}exitGroup(t,e){this._exitGroup(t,e),t.parent&&t.parent._enterGroup(t,!0)}_onAfterObjectsChange(t,e){super._onAfterObjectsChange(t,e);const n=new Set;e.forEach(i=>{const{parent:s}=i;s&&n.add(s)}),t===rg?n.forEach(i=>{i._onAfterObjectsChange(Mf,e)}):n.forEach(i=>{i._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(t,e,n){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const i=ht(ht({hasControls:!1},n),{},{forActiveSelection:!0});for(let s=0;s<this._objects.length;s++)this._objects[s]._renderControls(t,i);super._renderControls(t,e),t.restore()}}lt(dc,"type","ActiveSelection"),lt(dc,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),ne.setClass(dc),ne.setClass(dc,"activeSelection");class sy{constructor(){lt(this,"resources",{})}applyFilters(t,e,n,i,s){const l=s.getContext("2d");if(!l)return;l.drawImage(e,0,0,n,i);const c={sourceWidth:n,sourceHeight:i,imageData:l.getImageData(0,0,n,i),originalEl:e,originalImageData:l.getImageData(0,0,n,i),canvasEl:s,ctx:l,filterBackend:this};t.forEach(p=>{p.applyTo(c)});const{imageData:h}=c;return h.width===n&&h.height===i||(s.width=h.width,s.height=h.height),l.putImageData(h,0,0),c}}class x2{constructor(){let{tileSize:t=Xe.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};lt(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),lt(this,"resources",{}),this.tileSize=t,this.setupGLContext(t,t),this.captureGPUInfo()}setupGLContext(t,e){this.dispose(),this.createWebGLCanvas(t,e)}createWebGLCanvas(t,e){const n=To({width:t,height:e}),i=n.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});i&&(i.clearColor(0,0,0,0),this.canvas=n,this.gl=i)}applyFilters(t,e,n,i,s,l){const c=this.gl,h=s.getContext("2d");if(!c||!h)return;let p;l&&(p=this.getCachedTexture(l,e));const m={originalWidth:e.width||e.naturalWidth||0,originalHeight:e.height||e.naturalHeight||0,sourceWidth:n,sourceHeight:i,destinationWidth:n,destinationHeight:i,context:c,sourceTexture:this.createTexture(c,n,i,p?void 0:e),targetTexture:this.createTexture(c,n,i),originalTexture:p||this.createTexture(c,n,i,p?void 0:e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},w=c.createFramebuffer();return c.bindFramebuffer(c.FRAMEBUFFER,w),t.forEach(b=>{b&&b.applyTo(m)}),function(b){const y=b.targetCanvas,A=y.width,k=y.height,O=b.destinationWidth,T=b.destinationHeight;A===O&&k===T||(y.width=O,y.height=T)}(m),this.copyGLTo2D(c,m),c.bindTexture(c.TEXTURE_2D,null),c.deleteTexture(m.sourceTexture),c.deleteTexture(m.targetTexture),c.deleteFramebuffer(w),h.setTransform(1,0,0,1,0,0),m}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(t,e,n,i,s){const{NEAREST:l,TEXTURE_2D:c,RGBA:h,UNSIGNED_BYTE:p,CLAMP_TO_EDGE:m,TEXTURE_MAG_FILTER:w,TEXTURE_MIN_FILTER:b,TEXTURE_WRAP_S:y,TEXTURE_WRAP_T:A}=t,k=t.createTexture();return t.bindTexture(c,k),t.texParameteri(c,w,s||l),t.texParameteri(c,b,s||l),t.texParameteri(c,y,m),t.texParameteri(c,A,m),i?t.texImage2D(c,0,h,h,p,i):t.texImage2D(c,0,h,e,n,0,h,p,null),k}getCachedTexture(t,e,n){const{textureCache:i}=this;if(i[t])return i[t];{const s=this.createTexture(this.gl,e.width,e.height,e,n);return s&&(i[t]=s),s}}evictCachesForKey(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])}copyGLTo2D(t,e){const n=t.canvas,i=e.targetCanvas,s=i.getContext("2d");if(!s)return;s.translate(0,i.height),s.scale(1,-1);const l=n.height-i.height;s.drawImage(n,0,l,i.width,i.height,0,0,i.width,i.height)}copyGLTo2DPutImageData(t,e){const n=e.targetCanvas.getContext("2d"),i=e.destinationWidth,s=e.destinationHeight,l=i*s*4;if(!n)return;const c=new Uint8Array(this.imageBuffer,0,l),h=new Uint8ClampedArray(this.imageBuffer,0,l);t.readPixels(0,0,i,s,t.RGBA,t.UNSIGNED_BYTE,c);const p=new ImageData(h,i,s);n.putImageData(p,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const t=this.gl,e={renderer:"",vendor:""};if(!t)return e;const n=t.getExtension("WEBGL_debug_renderer_info");if(n){const i=t.getParameter(n.UNMASKED_RENDERER_WEBGL),s=t.getParameter(n.UNMASKED_VENDOR_WEBGL);i&&(e.renderer=i.toLowerCase()),s&&(e.vendor=s.toLowerCase())}return this.gpuInfo=e,e}}let tp;function oy(){const{WebGLProbe:a}=Ao();return a.queryWebGL(Xs()),Xe.enableGLFiltering&&a.isSupported(Xe.textureSize)?new x2({tileSize:Xe.textureSize}):new sy}function ep(){return!tp&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(tp=oy()),tp}const ay=["filters","resizeFilter","src","crossOrigin","type"],_2=["cropX","cropY"];class ki extends Kr{static getDefaults(){return ht(ht({},super.getDefaults()),ki.ownDefaults)}constructor(t,e){super(),lt(this,"_lastScaleX",1),lt(this,"_lastScaleY",1),lt(this,"_filterScalingX",1),lt(this,"_filterScalingY",1),this.filters=[],Object.assign(this,ki.ownDefaults),this.setOptions(e),this.cacheKey="texture".concat(_l()),this.setElement(typeof t=="string"?(this.canvas&&Vs(this.canvas.getElement())||du()).getElementById(t):t,e)}getElement(){return this._element}setElement(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=t,this._originalElement=t,this._setWidthHeight(e),t.classList.add(ki.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(t){const e=ep(!1);e instanceof x2&&e.evictCachesForKey(t)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(t=>{const e=this[t];e&&Ao().dispose(e),this[t]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const t=this.getElement();return t?{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}:{width:0,height:0}}_stroke(t){if(!this.stroke||this.strokeWidth===0)return;const e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,-n),t.lineTo(e,-n),t.lineTo(e,n),t.lineTo(-e,n),t.lineTo(-e,-n),t.closePath()}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];return this.filters.forEach(n=>{n&&e.push(n.toObject())}),ht(ht({},super.toObject([..._2,...t])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:e},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const t=[],e=this._element,n=-this.width/2,i=-this.height/2;let s=[],l=[],c="",h="";if(!e)return[];if(this.hasCrop()){const p=_l();s.push('<clipPath id="imageCrop_'+p+`">
`,'	<rect x="'+n+'" y="'+i+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),c=' clip-path="url(#imageCrop_'+p+')" '}if(this.imageSmoothing||(h=' image-rendering="optimizeSpeed"'),t.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(n-this.cropX,'" y="').concat(i-this.cropY,'" width="').concat(e.width||e.naturalWidth,'" height="').concat(e.height||e.naturalHeight,'"').concat(h).concat(c,`></image>
`)),this.stroke||this.strokeDashArray){const p=this.fill;this.fill=null,l=['	<rect x="'.concat(n,'" y="').concat(i,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=p}return s=this.paintFirst!==er?s.concat(l,t):s.concat(t,l),s}getSrc(t){const e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src")||"":e.src:this.src||""}getSvgSrc(t){return this.getSrc(t)}setSrc(t){let{crossOrigin:e,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return xf(t,{crossOrigin:e,signal:n}).then(i=>{e!==void 0&&this.set({crossOrigin:e}),this.setElement(i)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const t=this.resizeFilter,e=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),i=n.x,s=n.y,l=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||i>e&&s>e)return this._element=l,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=s);const c=To(l),{width:h,height:p}=l;this._element=c,this._lastScaleX=t.scaleX=i,this._lastScaleY=t.scaleY=s,ep().applyFilters([t],l,h,p,this._element),this._filterScalingX=c.width/this._originalElement.width,this._filterScalingY=c.height/this._originalElement.height}applyFilters(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(t=t.filter(s=>s&&!s.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),t.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const e=this._originalElement,n=e.naturalWidth||e.width,i=e.naturalHeight||e.height;if(this._element===this._originalElement){const s=To({width:n,height:i});this._element=s,this._filteredEl=s}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,i),this._lastScaleX=1,this._lastScaleY=1);ep().applyFilters(t,this._originalElement,n,i,this._element),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(t){t.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)}drawCacheOnCanvas(t){t.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(t)}shouldCache(){return this.needsItsOwnCache()}_renderFill(t){const e=this._element;if(!e)return;const n=this._filterScalingX,i=this._filterScalingY,s=this.width,l=this.height,c=Math.max(this.cropX,0),h=Math.max(this.cropY,0),p=e.naturalWidth||e.width,m=e.naturalHeight||e.height,w=c*n,b=h*i,y=Math.min(s*n,p-w),A=Math.min(l*i,m-b),k=-s/2,O=-l/2,T=Math.min(s,p/n-c),F=Math.min(l,m/i-h);e&&t.drawImage(e,w,b,y,A,k,O,T,F)}_needsResize(){const t=this.getTotalObjectScaling();return t.x!==this._lastScaleX||t.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:t,height:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.getOriginalSize();this.width=t||n.width,this.height=e||n.height}parsePreserveAspectRatioAttribute(){const t=Wm(this.preserveAspectRatio||""),e=this.width,n=this.height,i={width:e,height:n};let s,l=this._element.width,c=this._element.height,h=1,p=1,m=0,w=0,b=0,y=0;return!t||t.alignX===Ai&&t.alignY===Ai?(h=e/l,p=n/c):(t.meetOrSlice==="meet"&&(h=p=fv(this._element,i),s=(e-l*h)/2,t.alignX==="Min"&&(m=-s),t.alignX==="Max"&&(m=s),s=(n-c*p)/2,t.alignY==="Min"&&(w=-s),t.alignY==="Max"&&(w=s)),t.meetOrSlice==="slice"&&(h=p=dv(this._element,i),s=l-e/h,t.alignX==="Mid"&&(b=s/2),t.alignX==="Max"&&(b=s),s=c-n/p,t.alignY==="Mid"&&(y=s/2),t.alignY==="Max"&&(y=s),l=e/h,c=n/p)),{width:l,height:c,scaleX:h,scaleY:p,offsetLeft:m,offsetTop:w,cropX:b,cropY:y}}static fromObject(t,e){let{filters:n,resizeFilter:i,src:s,crossOrigin:l,type:c}=t,h=kn(t,ay);return Promise.all([xf(s,ht(ht({},e),{},{crossOrigin:l})),n&&Qu(n,e),i&&Qu([i],e),Vf(h,e)]).then(p=>{let[m,w=[],[b]=[],y={}]=p;return new this(m,ht(ht({},h),{},{src:s,filters:w,resizeFilter:b},y))})}static fromURL(t){let{crossOrigin:e=null,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return xf(t,{crossOrigin:e,signal:n}).then(s=>new this(s,i))}static async fromElement(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=ba(t,this.ATTRIBUTE_NAMES,n);return this.fromURL(i["xlink:href"],e,i).catch(s=>(xl("log","Unable to parse Image",s),null))}}lt(ki,"type","Image"),lt(ki,"cacheProperties",[..._a,..._2]),lt(ki,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),lt(ki,"CSS_CANVAS","canvas-img"),lt(ki,"ATTRIBUTE_NAMES",[...kl,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),ne.setClass(ki),ne.setSVGClass(ki);Yf(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const Kf=a=>a.webgl!==void 0,ig="precision highp float",ly=`
    `.concat(ig,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),cy=["type"],uy=["type"],hy=new RegExp(ig,"g");class nr{get type(){return this.constructor.type}constructor(){let t=kn(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},cy);Object.assign(this,this.constructor.defaults,t)}getFragmentSource(){return ly}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:i="highp"}}=Ao();i!=="highp"&&(e=e.replace(hy,ig.replace("highp",i)));const s=t.createShader(t.VERTEX_SHADER),l=t.createShader(t.FRAGMENT_SHADER),c=t.createProgram();if(!s||!l||!c)throw new Co("Vertex, fragment shader or program creation error");if(t.shaderSource(s,n),t.compileShader(s),!t.getShaderParameter(s,t.COMPILE_STATUS))throw new Co("Vertex shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(s)));if(t.shaderSource(l,e),t.compileShader(l),!t.getShaderParameter(l,t.COMPILE_STATUS))throw new Co("Fragment shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(l)));if(t.attachShader(c,s),t.attachShader(c,l),t.linkProgram(c),!t.getProgramParameter(c,t.LINK_STATUS))throw new Co('Shader link error for "'.concat(this.type,'" ').concat(t.getProgramInfoLog(c)));const h=this.getUniformLocations(t,c)||{};return h.uStepW=t.getUniformLocation(c,"uStepW"),h.uStepH=t.getUniformLocation(c,"uStepH"),{program:c,attributeLocations:this.getAttributeLocations(t,c),uniformLocations:h}}getAttributeLocations(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}}getUniformLocations(t,e){const n=this.constructor.uniformLocations,i={};for(let s=0;s<n.length;s++)i[n[s]]=t.getUniformLocation(e,n[s]);return i}sendAttributeData(t,e,n){const i=e.aPosition,s=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,s),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)}_setupFrameBuffer(t){const e=t.context;if(t.passes>1){const n=t.destinationWidth,i=t.destinationHeight;t.sourceWidth===n&&t.sourceHeight===i||(e.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(e,n,i)),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.targetTexture,0)}else e.bindFramebuffer(e.FRAMEBUFFER,null),e.finish()}_swapTextures(t){t.passes--,t.pass++;const e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e}isNeutralState(t){return!1}applyTo(t){Kf(t)?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){}getCacheKey(){return this.type}retrieveShader(t){const e=this.getCacheKey();return t.programCache[e]||(t.programCache[e]=this.createProgram(t.context)),t.programCache[e]}applyToWebGL(t){const e=t.context,n=this.retrieveShader(t);t.pass===0&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(n.program),this.sendAttributeData(e,n.attributeLocations,t.aPosition),e.uniform1f(n.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(n.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,n.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(t,e,n){t.activeTexture(n),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)}unbindAdditionalTexture(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)}sendUniformData(t,e){}createHelpLayer(t){if(!t.helpLayer){const{sourceWidth:e,sourceHeight:n}=t,i=To({width:e,height:n});t.helpLayer=i}}toObject(){const t=Object.keys(this.constructor.defaults||{});return ht({type:this.type},t.reduce((e,n)=>(e[n]=this[n],e),{}))}toJSON(){return this.toObject()}static async fromObject(t,e){return new this(kn(t,uy))}}lt(nr,"type","BaseFilter"),lt(nr,"uniformLocations",[]);const fy={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class Jh extends nr{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(fy[this.mode],`
        }
      }
      `)}applyTo2d(t){let{imageData:{data:e}}=t;const n=new Gi(this.color).getSource(),i=this.alpha,s=n[0]*i,l=n[1]*i,c=n[2]*i,h=1-i;for(let p=0;p<e.length;p+=4){const m=e[p],w=e[p+1],b=e[p+2];let y,A,k;switch(this.mode){case"multiply":y=m*s/255,A=w*l/255,k=b*c/255;break;case"screen":y=255-(255-m)*(255-s)/255,A=255-(255-w)*(255-l)/255,k=255-(255-b)*(255-c)/255;break;case"add":y=m+s,A=w+l,k=b+c;break;case"difference":y=Math.abs(m-s),A=Math.abs(w-l),k=Math.abs(b-c);break;case"subtract":y=m-s,A=w-l,k=b-c;break;case"darken":y=Math.min(m,s),A=Math.min(w,l),k=Math.min(b,c);break;case"lighten":y=Math.max(m,s),A=Math.max(w,l),k=Math.max(b,c);break;case"overlay":y=s<128?2*m*s/255:255-2*(255-m)*(255-s)/255,A=l<128?2*w*l/255:255-2*(255-w)*(255-l)/255,k=c<128?2*b*c/255:255-2*(255-b)*(255-c)/255;break;case"exclusion":y=s+m-2*s*m/255,A=l+w-2*l*w/255,k=c+b-2*c*b/255;break;case"tint":y=s+m*h,A=l+w*h,k=c+b*h}e[p]=y,e[p+1]=A,e[p+2]=k}}sendUniformData(t,e){const n=new Gi(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,t.uniform4fv(e.uColor,n)}}lt(Jh,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),lt(Jh,"type","BlendColor"),lt(Jh,"uniformLocations",["uColor"]),ne.setClass(Jh);const dy={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},py=["type","image"];class Qh extends nr{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return dy[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(t){const e=t.context,n=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,n,e.TEXTURE1),super.applyToWebGL(t),this.unbindAdditionalTexture(e,e.TEXTURE1)}createTexture(t,e){return t.getCachedTexture(e.cacheKey,e.getElement())}calculateMatrix(){const t=this.image,{width:e,height:n}=t.getElement();return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/n,1]}applyTo2d(t){let{imageData:{data:e,width:n,height:i},filterBackend:{resources:s}}=t;const l=this.image;s.blendImage||(s.blendImage=Xs());const c=s.blendImage,h=c.getContext("2d");c.width!==n||c.height!==i?(c.width=n,c.height=i):h.clearRect(0,0,n,i),h.setTransform(l.scaleX,0,0,l.scaleY,l.left,l.top),h.drawImage(l.getElement(),0,0,n,i);const p=h.getImageData(0,0,n,i).data;for(let m=0;m<e.length;m+=4){const w=e[m],b=e[m+1],y=e[m+2],A=e[m+3],k=p[m],O=p[m+1],T=p[m+2],F=p[m+3];switch(this.mode){case"multiply":e[m]=w*k/255,e[m+1]=b*O/255,e[m+2]=y*T/255,e[m+3]=A*F/255;break;case"mask":e[m+3]=F}}}sendUniformData(t,e){const n=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,n)}toObject(){return ht(ht({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(t,e){let{type:n,image:i}=t,s=kn(t,py);return ki.fromObject(i,e).then(l=>new this(ht(ht({},s),{},{image:l})))}}lt(Qh,"type","BlendImage"),lt(Qh,"defaults",{mode:"multiply",alpha:1}),lt(Qh,"uniformLocations",["uTransformMatrix","uImage"]),ne.setClass(Qh);class Zh extends nr{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(t){Kf(t)?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){t.imageData=this.simpleBlur(t)}simpleBlur(t){let{ctx:e,imageData:n,filterBackend:{resources:i}}=t;const{width:s,height:l}=n;i.blurLayer1||(i.blurLayer1=Xs(),i.blurLayer2=Xs());const c=i.blurLayer1,h=i.blurLayer2;c.width===s&&c.height===l||(h.width=c.width=s,h.height=c.height=l);const p=c.getContext("2d"),m=h.getContext("2d"),w=15,b=.06*this.blur*.5;let y,A,k,O;for(p.putImageData(n,0,0),m.clearRect(0,0,s,l),O=-15;O<=w;O++)y=(Math.random()-.5)/4,A=O/w,k=b*A*s+y,m.globalAlpha=1-Math.abs(A),m.drawImage(c,k,y),p.drawImage(h,0,0),m.globalAlpha=1,m.clearRect(0,0,h.width,h.height);for(O=-15;O<=w;O++)y=(Math.random()-.5)/4,A=O/w,k=b*A*l+y,m.globalAlpha=1-Math.abs(A),m.drawImage(c,y,k),p.drawImage(h,0,0),m.globalAlpha=1,m.clearRect(0,0,h.width,h.height);e.drawImage(c,0,0);const T=e.getImageData(0,0,c.width,c.height);return p.globalAlpha=1,p.clearRect(0,0,c.width,c.height),T}sendUniformData(t,e){const n=this.chooseRightDelta();t.uniform2fv(e.uDelta,n)}isNeutralState(){return this.blur===0}chooseRightDelta(){let t=1;const e=[0,0];this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio);const n=t*this.blur*.12;return this.horizontal?e[0]=n:e[1]=n,e}}lt(Zh,"type","Blur"),lt(Zh,"defaults",{blur:0}),lt(Zh,"uniformLocations",["uDelta"]),ne.setClass(Zh);class tf extends nr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const n=Math.round(255*this.brightness);for(let i=0;i<e.length;i+=4)e[i]+=n,e[i+1]+=n,e[i+2]+=n}isNeutralState(){return this.brightness===0}sendUniformData(t,e){t.uniform1f(e.uBrightness,this.brightness)}}lt(tf,"type","Brightness"),lt(tf,"defaults",{brightness:0}),lt(tf,"uniformLocations",["uBrightness"]),ne.setClass(tf);const b2={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class ru extends nr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(t){const e=t.imageData.data,n=this.matrix,i=this.colorsOnly;for(let s=0;s<e.length;s+=4){const l=e[s],c=e[s+1],h=e[s+2];if(e[s]=l*n[0]+c*n[1]+h*n[2]+255*n[4],e[s+1]=l*n[5]+c*n[6]+h*n[7]+255*n[9],e[s+2]=l*n[10]+c*n[11]+h*n[12]+255*n[14],!i){const p=e[s+3];e[s]+=p*n[3],e[s+1]+=p*n[8],e[s+2]+=p*n[13],e[s+3]=l*n[15]+c*n[16]+h*n[17]+p*n[18]+255*n[19]}}}sendUniformData(t,e){const n=this.matrix,i=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],s=[n[4],n[9],n[14],n[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,i),t.uniform4fv(e.uConstants,s)}toObject(){return ht(ht({},super.toObject()),{},{matrix:[...this.matrix]})}}function yc(a,t){var e;const n=(lt(e=class extends ru{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",a),lt(e,"defaults",{colorsOnly:!1,matrix:t}),e);return ne.setClass(n,a),n}lt(ru,"type","ColorMatrix"),lt(ru,"defaults",b2),lt(ru,"uniformLocations",["uColorMatrix","uConstants"]),ne.setClass(ru);yc("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);yc("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);yc("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);yc("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);yc("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);yc("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);yc("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class Z0 extends nr{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.subFilters=t.subFilters||[]}applyTo(t){Kf(t)&&(t.passes+=this.subFilters.length-1),this.subFilters.forEach(e=>{e.applyTo(t)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(t=>t.toObject())}}isNeutralState(){return!this.subFilters.some(t=>!t.isNeutralState())}static fromObject(t,e){return Promise.all((t.subFilters||[]).map(n=>ne.getClass(n.type).fromObject(n,e))).then(n=>new this({subFilters:n}))}}lt(Z0,"type","Composed"),ne.setClass(Z0);class ef extends nr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(t){let{imageData:{data:e}}=t;const n=Math.floor(255*this.contrast),i=259*(n+255)/(255*(259-n));for(let s=0;s<e.length;s+=4)e[s]=i*(e[s]-128)+128,e[s+1]=i*(e[s+1]-128)+128,e[s+2]=i*(e[s+2]-128)+128}sendUniformData(t,e){t.uniform1f(e.uContrast,this.contrast)}}lt(ef,"type","Contrast"),lt(ef,"defaults",{contrast:0}),lt(ef,"uniformLocations",["uContrast"]),ne.setClass(ef);const gy={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class nf extends nr{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return gy[this.getCacheKey()]}applyTo2d(t){const e=t.imageData,n=e.data,i=this.matrix,s=Math.round(Math.sqrt(i.length)),l=Math.floor(s/2),c=e.width,h=e.height,p=t.ctx.createImageData(c,h),m=p.data,w=this.opaque?1:0;let b,y,A,k,O,T,F,Y,st,Z,mt,tt,q;for(mt=0;mt<h;mt++)for(Z=0;Z<c;Z++){for(O=4*(mt*c+Z),b=0,y=0,A=0,k=0,q=0;q<s;q++)for(tt=0;tt<s;tt++)F=mt+q-l,T=Z+tt-l,F<0||F>=h||T<0||T>=c||(Y=4*(F*c+T),st=i[q*s+tt],b+=n[Y]*st,y+=n[Y+1]*st,A+=n[Y+2]*st,w||(k+=n[Y+3]*st));m[O]=b,m[O+1]=y,m[O+2]=A,m[O+3]=w?n[O+3]:k}t.imageData=p}sendUniformData(t,e){t.uniform1fv(e.uMatrix,this.matrix)}toObject(){return ht(ht({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}lt(nf,"type","Convolute"),lt(nf,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),lt(nf,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),ne.setClass(nf);const S2="Gamma";class rf extends nr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.gamma=t.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(t){let{imageData:{data:e}}=t;const n=this.gamma,i=1/n[0],s=1/n[1],l=1/n[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const c=this.rgbValues;for(let h=0;h<256;h++)c.r[h]=255*Math.pow(h/255,i),c.g[h]=255*Math.pow(h/255,s),c.b[h]=255*Math.pow(h/255,l);for(let h=0;h<e.length;h+=4)e[h]=c.r[e[h]],e[h+1]=c.g[e[h+1]],e[h+2]=c.b[e[h+2]]}sendUniformData(t,e){t.uniform3fv(e.uGamma,this.gamma)}isNeutralState(){const{gamma:t}=this;return t[0]===1&&t[1]===1&&t[2]===1}toObject(){return{type:S2,gamma:this.gamma.concat()}}}lt(rf,"type",S2),lt(rf,"defaults",{gamma:[1,1,1]}),lt(rf,"uniformLocations",["uGamma"]),ne.setClass(rf);const my={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class sf extends nr{applyTo2d(t){let{imageData:{data:e}}=t;for(let n,i=0;i<e.length;i+=4){const s=e[i],l=e[i+1],c=e[i+2];switch(this.mode){case"average":n=(s+l+c)/3;break;case"lightness":n=(Math.min(s,l,c)+Math.max(s,l,c))/2;break;case"luminosity":n=.21*s+.72*l+.07*c}e[i+2]=e[i+1]=e[i]=n}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return my[this.mode]}sendUniformData(t,e){t.uniform1i(e.uMode,1)}isNeutralState(){return!1}}lt(sf,"type","Grayscale"),lt(sf,"defaults",{mode:"average"}),lt(sf,"uniformLocations",["uMode"]),ne.setClass(sf);const vy=ht(ht({},b2),{},{rotation:0});class np extends ru{calculateMatrix(){const t=this.rotation*Math.PI,e=wa(t),n=xa(t),i=1/3,s=Math.sqrt(i)*n,l=1-e;this.matrix=[e+l/3,i*l-s,i*l+s,0,0,i*l+s,e+i*l,i*l-s,0,0,i*l-s,i*l+s,e+i*l,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(t){this.calculateMatrix(),super.applyTo(t)}toObject(){return{type:this.type,rotation:this.rotation}}}lt(np,"type","HueRotation"),lt(np,"defaults",vy),ne.setClass(np);class of extends nr{applyTo2d(t){let{imageData:{data:e}}=t;for(let n=0;n<e.length;n+=4)e[n]=255-e[n],e[n+1]=255-e[n+1],e[n+2]=255-e[n+2],this.alpha&&(e[n+3]=255-e[n+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(t,e){t.uniform1i(e.uInvert,Number(this.invert)),t.uniform1i(e.uAlpha,Number(this.alpha))}}lt(of,"type","Invert"),lt(of,"defaults",{alpha:!1,invert:!0}),lt(of,"uniformLocations",["uInvert","uAlpha"]),ne.setClass(of);class af extends nr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const n=this.noise;for(let i=0;i<e.length;i+=4){const s=(.5-Math.random())*n;e[i]+=s,e[i+1]+=s,e[i+2]+=s}}sendUniformData(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())}isNeutralState(){return this.noise===0}}lt(af,"type","Noise"),lt(af,"defaults",{noise:0}),lt(af,"uniformLocations",["uNoise","uSeed"]),ne.setClass(af);class lf extends nr{applyTo2d(t){let{imageData:{data:e,width:n,height:i}}=t;for(let s=0;s<i;s+=this.blocksize)for(let l=0;l<n;l+=this.blocksize){const c=4*s*n+4*l,h=e[c],p=e[c+1],m=e[c+2],w=e[c+3];for(let b=s;b<Math.min(s+this.blocksize,i);b++)for(let y=l;y<Math.min(l+this.blocksize,n);y++){const A=4*b*n+4*y;e[A]=h,e[A+1]=p,e[A+2]=m,e[A+3]=w}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}lt(lf,"type","Pixelate"),lt(lf,"defaults",{blocksize:4}),lt(lf,"uniformLocations",["uBlocksize"]),ne.setClass(lf);class cf extends nr{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(t){let{imageData:{data:e}}=t;const n=255*this.distance,i=new Gi(this.color).getSource(),s=[i[0]-n,i[1]-n,i[2]-n],l=[i[0]+n,i[1]+n,i[2]+n];for(let c=0;c<e.length;c+=4){const h=e[c],p=e[c+1],m=e[c+2];h>s[0]&&p>s[1]&&m>s[2]&&h<l[0]&&p<l[1]&&m<l[2]&&(e[c+3]=0)}}sendUniformData(t,e){const n=new Gi(this.color).getSource(),i=this.distance,s=[0+n[0]/255-i,0+n[1]/255-i,0+n[2]/255-i,1],l=[n[0]/255+i,n[1]/255+i,n[2]/255+i,1];t.uniform4fv(e.uLow,s),t.uniform4fv(e.uHigh,l)}}lt(cf,"type","RemoveColor"),lt(cf,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),lt(cf,"uniformLocations",["uLow","uHigh"]),ne.setClass(cf);class uf extends nr{sendUniformData(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)}getFilterWindow(){const t=this.tempScale;return Math.ceil(this.lanczosLobes/t)}getCacheKey(){const t=this.getFilterWindow();return"".concat(this.type,"_").concat(t)}getFragmentSource(){const t=this.getFilterWindow();return this.generateShader(t)}getTaps(){const t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,n=this.getFilterWindow(),i=new Array(n);for(let s=1;s<=n;s++)i[s-1]=t(s*e);return i}generateShader(t){const e=new Array(t);for(let n=1;n<=t;n++)e[n-1]="".concat(n,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(t,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(e.map((n,i)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(n,") * uTaps[").concat(i,"] + texture2D(uTexture, vTexCoord - ").concat(n,") * uTaps[").concat(i,`];
              sum += 2.0 * uTaps[`).concat(i,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(t){t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,super.applyTo(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,super.applyTo(t),t.sourceHeight=t.destinationHeight}applyTo(t){Kf(t)?this.applyToForWebgl(t):this.applyTo2d(t)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(t){return e=>{if(e>=t||e<=-t)return 0;if(e<11920929e-14&&e>-11920929e-14)return 1;const n=(e*=Math.PI)/t;return Math.sin(e)/e*Math.sin(n)/n}}applyTo2d(t){const e=t.imageData,n=this.scaleX,i=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/i;const s=e.width,l=e.height,c=Math.round(s*n),h=Math.round(l*i);let p;p=this.resizeType==="sliceHack"?this.sliceByTwo(t,s,l,c,h):this.resizeType==="hermite"?this.hermiteFastResize(t,s,l,c,h):this.resizeType==="bilinear"?this.bilinearFiltering(t,s,l,c,h):this.resizeType==="lanczos"?this.lanczosResize(t,s,l,c,h):new ImageData(c,h),t.imageData=p}sliceByTwo(t,e,n,i,s){const l=t.imageData,c=.5;let h=!1,p=!1,m=e*c,w=n*c;const b=t.filterBackend.resources;let y=0,A=0;const k=e;let O=0;b.sliceByTwo||(b.sliceByTwo=Xs());const T=b.sliceByTwo;(T.width<1.5*e||T.height<n)&&(T.width=1.5*e,T.height=n);const F=T.getContext("2d");for(F.clearRect(0,0,1.5*e,n),F.putImageData(l,0,0),i=Math.floor(i),s=Math.floor(s);!h||!p;)e=m,n=w,i<Math.floor(m*c)?m=Math.floor(m*c):(m=i,h=!0),s<Math.floor(w*c)?w=Math.floor(w*c):(w=s,p=!0),F.drawImage(T,y,A,e,n,k,O,m,w),y=k,A=O,O+=w;return F.getImageData(y,A,i,s)}lanczosResize(t,e,n,i,s){const l=t.imageData.data,c=t.ctx.createImageData(i,s),h=c.data,p=this.lanczosCreate(this.lanczosLobes),m=this.rcpScaleX,w=this.rcpScaleY,b=2/this.rcpScaleX,y=2/this.rcpScaleY,A=Math.ceil(m*this.lanczosLobes/2),k=Math.ceil(w*this.lanczosLobes/2),O={},T={x:0,y:0},F={x:0,y:0};return function Y(st){let Z,mt,tt,q,dt,bt,R,B,G,H,Lt;for(T.x=(st+.5)*m,F.x=Math.floor(T.x),Z=0;Z<s;Z++){for(T.y=(Z+.5)*w,F.y=Math.floor(T.y),dt=0,bt=0,R=0,B=0,G=0,mt=F.x-A;mt<=F.x+A;mt++)if(!(mt<0||mt>=e)){H=Math.floor(1e3*Math.abs(mt-T.x)),O[H]||(O[H]={});for(let wt=F.y-k;wt<=F.y+k;wt++)wt<0||wt>=n||(Lt=Math.floor(1e3*Math.abs(wt-T.y)),O[H][Lt]||(O[H][Lt]=p(Math.sqrt(Math.pow(H*b,2)+Math.pow(Lt*y,2))/1e3)),tt=O[H][Lt],tt>0&&(q=4*(wt*e+mt),dt+=tt,bt+=tt*l[q],R+=tt*l[q+1],B+=tt*l[q+2],G+=tt*l[q+3]))}q=4*(Z*i+st),h[q]=bt/dt,h[q+1]=R/dt,h[q+2]=B/dt,h[q+3]=G/dt}return++st<i?Y(st):c}(0)}bilinearFiltering(t,e,n,i,s){let l,c,h,p,m,w,b,y,A,k,O,T,F,Y=0;const st=this.rcpScaleX,Z=this.rcpScaleY,mt=4*(e-1),tt=t.imageData.data,q=t.ctx.createImageData(i,s),dt=q.data;for(b=0;b<s;b++)for(y=0;y<i;y++)for(m=Math.floor(st*y),w=Math.floor(Z*b),A=st*y-m,k=Z*b-w,F=4*(w*e+m),O=0;O<4;O++)l=tt[F+O],c=tt[F+4+O],h=tt[F+mt+O],p=tt[F+mt+4+O],T=l*(1-A)*(1-k)+c*A*(1-k)+h*k*(1-A)+p*A*k,dt[Y++]=T;return q}hermiteFastResize(t,e,n,i,s){const l=this.rcpScaleX,c=this.rcpScaleY,h=Math.ceil(l/2),p=Math.ceil(c/2),m=t.imageData.data,w=t.ctx.createImageData(i,s),b=w.data;for(let y=0;y<s;y++)for(let A=0;A<i;A++){const k=4*(A+y*i);let O=0,T=0,F=0,Y=0,st=0,Z=0,mt=0;const tt=(y+.5)*c;for(let q=Math.floor(y*c);q<(y+1)*c;q++){const dt=Math.abs(tt-(q+.5))/p,bt=(A+.5)*l,R=dt*dt;for(let B=Math.floor(A*l);B<(A+1)*l;B++){let G=Math.abs(bt-(B+.5))/h;const H=Math.sqrt(R+G*G);H>1&&H<-1||(O=2*H*H*H-3*H*H+1,O>0&&(G=4*(B+q*e),mt+=O*m[G+3],F+=O,m[G+3]<255&&(O=O*m[G+3]/250),Y+=O*m[G],st+=O*m[G+1],Z+=O*m[G+2],T+=O))}}b[k]=Y/T,b[k+1]=st/T,b[k+2]=Z/T,b[k+3]=mt/F}return w}}lt(uf,"type","Resize"),lt(uf,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),lt(uf,"uniformLocations",["uDelta","uTaps"]),ne.setClass(uf);class hf extends nr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const n=-this.saturation;for(let i=0;i<e.length;i+=4){const s=e[i],l=e[i+1],c=e[i+2],h=Math.max(s,l,c);e[i]+=h!==s?(h-s)*n:0,e[i+1]+=h!==l?(h-l)*n:0,e[i+2]+=h!==c?(h-c)*n:0}}sendUniformData(t,e){t.uniform1f(e.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}lt(hf,"type","Saturation"),lt(hf,"defaults",{saturation:0}),lt(hf,"uniformLocations",["uSaturation"]),ne.setClass(hf);class ff extends nr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const n=-this.vibrance;for(let i=0;i<e.length;i+=4){const s=e[i],l=e[i+1],c=e[i+2],h=Math.max(s,l,c),p=(s+l+c)/3,m=2*Math.abs(h-p)/255*n;e[i]+=h!==s?(h-s)*m:0,e[i+1]+=h!==l?(h-l)*m:0,e[i+2]+=h!==c?(h-c)*m:0}}sendUniformData(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}lt(ff,"type","Vibrance"),lt(ff,"defaults",{vibrance:0}),lt(ff,"uniformLocations",["uVibrance"]),ne.setClass(ff);const yy="modulepreload",wy=function(a){return"/%3CREPO%3E/"+a},t1={},kp=function(t,e,n){let i=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(e.map(h=>{if(h=wy(h),h in t1)return;t1[h]=!0;const p=h.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":yy,p||(w.as="script"),w.crossOrigin="",w.href=h,c&&w.setAttribute("nonce",c),document.head.appendChild(w),p)return new Promise((b,y)=>{w.addEventListener("load",b),w.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};function ln(a){"@babel/helpers - typeof";return ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ln(a)}var $r=Uint8Array,Xi=Uint16Array,sg=Int32Array,Jf=new $r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Qf=new $r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Lp=new $r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C2=function(a,t){for(var e=new Xi(31),n=0;n<31;++n)e[n]=t+=1<<a[n-1];for(var i=new sg(e[30]),n=1;n<30;++n)for(var s=e[n];s<e[n+1];++s)i[s]=s-e[n]<<5|n;return{b:e,r:i}},k2=C2(Jf,2),L2=k2.b,Ap=k2.r;L2[28]=258,Ap[258]=28;var A2=C2(Qf,0),xy=A2.b,e1=A2.r,Tp=new Xi(32768);for(var _n=0;_n<32768;++_n){var ml=(_n&43690)>>1|(_n&21845)<<1;ml=(ml&52428)>>2|(ml&13107)<<2,ml=(ml&61680)>>4|(ml&3855)<<4,Tp[_n]=((ml&65280)>>8|(ml&255)<<8)>>1}var Lo=function(a,t,e){for(var n=a.length,i=0,s=new Xi(t);i<n;++i)a[i]&&++s[a[i]-1];var l=new Xi(t);for(i=1;i<t;++i)l[i]=l[i-1]+s[i-1]<<1;var c;if(e){c=new Xi(1<<t);var h=15-t;for(i=0;i<n;++i)if(a[i])for(var p=i<<4|a[i],m=t-a[i],w=l[a[i]-1]++<<m,b=w|(1<<m)-1;w<=b;++w)c[Tp[w]>>h]=p}else for(c=new Xi(n),i=0;i<n;++i)a[i]&&(c[i]=Tp[l[a[i]-1]++]>>15-a[i]);return c},bl=new $r(288);for(var _n=0;_n<144;++_n)bl[_n]=8;for(var _n=144;_n<256;++_n)bl[_n]=9;for(var _n=256;_n<280;++_n)bl[_n]=7;for(var _n=280;_n<288;++_n)bl[_n]=8;var nh=new $r(32);for(var _n=0;_n<32;++_n)nh[_n]=5;var _y=Lo(bl,9,0),by=Lo(bl,9,1),Sy=Lo(nh,5,0),Cy=Lo(nh,5,1),rp=function(a){for(var t=a[0],e=1;e<a.length;++e)a[e]>t&&(t=a[e]);return t},Bs=function(a,t,e){var n=t/8|0;return(a[n]|a[n+1]<<8)>>(t&7)&e},ip=function(a,t){var e=t/8|0;return(a[e]|a[e+1]<<8|a[e+2]<<16)>>(t&7)},og=function(a){return(a+7)/8|0},T2=function(a,t,e){return(e==null||e>a.length)&&(e=a.length),new $r(a.subarray(t,e))},ky=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],qs=function(a,t,e){var n=new Error(t||ky[a]);if(n.code=a,Error.captureStackTrace&&Error.captureStackTrace(n,qs),!e)throw n;return n},Ly=function(a,t,e,n){var i=a.length,s=0;if(!i||t.f&&!t.l)return e||new $r(0);var l=!e,c=l||t.i!=2,h=t.i;l&&(e=new $r(i*3));var p=function(Ut){var Qt=e.length;if(Ut>Qt){var Xt=new $r(Math.max(Qt*2,Ut));Xt.set(e),e=Xt}},m=t.f||0,w=t.p||0,b=t.b||0,y=t.l,A=t.d,k=t.m,O=t.n,T=i*8;do{if(!y){m=Bs(a,w,1);var F=Bs(a,w+1,3);if(w+=3,F)if(F==1)y=by,A=Cy,k=9,O=5;else if(F==2){var mt=Bs(a,w,31)+257,tt=Bs(a,w+10,15)+4,q=mt+Bs(a,w+5,31)+1;w+=14;for(var dt=new $r(q),bt=new $r(19),R=0;R<tt;++R)bt[Lp[R]]=Bs(a,w+R*3,7);w+=tt*3;for(var B=rp(bt),G=(1<<B)-1,H=Lo(bt,B,1),R=0;R<q;){var Lt=H[Bs(a,w,G)];w+=Lt&15;var Y=Lt>>4;if(Y<16)dt[R++]=Y;else{var wt=0,Ct=0;for(Y==16?(Ct=3+Bs(a,w,3),w+=2,wt=dt[R-1]):Y==17?(Ct=3+Bs(a,w,7),w+=3):Y==18&&(Ct=11+Bs(a,w,127),w+=7);Ct--;)dt[R++]=wt}}var X=dt.subarray(0,mt),ft=dt.subarray(mt);k=rp(X),O=rp(ft),y=Lo(X,k,1),A=Lo(ft,O,1)}else qs(1);else{var Y=og(w)+4,st=a[Y-4]|a[Y-3]<<8,Z=Y+st;if(Z>i){h&&qs(0);break}c&&p(b+st),e.set(a.subarray(Y,Z),b),t.b=b+=st,t.p=w=Z*8,t.f=m;continue}if(w>T){h&&qs(0);break}}c&&p(b+131072);for(var ct=(1<<k)-1,K=(1<<O)-1,L=w;;L=w){var wt=y[ip(a,w)&ct],z=wt>>4;if(w+=wt&15,w>T){h&&qs(0);break}if(wt||qs(2),z<256)e[b++]=z;else if(z==256){L=w,y=null;break}else{var W=z-254;if(z>264){var R=z-257,J=Jf[R];W=Bs(a,w,(1<<J)-1)+L2[R],w+=J}var et=A[ip(a,w)&K],pt=et>>4;et||qs(3),w+=et&15;var ft=xy[pt];if(pt>3){var J=Qf[pt];ft+=ip(a,w)&(1<<J)-1,w+=J}if(w>T){h&&qs(0);break}c&&p(b+131072);var vt=b+W;if(b<ft){var yt=s-ft,It=Math.min(ft,vt);for(yt+b<0&&qs(3);b<It;++b)e[b]=n[yt+b]}for(;b<vt;++b)e[b]=e[b-ft]}}t.l=y,t.p=L,t.b=b,t.f=m,y&&(m=1,t.m=k,t.d=A,t.n=O)}while(!m);return b!=e.length&&l?T2(e,0,b):e.subarray(0,b)},ua=function(a,t,e){e<<=t&7;var n=t/8|0;a[n]|=e,a[n+1]|=e>>8},Wu=function(a,t,e){e<<=t&7;var n=t/8|0;a[n]|=e,a[n+1]|=e>>8,a[n+2]|=e>>16},sp=function(a,t){for(var e=[],n=0;n<a.length;++n)a[n]&&e.push({s:n,f:a[n]});var i=e.length,s=e.slice();if(!i)return{t:N2,l:0};if(i==1){var l=new $r(e[0].s+1);return l[e[0].s]=1,{t:l,l:1}}e.sort(function(Z,mt){return Z.f-mt.f}),e.push({s:-1,f:25001});var c=e[0],h=e[1],p=0,m=1,w=2;for(e[0]={s:-1,f:c.f+h.f,l:c,r:h};m!=i-1;)c=e[e[p].f<e[w].f?p++:w++],h=e[p!=m&&e[p].f<e[w].f?p++:w++],e[m++]={s:-1,f:c.f+h.f,l:c,r:h};for(var b=s[0].s,n=1;n<i;++n)s[n].s>b&&(b=s[n].s);var y=new Xi(b+1),A=Pp(e[m-1],y,0);if(A>t){var n=0,k=0,O=A-t,T=1<<O;for(s.sort(function(mt,tt){return y[tt.s]-y[mt.s]||mt.f-tt.f});n<i;++n){var F=s[n].s;if(y[F]>t)k+=T-(1<<A-y[F]),y[F]=t;else break}for(k>>=O;k>0;){var Y=s[n].s;y[Y]<t?k-=1<<t-y[Y]++-1:++n}for(;n>=0&&k;--n){var st=s[n].s;y[st]==t&&(--y[st],++k)}A=t}return{t:new $r(y),l:A}},Pp=function(a,t,e){return a.s==-1?Math.max(Pp(a.l,t,e+1),Pp(a.r,t,e+1)):t[a.s]=e},n1=function(a){for(var t=a.length;t&&!a[--t];);for(var e=new Xi(++t),n=0,i=a[0],s=1,l=function(h){e[n++]=h},c=1;c<=t;++c)if(a[c]==i&&c!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(i),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(i);s=1,i=a[c]}return{c:e.subarray(0,n),n:t}},Vu=function(a,t){for(var e=0,n=0;n<t.length;++n)e+=a[n]*t[n];return e},P2=function(a,t,e){var n=e.length,i=og(t+2);a[i]=n&255,a[i+1]=n>>8,a[i+2]=a[i]^255,a[i+3]=a[i+1]^255;for(var s=0;s<n;++s)a[i+s+4]=e[s];return(i+4+n)*8},r1=function(a,t,e,n,i,s,l,c,h,p,m){ua(t,m++,e),++i[256];for(var w=sp(i,15),b=w.t,y=w.l,A=sp(s,15),k=A.t,O=A.l,T=n1(b),F=T.c,Y=T.n,st=n1(k),Z=st.c,mt=st.n,tt=new Xi(19),q=0;q<F.length;++q)++tt[F[q]&31];for(var q=0;q<Z.length;++q)++tt[Z[q]&31];for(var dt=sp(tt,7),bt=dt.t,R=dt.l,B=19;B>4&&!bt[Lp[B-1]];--B);var G=p+5<<3,H=Vu(i,bl)+Vu(s,nh)+l,Lt=Vu(i,b)+Vu(s,k)+l+14+3*B+Vu(tt,bt)+2*tt[16]+3*tt[17]+7*tt[18];if(h>=0&&G<=H&&G<=Lt)return P2(t,m,a.subarray(h,h+p));var wt,Ct,X,ft;if(ua(t,m,1+(Lt<H)),m+=2,Lt<H){wt=Lo(b,y,0),Ct=b,X=Lo(k,O,0),ft=k;var ct=Lo(bt,R,0);ua(t,m,Y-257),ua(t,m+5,mt-1),ua(t,m+10,B-4),m+=14;for(var q=0;q<B;++q)ua(t,m+3*q,bt[Lp[q]]);m+=3*B;for(var K=[F,Z],L=0;L<2;++L)for(var z=K[L],q=0;q<z.length;++q){var W=z[q]&31;ua(t,m,ct[W]),m+=bt[W],W>15&&(ua(t,m,z[q]>>5&127),m+=z[q]>>12)}}else wt=_y,Ct=bl,X=Sy,ft=nh;for(var q=0;q<c;++q){var J=n[q];if(J>255){var W=J>>18&31;Wu(t,m,wt[W+257]),m+=Ct[W+257],W>7&&(ua(t,m,J>>23&31),m+=Jf[W]);var et=J&31;Wu(t,m,X[et]),m+=ft[et],et>3&&(Wu(t,m,J>>5&8191),m+=Qf[et])}else Wu(t,m,wt[J]),m+=Ct[J]}return Wu(t,m,wt[256]),m+Ct[256]},Ay=new sg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),N2=new $r(0),Ty=function(a,t,e,n,i,s){var l=s.z||a.length,c=new $r(n+l+5*(1+Math.ceil(l/7e3))+i),h=c.subarray(n,c.length-i),p=s.l,m=(s.r||0)&7;if(t){m&&(h[0]=s.r>>3);for(var w=Ay[t-1],b=w>>13,y=w&8191,A=(1<<e)-1,k=s.p||new Xi(32768),O=s.h||new Xi(A+1),T=Math.ceil(e/3),F=2*T,Y=function(de){return(a[de]^a[de+1]<<T^a[de+2]<<F)&A},st=new sg(25e3),Z=new Xi(288),mt=new Xi(32),tt=0,q=0,dt=s.i||0,bt=0,R=s.w||0,B=0;dt+2<l;++dt){var G=Y(dt),H=dt&32767,Lt=O[G];if(k[H]=Lt,O[G]=H,R<=dt){var wt=l-dt;if((tt>7e3||bt>24576)&&(wt>423||!p)){m=r1(a,h,0,st,Z,mt,q,bt,B,dt-B,m),bt=tt=q=0,B=dt;for(var Ct=0;Ct<286;++Ct)Z[Ct]=0;for(var Ct=0;Ct<30;++Ct)mt[Ct]=0}var X=2,ft=0,ct=y,K=H-Lt&32767;if(wt>2&&G==Y(dt-K))for(var L=Math.min(b,wt)-1,z=Math.min(32767,dt),W=Math.min(258,wt);K<=z&&--ct&&H!=Lt;){if(a[dt+X]==a[dt+X-K]){for(var J=0;J<W&&a[dt+J]==a[dt+J-K];++J);if(J>X){if(X=J,ft=K,J>L)break;for(var et=Math.min(K,J-2),pt=0,Ct=0;Ct<et;++Ct){var vt=dt-K+Ct&32767,yt=k[vt],It=vt-yt&32767;It>pt&&(pt=It,Lt=vt)}}}H=Lt,Lt=k[H],K+=H-Lt&32767}if(ft){st[bt++]=268435456|Ap[X]<<18|e1[ft];var Ut=Ap[X]&31,Qt=e1[ft]&31;q+=Jf[Ut]+Qf[Qt],++Z[257+Ut],++mt[Qt],R=dt+X,++tt}else st[bt++]=a[dt],++Z[a[dt]]}}for(dt=Math.max(dt,R);dt<l;++dt)st[bt++]=a[dt],++Z[a[dt]];m=r1(a,h,p,st,Z,mt,q,bt,B,dt-B,m),p||(s.r=m&7|h[m/8|0]<<3,m-=7,s.h=O,s.p=k,s.i=dt,s.w=R)}else{for(var dt=s.w||0;dt<l+p;dt+=65535){var Xt=dt+65535;Xt>=l&&(h[m/8|0]=p,Xt=l),m=P2(h,m+1,a.subarray(dt,Xt))}s.i=l}return T2(c,0,n+og(m)+i)},O2=function(){var a=1,t=0;return{p:function(e){for(var n=a,i=t,s=e.length|0,l=0;l!=s;){for(var c=Math.min(l+2655,s);l<c;++l)i+=n+=e[l];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}a=n,t=i},d:function(){return a%=65521,t%=65521,(a&255)<<24|(a&65280)<<8|(t&255)<<8|t>>8}}},Py=function(a,t,e,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),l=new $r(s.length+a.length);l.set(s),l.set(a,s.length),a=l,i.w=s.length}return Ty(a,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(a.length)))*1.5):20:12+t.mem,e,n,i)},E2=function(a,t,e){for(;e;++t)a[t]=e,e>>>=8},Ny=function(a,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(a[0]=120,a[1]=n<<6|(t.dictionary&&32),a[1]|=31-(a[0]<<8|a[1])%31,t.dictionary){var i=O2();i.p(t.dictionary),E2(a,2,i.d())}},Oy=function(a,t){return((a[0]&15)!=8||a[0]>>4>7||(a[0]<<8|a[1])%31)&&qs(6,"invalid zlib data"),(a[1]>>5&1)==+!t&&qs(6,"invalid zlib data: "+(a[1]&32?"need":"unexpected")+" dictionary"),(a[1]>>3&4)+2};function Np(a,t){t||(t={});var e=O2();e.p(a);var n=Py(a,t,t.dictionary?6:2,4);return Ny(n,t),E2(n,n.length-4,e.d()),n}function Ey(a,t){return Ly(a.subarray(Oy(a,t),-4),{i:2},t,t)}var Dy=typeof TextDecoder<"u"&&new TextDecoder,My=0;try{Dy.decode(N2,{stream:!0}),My=1}catch{}var we=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function op(){we.console&&typeof we.console.log=="function"&&we.console.log.apply(we.console,arguments)}var fn={log:op,warn:function(a){we.console&&(typeof we.console.warn=="function"?we.console.warn.apply(we.console,arguments):op.call(null,arguments))},error:function(a){we.console&&(typeof we.console.error=="function"?we.console.error.apply(we.console,arguments):op(a))}};function ap(a,t,e){var n=new XMLHttpRequest;n.open("GET",a),n.responseType="blob",n.onload=function(){ac(n.response,t,e)},n.onerror=function(){fn.error("could not download file")},n.send()}function i1(a){var t=new XMLHttpRequest;t.open("HEAD",a,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function df(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(t)}}var Ku,Op,ac=we.saveAs||((typeof window>"u"?"undefined":ln(window))!=="object"||window!==we?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(a,t,e){var n=we.URL||we.webkitURL,i=document.createElement("a");t=t||a.name||"download",i.download=t,i.rel="noopener",typeof a=="string"?(i.href=a,i.origin!==location.origin?i1(i.href)?ap(a,t,e):df(i,i.target="_blank"):df(i)):(i.href=n.createObjectURL(a),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){df(i)},0))}:"msSaveOrOpenBlob"in navigator?function(a,t,e){if(t=t||a.name||"download",typeof a=="string")if(i1(a))ap(a,t,e);else{var n=document.createElement("a");n.href=a,n.target="_blank",setTimeout(function(){df(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:ln(s)!=="object"&&(fn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(a,e),t)}:function(a,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof a=="string")return ap(a,t,e);var i=a.type==="application/octet-stream",s=/constructor/i.test(we.HTMLElement)||we.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&s)&&(typeof FileReader>"u"?"undefined":ln(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=l?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=m:location=m,n=null},c.readAsDataURL(a)}else{var h=we.URL||we.webkitURL,p=h.createObjectURL(a);n?n.location=p:location.href=p,n=null,setTimeout(function(){h.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function D2(a){var t;a=a||"",this.ok=!1,a.charAt(0)=="#"&&(a=a.substr(1,6)),a={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[a=(a=a.replace(/ /g,"")).toLowerCase()]||a;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<e.length;n++){var i=e[n].re,s=e[n].process,l=i.exec(a);l&&(t=s(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),h=this.g.toString(16),p=this.b.toString(16);return c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),p.length==1&&(p="0"+p),"#"+c+h+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function lp(a,t){var e=a[0],n=a[1],i=a[2],s=a[3];e=Vr(e,n,i,s,t[0],7,-680876936),s=Vr(s,e,n,i,t[1],12,-389564586),i=Vr(i,s,e,n,t[2],17,606105819),n=Vr(n,i,s,e,t[3],22,-1044525330),e=Vr(e,n,i,s,t[4],7,-176418897),s=Vr(s,e,n,i,t[5],12,1200080426),i=Vr(i,s,e,n,t[6],17,-1473231341),n=Vr(n,i,s,e,t[7],22,-45705983),e=Vr(e,n,i,s,t[8],7,1770035416),s=Vr(s,e,n,i,t[9],12,-1958414417),i=Vr(i,s,e,n,t[10],17,-42063),n=Vr(n,i,s,e,t[11],22,-1990404162),e=Vr(e,n,i,s,t[12],7,1804603682),s=Vr(s,e,n,i,t[13],12,-40341101),i=Vr(i,s,e,n,t[14],17,-1502002290),e=Hr(e,n=Vr(n,i,s,e,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Hr(s,e,n,i,t[6],9,-1069501632),i=Hr(i,s,e,n,t[11],14,643717713),n=Hr(n,i,s,e,t[0],20,-373897302),e=Hr(e,n,i,s,t[5],5,-701558691),s=Hr(s,e,n,i,t[10],9,38016083),i=Hr(i,s,e,n,t[15],14,-660478335),n=Hr(n,i,s,e,t[4],20,-405537848),e=Hr(e,n,i,s,t[9],5,568446438),s=Hr(s,e,n,i,t[14],9,-1019803690),i=Hr(i,s,e,n,t[3],14,-187363961),n=Hr(n,i,s,e,t[8],20,1163531501),e=Hr(e,n,i,s,t[13],5,-1444681467),s=Hr(s,e,n,i,t[2],9,-51403784),i=Hr(i,s,e,n,t[7],14,1735328473),e=Yr(e,n=Hr(n,i,s,e,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Yr(s,e,n,i,t[8],11,-2022574463),i=Yr(i,s,e,n,t[11],16,1839030562),n=Yr(n,i,s,e,t[14],23,-35309556),e=Yr(e,n,i,s,t[1],4,-1530992060),s=Yr(s,e,n,i,t[4],11,1272893353),i=Yr(i,s,e,n,t[7],16,-155497632),n=Yr(n,i,s,e,t[10],23,-1094730640),e=Yr(e,n,i,s,t[13],4,681279174),s=Yr(s,e,n,i,t[0],11,-358537222),i=Yr(i,s,e,n,t[3],16,-722521979),n=Yr(n,i,s,e,t[6],23,76029189),e=Yr(e,n,i,s,t[9],4,-640364487),s=Yr(s,e,n,i,t[12],11,-421815835),i=Yr(i,s,e,n,t[15],16,530742520),e=Xr(e,n=Yr(n,i,s,e,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Xr(s,e,n,i,t[7],10,1126891415),i=Xr(i,s,e,n,t[14],15,-1416354905),n=Xr(n,i,s,e,t[5],21,-57434055),e=Xr(e,n,i,s,t[12],6,1700485571),s=Xr(s,e,n,i,t[3],10,-1894986606),i=Xr(i,s,e,n,t[10],15,-1051523),n=Xr(n,i,s,e,t[1],21,-2054922799),e=Xr(e,n,i,s,t[8],6,1873313359),s=Xr(s,e,n,i,t[15],10,-30611744),i=Xr(i,s,e,n,t[6],15,-1560198380),n=Xr(n,i,s,e,t[13],21,1309151649),e=Xr(e,n,i,s,t[4],6,-145523070),s=Xr(s,e,n,i,t[11],10,-1120210379),i=Xr(i,s,e,n,t[2],15,718787259),n=Xr(n,i,s,e,t[9],21,-343485551),a[0]=wl(e,a[0]),a[1]=wl(n,a[1]),a[2]=wl(i,a[2]),a[3]=wl(s,a[3])}function Zf(a,t,e,n,i,s){return t=wl(wl(t,a),wl(n,s)),wl(t<<i|t>>>32-i,e)}function Vr(a,t,e,n,i,s,l){return Zf(t&e|~t&n,a,t,i,s,l)}function Hr(a,t,e,n,i,s,l){return Zf(t&n|e&~n,a,t,i,s,l)}function Yr(a,t,e,n,i,s,l){return Zf(t^e^n,a,t,i,s,l)}function Xr(a,t,e,n,i,s,l){return Zf(e^(t|~n),a,t,i,s,l)}function M2(a){var t,e=a.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=a.length;t+=64)lp(n,jy(a.substring(t-64,t)));a=a.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<a.length;t++)i[t>>2]|=a.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(lp(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*e,lp(n,i),n}function jy(a){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=a.charCodeAt(t)+(a.charCodeAt(t+1)<<8)+(a.charCodeAt(t+2)<<16)+(a.charCodeAt(t+3)<<24);return e}Ku=we.atob.bind(we),Op=we.btoa.bind(we);var s1="0123456789abcdef".split("");function Fy(a){for(var t="",e=0;e<4;e++)t+=s1[a>>8*e+4&15]+s1[a>>8*e&15];return t}function Iy(a){return String.fromCharCode((255&a)>>0,(65280&a)>>8,(16711680&a)>>16,(4278190080&a)>>24)}function Ep(a){return M2(a).map(Iy).join("")}var Ry=function(a){for(var t=0;t<a.length;t++)a[t]=Fy(a[t]);return a.join("")}(M2("hello"))!="5d41402abc4b2a76b9719d911017c592";function wl(a,t){if(Ry){var e=(65535&a)+(65535&t);return(a>>16)+(t>>16)+(e>>16)<<16|65535&e}return a+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Dp(a,t){var e,n,i,s;if(a!==e){for(var l=(i=a,s=1+(256/a.length>>0),new Array(s+1).join(i)),c=[],h=0;h<256;h++)c[h]=h;var p=0;for(h=0;h<256;h++){var m=c[h];p=(p+m+l.charCodeAt(h))%256,c[h]=c[p],c[p]=m}e=a,n=c}else c=n;var w=t.length,b=0,y=0,A="";for(h=0;h<w;h++)y=(y+(m=c[b=(b+1)%256]))%256,c[b]=c[y],c[y]=m,l=c[(c[b]+c[y])%256],A+=String.fromCharCode(t.charCodeAt(h)^l);return A}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var o1={print:4,modify:8,copy:16,"annot-forms":32};function Zc(a,t,e,n){this.v=1,this.r=2;var i=192;a.forEach(function(c){if(o1.perm!==void 0)throw new Error("Invalid permission: "+c);i+=o1[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),l=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,l),this.P=-(1+(255^i)),this.encryptionKey=Ep(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Dp(this.encryptionKey,this.padding)}function tu(a){if(/[^\u0000-\u00ff]/.test(a))throw new Error("Invalid PDF Name Object: "+a+", Only accept ASCII characters.");for(var t="",e=a.length,n=0;n<e;n++){var i=a.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=a[n]}return t}function a1(a){if(ln(a)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,i){if(i=i||!1,typeof e!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[n,!!i],s},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[e]){var l=t[e][s];try{l[0].apply(a,n)}catch(c){we.console&&fn.error("jsPDF PubSub Error",c.message,c)}l[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Bf(a){if(!(this instanceof Bf))return new Bf(a);var t="opacity,stroke-opacity".split(",");for(var e in a)a.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=a[e]);this.id="",this.objectNumber=-1}function j2(a,t){this.gState=a,this.matrix=t,this.id="",this.objectNumber=-1}function hc(a,t,e,n,i){if(!(this instanceof hc))return new hc(a,t,e,n,i);this.type=a==="axial"?2:3,this.coords=t,this.colors=e,j2.call(this,n,i)}function iu(a,t,e,n,i){if(!(this instanceof iu))return new iu(a,t,e,n,i);this.boundingBox=a,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,j2.call(this,n,i)}function ye(a){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],l=[],c=1,h=16,p="S",m=null;ln(a=a||{})==="object"&&(e=a.orientation,n=a.unit||n,i=a.format||i,s=a.compress||a.compressPdf||s,(m=a.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof a.userUnit=="number"?Math.abs(a.userUnit):1,a.precision!==void 0&&(t=a.precision),a.floatPrecision!==void 0&&(h=a.floatPrecision),p=a.defaultPathOperation||"S"),l=a.filters||(s===!0?["FlateEncode"]:l),n=n||"mm",e=(""+(e||"P")).toLowerCase();var w=a.putOnlyUsedFonts||!1,b={},y={internal:{},__private__:{}};y.__private__.PubSub=a1;var A="1.3",k=y.__private__.getPdfVersion=function(){return A};y.__private__.setPdfVersion=function(v){A=v};var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return O};var T=y.__private__.getPageFormat=function(v){return O[v]};i=i||"a4";var F={COMPAT:"compat",ADVANCED:"advanced"},Y=F.COMPAT;function st(){this.saveGraphicsState(),Q(new he(Jt,0,0,-Jt,0,lo()*Jt).toString()+" cm"),this.setFontSize(this.getFontSize()/Jt),p="n",Y=F.ADVANCED}function Z(){this.restoreGraphicsState(),p="S",Y=F.COMPAT}var mt=y.__private__.combineFontStyleAndFontWeight=function(v,N){if(v=="bold"&&N=="normal"||v=="bold"&&N==400||v=="normal"&&N=="italic"||v=="bold"&&N=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return N&&(v=N==400||N==="normal"?v==="italic"?"italic":"normal":N!=700&&N!=="bold"||v!=="normal"?(N==700?"bold":N)+""+v:"bold"),v};y.advancedAPI=function(v){var N=Y===F.COMPAT;return N&&st.call(this),typeof v!="function"||(v(this),N&&Z.call(this)),this},y.compatAPI=function(v){var N=Y===F.ADVANCED;return N&&Z.call(this),typeof v!="function"||(v(this),N&&st.call(this)),this},y.isAdvancedAPI=function(){return Y===F.ADVANCED};var tt,q=function(v){if(Y!==F.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},dt=y.roundToPrecision=y.__private__.roundToPrecision=function(v,N){var V=t||N;if(isNaN(v)||isNaN(V))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(V).replace(/0+$/,"")};tt=y.hpf=y.__private__.hpf=typeof h=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return dt(v,h)}:h==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return dt(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return dt(v,16)};var bt=y.f2=y.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return dt(v,2)},R=y.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return dt(v,3)},B=y.scale=y.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return Y===F.COMPAT?v*Jt:Y===F.ADVANCED?v:void 0},G=function(v){return Y===F.COMPAT?lo()-v:Y===F.ADVANCED?v:void 0},H=function(v){return B(G(v))};y.__private__.setPrecision=y.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var Lt,wt="00000000000000000000000000000000",Ct=y.__private__.getFileId=function(){return wt},X=y.__private__.setFileId=function(v){return wt=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():wt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(yn=new Zc(m.userPermissions,m.userPassword,m.ownerPassword,wt)),wt};y.setFileId=function(v){return X(v),this},y.getFileId=function(){return Ct()};var ft=y.__private__.convertDateToPDFDate=function(v){var N=v.getTimezoneOffset(),V=N<0?"+":"-",it=Math.floor(Math.abs(N/60)),xt=Math.abs(N%60),Ot=[V,W(it),"'",W(xt),"'"].join("");return["D:",v.getFullYear(),W(v.getMonth()+1),W(v.getDate()),W(v.getHours()),W(v.getMinutes()),W(v.getSeconds()),Ot].join("")},ct=y.__private__.convertPDFDateToDate=function(v){var N=parseInt(v.substr(2,4),10),V=parseInt(v.substr(6,2),10)-1,it=parseInt(v.substr(8,2),10),xt=parseInt(v.substr(10,2),10),Ot=parseInt(v.substr(12,2),10),Rt=parseInt(v.substr(14,2),10);return new Date(N,V,it,xt,Ot,Rt,0)},K=y.__private__.setCreationDate=function(v){var N;if(v===void 0&&(v=new Date),v instanceof Date)N=ft(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");N=v}return Lt=N},L=y.__private__.getCreationDate=function(v){var N=Lt;return v==="jsDate"&&(N=ct(Lt)),N};y.setCreationDate=function(v){return K(v),this},y.getCreationDate=function(v){return L(v)};var z,W=y.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},J=y.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},et=0,pt=[],vt=[],yt=0,It=[],Ut=[],Qt=!1,Xt=vt,de=function(){et=0,yt=0,vt=[],pt=[],It=[],vs=mn(),Ei=mn()};y.__private__.setCustomOutputDestination=function(v){Qt=!0,Xt=v};var Dt=function(v){Qt||(Xt=v)};y.__private__.resetCustomOutputDestination=function(){Qt=!1,Xt=vt};var Q=y.__private__.out=function(v){return v=v.toString(),yt+=v.length+1,Xt.push(v),Xt},xe=y.__private__.write=function(v){return Q(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},oe=y.__private__.getArrayBuffer=function(v){for(var N=v.length,V=new ArrayBuffer(N),it=new Uint8Array(V);N--;)it[N]=v.charCodeAt(N);return V},qt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return qt};var Ht=a.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(v){return Ht=Y===F.ADVANCED?v/Jt:v,this};var Gt,$t=y.__private__.getFontSize=y.getFontSize=function(){return Y===F.COMPAT?Ht:Ht*Jt},ce=a.R2L||!1;y.__private__.setR2L=y.setR2L=function(v){return ce=v,this},y.__private__.getR2L=y.getR2L=function(){return ce};var _e,Ae=y.__private__.setZoomMode=function(v){var N=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Gt=v;else if(isNaN(v)){if(N.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Gt=v}else Gt=parseInt(v,10)};y.__private__.getZoomMode=function(){return Gt};var Ne,je=y.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');_e=v};y.__private__.getPageMode=function(){return _e};var qe=y.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');Ne=v};y.__private__.getLayoutMode=function(){return Ne},y.__private__.setDisplayMode=y.setDisplayMode=function(v,N,V){return Ae(v),qe(N),je(V),this};var ve={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(v){if(Object.keys(ve).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ve[v]},y.__private__.getDocumentProperties=function(){return ve},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(v){for(var N in ve)ve.hasOwnProperty(N)&&v[N]&&(ve[N]=v[N]);return this},y.__private__.setDocumentProperty=function(v,N){if(Object.keys(ve).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ve[v]=N};var Pe,Jt,rr,Re,hi,nn={},cn={},fi=[],Be={},ms={},dn={},ir={},Nr=null,pn=0,be=[],We=new a1(y),Ks=a.hotfixes||[],Hn={},di={},Oi=[],he=function v(N,V,it,xt,Ot,Rt){if(!(this instanceof v))return new v(N,V,it,xt,Ot,Rt);isNaN(N)&&(N=1),isNaN(V)&&(V=0),isNaN(it)&&(it=0),isNaN(xt)&&(xt=1),isNaN(Ot)&&(Ot=0),isNaN(Rt)&&(Rt=0),this._matrix=[N,V,it,xt,Ot,Rt]};Object.defineProperty(he.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(he.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(he.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(he.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(he.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(he.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(he.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(he.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(he.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(he.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(he.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(he.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(he.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(he.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(he.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(he.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),he.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(tt).join(v)},he.prototype.multiply=function(v){var N=v.sx*this.sx+v.shy*this.shx,V=v.sx*this.shy+v.shy*this.sy,it=v.shx*this.sx+v.sy*this.shx,xt=v.shx*this.shy+v.sy*this.sy,Ot=v.tx*this.sx+v.ty*this.shx+this.tx,Rt=v.tx*this.shy+v.ty*this.sy+this.ty;return new he(N,V,it,xt,Ot,Rt)},he.prototype.decompose=function(){var v=this.sx,N=this.shy,V=this.shx,it=this.sy,xt=this.tx,Ot=this.ty,Rt=Math.sqrt(v*v+N*N),Zt=(v/=Rt)*V+(N/=Rt)*it;V-=v*Zt,it-=N*Zt;var ue=Math.sqrt(V*V+it*it);return Zt/=ue,v*(it/=ue)<N*(V/=ue)&&(v=-v,N=-N,Zt=-Zt,Rt=-Rt),{scale:new he(Rt,0,0,ue,0,0),translate:new he(1,0,0,1,xt,Ot),rotate:new he(v,N,-N,v,0,0),skew:new he(1,0,Zt,1,0,0)}},he.prototype.toString=function(v){return this.join(" ")},he.prototype.inversed=function(){var v=this.sx,N=this.shy,V=this.shx,it=this.sy,xt=this.tx,Ot=this.ty,Rt=1/(v*it-N*V),Zt=it*Rt,ue=-N*Rt,Le=-V*Rt,ke=v*Rt;return new he(Zt,ue,Le,ke,-Zt*xt-Le*Ot,-ue*xt-ke*Ot)},he.prototype.applyToPoint=function(v){var N=v.x*this.sx+v.y*this.shx+this.tx,V=v.x*this.shy+v.y*this.sy+this.ty;return new ts(N,V)},he.prototype.applyToRectangle=function(v){var N=this.applyToPoint(v),V=this.applyToPoint(new ts(v.x+v.w,v.y+v.h));return new ao(N.x,N.y,V.x-N.x,V.y-N.y)},he.prototype.clone=function(){var v=this.sx,N=this.shy,V=this.shx,it=this.sy,xt=this.tx,Ot=this.ty;return new he(v,N,V,it,xt,Ot)},y.Matrix=he;var Jr=y.matrixMult=function(v,N){return N.multiply(v)},Or=new he(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Or;var Er=function(v,N){if(!ms[v]){var V=(N instanceof hc?"Sh":"P")+(Object.keys(Be).length+1).toString(10);N.id=V,ms[v]=V,Be[V]=N,We.publish("addPattern",N)}};y.ShadingPattern=hc,y.TilingPattern=iu,y.addShadingPattern=function(v,N){return q("addShadingPattern()"),Er(v,N),this},y.beginTilingPattern=function(v){q("beginTilingPattern()"),Tc(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},y.endTilingPattern=function(v,N){q("endTilingPattern()"),N.stream=Ut[z].join(`
`),Er(v,N),We.publish("endTilingPattern",N),Oi.pop().restore()};var gn=y.__private__.newObject=function(){var v=mn();return sr(v,!0),v},mn=y.__private__.newObjectDeferred=function(){return et++,pt[et]=function(){return yt},et},sr=function(v,N){return N=typeof N=="boolean"&&N,pt[v]=yt,N&&Q(v+" 0 obj"),v},Js=y.__private__.newAdditionalObject=function(){var v={objId:mn(),content:""};return It.push(v),v},vs=mn(),Ei=mn(),Di=y.__private__.decodeColorString=function(v){var N=v.split(" ");if(N.length!==2||N[1]!=="g"&&N[1]!=="G")N.length===5&&(N[4]==="k"||N[4]==="K")&&(N=[(1-N[0])*(1-N[3]),(1-N[1])*(1-N[3]),(1-N[2])*(1-N[3]),"r"]);else{var V=parseFloat(N[0]);N=[V,V,V,"r"]}for(var it="#",xt=0;xt<3;xt++)it+=("0"+Math.floor(255*parseFloat(N[xt])).toString(16)).slice(-2);return it},Kn=y.__private__.encodeColorString=function(v){var N;typeof v=="string"&&(v={ch1:v});var V=v.ch1,it=v.ch2,xt=v.ch3,Ot=v.ch4,Rt=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof V=="string"&&V.charAt(0)!=="#"){var Zt=new D2(V);if(Zt.ok)V=Zt.toHex();else if(!/^\d*\.?\d*$/.test(V))throw new Error('Invalid color "'+V+'" passed to jsPDF.encodeColorString.')}if(typeof V=="string"&&/^#[0-9A-Fa-f]{3}$/.test(V)&&(V="#"+V[1]+V[1]+V[2]+V[2]+V[3]+V[3]),typeof V=="string"&&/^#[0-9A-Fa-f]{6}$/.test(V)){var ue=parseInt(V.substr(1),16);V=ue>>16&255,it=ue>>8&255,xt=255&ue}if(it===void 0||Ot===void 0&&V===it&&it===xt)if(typeof V=="string")N=V+" "+Rt[0];else switch(v.precision){case 2:N=bt(V/255)+" "+Rt[0];break;case 3:default:N=R(V/255)+" "+Rt[0]}else if(Ot===void 0||ln(Ot)==="object"){if(Ot&&!isNaN(Ot.a)&&Ot.a===0)return N=["1.","1.","1.",Rt[1]].join(" ");if(typeof V=="string")N=[V,it,xt,Rt[1]].join(" ");else switch(v.precision){case 2:N=[bt(V/255),bt(it/255),bt(xt/255),Rt[1]].join(" ");break;default:case 3:N=[R(V/255),R(it/255),R(xt/255),Rt[1]].join(" ")}}else if(typeof V=="string")N=[V,it,xt,Ot,Rt[2]].join(" ");else switch(v.precision){case 2:N=[bt(V),bt(it),bt(xt),bt(Ot),Rt[2]].join(" ");break;case 3:default:N=[R(V),R(it),R(xt),R(Ot),Rt[2]].join(" ")}return N},Mi=y.__private__.getFilters=function(){return l},Qr=y.__private__.putStream=function(v){var N=(v=v||{}).data||"",V=v.filters||Mi(),it=v.alreadyAppliedFilters||[],xt=v.addLength1||!1,Ot=N.length,Rt=v.objectId,Zt=function(or){return or};if(m!==null&&Rt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(Zt=yn.encryptor(Rt,0));var ue={};V===!0&&(V=["FlateEncode"]);var Le=v.additionalKeyValues||[],ke=(ue=ye.API.processDataByFilters!==void 0?ye.API.processDataByFilters(N,V):{data:N,reverseChain:[]}).reverseChain+(Array.isArray(it)?it.join(" "):it.toString());if(ue.data.length!==0&&(Le.push({key:"Length",value:ue.data.length}),xt===!0&&Le.push({key:"Length1",value:Ot})),ke.length!=0)if(ke.split("/").length-1==1)Le.push({key:"Filter",value:ke});else{Le.push({key:"Filter",value:"["+ke+"]"});for(var Fe=0;Fe<Le.length;Fe+=1)if(Le[Fe].key==="DecodeParms"){for(var wn=[],bn=0;bn<ue.reverseChain.split("/").length-1;bn+=1)wn.push("null");wn.push(Le[Fe].value),Le[Fe].value="["+wn.join(" ")+"]"}}Q("<<");for(var Nn=0;Nn<Le.length;Nn++)Q("/"+Le[Nn].key+" "+Le[Nn].value);Q(">>"),ue.data.length!==0&&(Q("stream"),Q(Zt(ue.data)),Q("endstream"))},$i=y.__private__.putPage=function(v){var N=v.number,V=v.data,it=v.objId,xt=v.contentsObjId;sr(it,!0),Q("<</Type /Page"),Q("/Parent "+v.rootDictionaryObjId+" 0 R"),Q("/Resources "+v.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(tt(v.mediaBox.bottomLeftX))+" "+parseFloat(tt(v.mediaBox.bottomLeftY))+" "+tt(v.mediaBox.topRightX)+" "+tt(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&Q("/CropBox ["+tt(v.cropBox.bottomLeftX)+" "+tt(v.cropBox.bottomLeftY)+" "+tt(v.cropBox.topRightX)+" "+tt(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&Q("/BleedBox ["+tt(v.bleedBox.bottomLeftX)+" "+tt(v.bleedBox.bottomLeftY)+" "+tt(v.bleedBox.topRightX)+" "+tt(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&Q("/TrimBox ["+tt(v.trimBox.bottomLeftX)+" "+tt(v.trimBox.bottomLeftY)+" "+tt(v.trimBox.topRightX)+" "+tt(v.trimBox.topRightY)+"]"),v.artBox!==null&&Q("/ArtBox ["+tt(v.artBox.bottomLeftX)+" "+tt(v.artBox.bottomLeftY)+" "+tt(v.artBox.topRightX)+" "+tt(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&Q("/UserUnit "+v.userUnit),We.publish("putPage",{objId:it,pageContext:be[N],pageNumber:N,page:V}),Q("/Contents "+xt+" 0 R"),Q(">>"),Q("endobj");var Ot=V.join(`
`);return Y===F.ADVANCED&&(Ot+=`
Q`),sr(xt,!0),Qr({data:Ot,filters:Mi(),objectId:xt}),Q("endobj"),it},Qs=y.__private__.putPages=function(){var v,N,V=[];for(v=1;v<=pn;v++)be[v].objId=mn(),be[v].contentsObjId=mn();for(v=1;v<=pn;v++)V.push($i({number:v,data:Ut[v],objId:be[v].objId,contentsObjId:be[v].contentsObjId,mediaBox:be[v].mediaBox,cropBox:be[v].cropBox,bleedBox:be[v].bleedBox,trimBox:be[v].trimBox,artBox:be[v].artBox,userUnit:be[v].userUnit,rootDictionaryObjId:vs,resourceDictionaryObjId:Ei}));sr(vs,!0),Q("<</Type /Pages");var it="/Kids [";for(N=0;N<pn;N++)it+=V[N]+" 0 R ";Q(it+"]"),Q("/Count "+pn),Q(">>"),Q("endobj"),We.publish("postPutPages")},No=function(v){We.publish("putFont",{font:v,out:Q,newObject:gn,putStream:Qr}),v.isAlreadyPutted!==!0&&(v.objectNumber=gn(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+tu(v.postScriptName)),Q("/Subtype /Type1"),typeof v.encoding=="string"&&Q("/Encoding /"+v.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},Oo=function(){for(var v in nn)nn.hasOwnProperty(v)&&(w===!1||w===!0&&b.hasOwnProperty(v))&&No(nn[v])},Eo=function(v){v.objectNumber=gn();var N=[];N.push({key:"Type",value:"/XObject"}),N.push({key:"Subtype",value:"/Form"}),N.push({key:"BBox",value:"["+[tt(v.x),tt(v.y),tt(v.x+v.width),tt(v.y+v.height)].join(" ")+"]"}),N.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var V=v.pages[1].join(`
`);Qr({data:V,additionalKeyValues:N,objectId:v.objectNumber}),Q("endobj")},Sa=function(){for(var v in Hn)Hn.hasOwnProperty(v)&&Eo(Hn[v])},xc=function(v,N){var V,it=[],xt=1/(N-1);for(V=0;V<1;V+=xt)it.push(V);if(it.push(1),v[0].offset!=0){var Ot={offset:0,color:v[0].color};v.unshift(Ot)}if(v[v.length-1].offset!=1){var Rt={offset:1,color:v[v.length-1].color};v.push(Rt)}for(var Zt="",ue=0,Le=0;Le<it.length;Le++){for(V=it[Le];V>v[ue+1].offset;)ue++;var ke=v[ue].offset,Fe=(V-ke)/(v[ue+1].offset-ke),wn=v[ue].color,bn=v[ue+1].color;Zt+=J(Math.round((1-Fe)*wn[0]+Fe*bn[0]).toString(16))+J(Math.round((1-Fe)*wn[1]+Fe*bn[1]).toString(16))+J(Math.round((1-Fe)*wn[2]+Fe*bn[2]).toString(16))}return Zt.trim()},vn=function(v,N){N||(N=21);var V=gn(),it=xc(v.colors,N),xt=[];xt.push({key:"FunctionType",value:"0"}),xt.push({key:"Domain",value:"[0.0 1.0]"}),xt.push({key:"Size",value:"["+N+"]"}),xt.push({key:"BitsPerSample",value:"8"}),xt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qr({data:it,additionalKeyValues:xt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:V}),Q("endobj"),v.objectNumber=gn(),Q("<< /ShadingType "+v.type),Q("/ColorSpace /DeviceRGB");var Ot="/Coords ["+tt(parseFloat(v.coords[0]))+" "+tt(parseFloat(v.coords[1]))+" ";v.type===2?Ot+=tt(parseFloat(v.coords[2]))+" "+tt(parseFloat(v.coords[3])):Ot+=tt(parseFloat(v.coords[2]))+" "+tt(parseFloat(v.coords[3]))+" "+tt(parseFloat(v.coords[4]))+" "+tt(parseFloat(v.coords[5])),Q(Ot+="]"),v.matrix&&Q("/Matrix ["+v.matrix.toString()+"]"),Q("/Function "+V+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},wu=function(v,N){var V=mn(),it=gn();N.push({resourcesOid:V,objectOid:it}),v.objectNumber=it;var xt=[];xt.push({key:"Type",value:"/Pattern"}),xt.push({key:"PatternType",value:"1"}),xt.push({key:"PaintType",value:"1"}),xt.push({key:"TilingType",value:"1"}),xt.push({key:"BBox",value:"["+v.boundingBox.map(tt).join(" ")+"]"}),xt.push({key:"XStep",value:tt(v.xStep)}),xt.push({key:"YStep",value:tt(v.yStep)}),xt.push({key:"Resources",value:V+" 0 R"}),v.matrix&&xt.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Qr({data:v.stream,additionalKeyValues:xt,objectId:v.objectNumber}),Q("endobj")},Zs=function(v){var N;for(N in Be)Be.hasOwnProperty(N)&&(Be[N]instanceof hc?vn(Be[N]):Be[N]instanceof iu&&wu(Be[N],v))},Ll=function(v){for(var N in v.objectNumber=gn(),Q("<<"),v)switch(N){case"opacity":Q("/ca "+bt(v[N]));break;case"stroke-opacity":Q("/CA "+bt(v[N]))}Q(">>"),Q("endobj")},Ca=function(){var v;for(v in dn)dn.hasOwnProperty(v)&&Ll(dn[v])},Al=function(){for(var v in Q("/XObject <<"),Hn)Hn.hasOwnProperty(v)&&Hn[v].objectNumber>=0&&Q("/"+v+" "+Hn[v].objectNumber+" 0 R");We.publish("putXobjectDict"),Q(">>")},_c=function(){yn.oid=gn(),Q("<<"),Q("/Filter /Standard"),Q("/V "+yn.v),Q("/R "+yn.r),Q("/U <"+yn.toHexString(yn.U)+">"),Q("/O <"+yn.toHexString(yn.O)+">"),Q("/P "+yn.P),Q(">>"),Q("endobj")},Do=function(){for(var v in Q("/Font <<"),nn)nn.hasOwnProperty(v)&&(w===!1||w===!0&&b.hasOwnProperty(v))&&Q("/"+v+" "+nn[v].objectNumber+" 0 R");Q(">>")},pi=function(){if(Object.keys(Be).length>0){for(var v in Q("/Shading <<"),Be)Be.hasOwnProperty(v)&&Be[v]instanceof hc&&Be[v].objectNumber>=0&&Q("/"+v+" "+Be[v].objectNumber+" 0 R");We.publish("putShadingPatternDict"),Q(">>")}},ka=function(v){if(Object.keys(Be).length>0){for(var N in Q("/Pattern <<"),Be)Be.hasOwnProperty(N)&&Be[N]instanceof y.TilingPattern&&Be[N].objectNumber>=0&&Be[N].objectNumber<v&&Q("/"+N+" "+Be[N].objectNumber+" 0 R");We.publish("putTilingPatternDict"),Q(">>")}},Zr=function(){if(Object.keys(dn).length>0){var v;for(v in Q("/ExtGState <<"),dn)dn.hasOwnProperty(v)&&dn[v].objectNumber>=0&&Q("/"+v+" "+dn[v].objectNumber+" 0 R");We.publish("putGStateDict"),Q(">>")}},Ln=function(v){sr(v.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Do(),pi(),ka(v.objectOid),Zr(),Al(),Q(">>"),Q("endobj")},bc=function(){var v=[];Oo(),Ca(),Sa(),Zs(v),We.publish("putResources"),v.forEach(Ln),Ln({resourcesOid:Ei,objectOid:Number.MAX_SAFE_INTEGER}),We.publish("postPutResources")},Sc=function(){We.publish("putAdditionalObjects");for(var v=0;v<It.length;v++){var N=It[v];sr(N.objId,!0),Q(N.content),Q("endobj")}We.publish("postPutAdditionalObjects")},Mo=function(v){cn[v.fontName]=cn[v.fontName]||{},cn[v.fontName][v.fontStyle]=v.id},to=function(v,N,V,it,xt){var Ot={id:"F"+(Object.keys(nn).length+1).toString(10),postScriptName:v,fontName:N,fontStyle:V,encoding:it,isStandardFont:xt||!1,metadata:{}};return We.publish("addFont",{font:Ot,instance:this}),nn[Ot.id]=Ot,Mo(Ot),Ot.id},jo=function(v){for(var N=0,V=qt.length;N<V;N++){var it=to.call(this,v[N][0],v[N][1],v[N][2],qt[N][3],!0);w===!1&&(b[it]=!0);var xt=v[N][0].split("-");Mo({id:it,fontName:xt[0],fontStyle:xt[1]||""})}We.publish("addFonts",{fonts:nn,dictionary:cn})},Dr=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(it){var N=it.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var V="Error in function "+N.split(`
`)[0].split("<")[0]+": "+it.message;if(!we.console)throw new Error(V);we.console.error(V,it),we.alert&&alert(V)}},v.foo.bar=v,v.foo},La=function(v,N){var V,it,xt,Ot,Rt,Zt,ue,Le,ke;if(xt=(N=N||{}).sourceEncoding||"Unicode",Rt=N.outputEncoding,(N.autoencode||Rt)&&nn[Pe].metadata&&nn[Pe].metadata[xt]&&nn[Pe].metadata[xt].encoding&&(Ot=nn[Pe].metadata[xt].encoding,!Rt&&nn[Pe].encoding&&(Rt=nn[Pe].encoding),!Rt&&Ot.codePages&&(Rt=Ot.codePages[0]),typeof Rt=="string"&&(Rt=Ot[Rt]),Rt)){for(ue=!1,Zt=[],V=0,it=v.length;V<it;V++)(Le=Rt[v.charCodeAt(V)])?Zt.push(String.fromCharCode(Le)):Zt.push(v[V]),Zt[V].charCodeAt(0)>>8&&(ue=!0);v=Zt.join("")}for(V=v.length;ue===void 0&&V!==0;)v.charCodeAt(V-1)>>8&&(ue=!0),V--;if(!ue)return v;for(Zt=N.noBOM?[]:[254,255],V=0,it=v.length;V<it;V++){if((ke=(Le=v.charCodeAt(V))>>8)>>8)throw new Error("Character at position "+V+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Zt.push(ke),Zt.push(Le-(ke<<8))}return String.fromCharCode.apply(void 0,Zt)},Mr=y.__private__.pdfEscape=y.pdfEscape=function(v,N){return La(v,N).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fo=y.__private__.beginPage=function(v){Ut[++pn]=[],be[pn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},eo(pn),Dt(Ut[z])},Tl=function(v,N){var V,it,xt;switch(e=N||e,typeof v=="string"&&(V=T(v.toLowerCase()),Array.isArray(V)&&(it=V[0],xt=V[1])),Array.isArray(v)&&(it=v[0]*Jt,xt=v[1]*Jt),isNaN(it)&&(it=i[0],xt=i[1]),(it>14400||xt>14400)&&(fn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),it=Math.min(14400,it),xt=Math.min(14400,xt)),i=[it,xt],e.substr(0,1)){case"l":xt>it&&(i=[xt,it]);break;case"p":it>xt&&(i=[xt,it])}Fo(i),Uo(El),Q(jr),Ml!==0&&Q(Ml+" J"),Wo!==0&&Q(Wo+" j"),We.publish("addPage",{pageNumber:pn})},Pl=function(v){v>0&&v<=pn&&(Ut.splice(v,1),be.splice(v,1),pn--,z>pn&&(z=pn),this.setPage(z))},eo=function(v){v>0&&v<=pn&&(z=v)},xu=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Ut.length-1},Aa=function(v,N,V){var it,xt=void 0;return V=V||{},v=v!==void 0?v:nn[Pe].fontName,N=N!==void 0?N:nn[Pe].fontStyle,it=v.toLowerCase(),cn[it]!==void 0&&cn[it][N]!==void 0?xt=cn[it][N]:cn[v]!==void 0&&cn[v][N]!==void 0?xt=cn[v][N]:V.disableWarning===!1&&fn.warn("Unable to look up font label for font '"+v+"', '"+N+"'. Refer to getFontList() for available fonts."),xt||V.noFallback||(xt=cn.times[N])==null&&(xt=cn.times.normal),xt},Ve=y.__private__.putInfo=function(){var v=gn(),N=function(it){return it};for(var V in m!==null&&(N=yn.encryptor(v,0)),Q("<<"),Q("/Producer ("+Mr(N("jsPDF "+ye.version))+")"),ve)ve.hasOwnProperty(V)&&ve[V]&&Q("/"+V.substr(0,1).toUpperCase()+V.substr(1)+" ("+Mr(N(ve[V]))+")");Q("/CreationDate ("+Mr(N(Lt))+")"),Q(">>"),Q("endobj")},Ta=y.__private__.putCatalog=function(v){var N=(v=v||{}).rootDictionaryObjId||vs;switch(gn(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+N+" 0 R"),Gt||(Gt="fullwidth"),Gt){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var V=""+Gt;V.substr(V.length-1)==="%"&&(Gt=parseInt(Gt)/100),typeof Gt=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+bt(Gt)+"]")}switch(Ne||(Ne="continuous"),Ne){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}_e&&Q("/PageMode /"+_e),We.publish("putCatalog"),Q(">>"),Q("endobj")},Cc=y.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(et+1)),Q("/Root "+et+" 0 R"),Q("/Info "+(et-1)+" 0 R"),m!==null&&Q("/Encrypt "+yn.oid+" 0 R"),Q("/ID [ <"+wt+"> <"+wt+"> ]"),Q(">>")},Nl=y.__private__.putHeader=function(){Q("%PDF-"+A),Q("%")},kc=y.__private__.putXRef=function(){var v="0000000000";Q("xref"),Q("0 "+(et+1)),Q("0000000000 65535 f ");for(var N=1;N<=et;N++)typeof pt[N]=="function"?Q((v+pt[N]()).slice(-10)+" 00000 n "):pt[N]!==void 0?Q((v+pt[N]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},Ki=y.__private__.buildDocument=function(){de(),Dt(vt),We.publish("buildDocument"),Nl(),Qs(),Sc(),bc(),m!==null&&_c(),Ve(),Ta();var v=yt;return kc(),Cc(),Q("startxref"),Q(""+v),Q("%%EOF"),Dt(Ut[z]),vt.join(`
`)},Io=y.__private__.getBlob=function(v){return new Blob([oe(v)],{type:"application/pdf"})},no=y.output=y.__private__.output=Dr(function(v,N){switch(typeof(N=N||{})=="string"?N={filename:N}:N.filename=N.filename||"generated.pdf",v){case void 0:return Ki();case"save":y.save(N.filename);break;case"arraybuffer":return oe(Ki());case"blob":return Io(Ki());case"bloburi":case"bloburl":if(we.URL!==void 0&&typeof we.URL.createObjectURL=="function")return we.URL&&we.URL.createObjectURL(Io(Ki()))||void 0;fn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var V="",it=Ki();try{V=Op(it)}catch{V=Op(unescape(encodeURIComponent(it)))}return"data:application/pdf;filename="+N.filename+";base64,"+V;case"pdfobjectnewwindow":if(Object.prototype.toString.call(we)==="[object Window]"){var xt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ot=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';N.pdfObjectUrl&&(xt=N.pdfObjectUrl,Ot="");var Rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+xt+'"'+Ot+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(N)+");<\/script></body></html>",Zt=we.open();return Zt!==null&&Zt.document.write(Rt),Zt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(we)==="[object Window]"){var ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(N.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+N.filename+'" width="500px" height="400px" /></body></html>',Le=we.open();if(Le!==null){Le.document.write(ue);var ke=this;Le.document.documentElement.querySelector("#pdfViewer").onload=function(){Le.document.title=N.filename,Le.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ke.output("bloburl"))}}return Le}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(we)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",N)+'"></iframe></body></html>',wn=we.open();if(wn!==null&&(wn.document.write(Fe),wn.document.title=N.filename),wn||typeof safari>"u")return wn;break;case"datauri":case"dataurl":return we.document.location.href=this.output("datauristring",N);default:return null}}),Ro=function(v){return Array.isArray(Ks)===!0&&Ks.indexOf(v)>-1};switch(n){case"pt":Jt=1;break;case"mm":Jt=72/25.4;break;case"cm":Jt=72/2.54;break;case"in":Jt=72;break;case"px":Jt=Ro("px_scaling")==1?.75:96/72;break;case"pc":case"em":Jt=12;break;case"ex":Jt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Jt=n}var yn=null;K(),X();var Ji=function(v){return m!==null?yn.encryptor(v,0):function(N){return N}},ji=y.__private__.getPageInfo=y.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:be[v].objId,pageNumber:v,pageContext:be[v]}},me=y.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var N in be)if(be[N].objId===v)break;return ji(N)},Bo=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:be[z].objId,pageNumber:z,pageContext:be[z]}};y.addPage=function(){return Tl.apply(this,arguments),this},y.setPage=function(){return eo.apply(this,arguments),Dt.call(this,Ut[z]),this},y.insertPage=function(v){return this.addPage(),this.movePage(z,v),this},y.movePage=function(v,N){var V,it;if(v>N){V=Ut[v],it=be[v];for(var xt=v;xt>N;xt--)Ut[xt]=Ut[xt-1],be[xt]=be[xt-1];Ut[N]=V,be[N]=it,this.setPage(N)}else if(v<N){V=Ut[v],it=be[v];for(var Ot=v;Ot<N;Ot++)Ut[Ot]=Ut[Ot+1],be[Ot]=be[Ot+1];Ut[N]=V,be[N]=it,this.setPage(N)}return this},y.deletePage=function(){return Pl.apply(this,arguments),this},y.__private__.text=y.text=function(v,N,V,it,xt){var Ot,Rt,Zt,ue,Le,ke,Fe,wn,bn,Nn=(it=it||{}).scope||this;if(typeof v=="number"&&typeof N=="number"&&(typeof V=="string"||Array.isArray(V))){var or=V;V=N,N=v,v=or}if(arguments[3]instanceof he?(q("The transform parameter of text() with a Matrix value"),bn=xt):(Zt=arguments[4],ue=arguments[5],ln(Fe=arguments[3])==="object"&&Fe!==null||(typeof Zt=="string"&&(ue=Zt,Zt=null),typeof Fe=="string"&&(ue=Fe,Fe=null),typeof Fe=="number"&&(Zt=Fe,Fe=null),it={flags:Fe,angle:Zt,align:ue})),isNaN(N)||isNaN(V)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Nn;var Yn="",Bi=!1,ei=typeof it.lineHeightFactor=="number"?it.lineHeightFactor:zo,vi=Nn.internal.scaleFactor;function co(rn){return rn=rn.split("	").join(Array(it.TabLen||9).join(" ")),Mr(rn,Fe)}function Il(rn){for(var Ke,Cn=rn.concat(),On=[],rs=Cn.length;rs--;)typeof(Ke=Cn.shift())=="string"?On.push(Ke):Array.isArray(rn)&&(Ke.length===1||Ke[1]===void 0&&Ke[2]===void 0)?On.push(Ke[0]):On.push([Ke[0],Ke[1],Ke[2]]);return On}function Ra(rn,Ke){var Cn;if(typeof rn=="string")Cn=Ke(rn)[0];else if(Array.isArray(rn)){for(var On,rs,Ga=rn.concat(),Jo=[],zl=Ga.length;zl--;)typeof(On=Ga.shift())=="string"?Jo.push(Ke(On)[0]):Array.isArray(On)&&typeof On[0]=="string"&&(rs=Ke(On[0],On[1],On[2]),Jo.push([rs[0],rs[1],rs[2]]));Cn=Jo}return Cn}var Vo=!1,Ba=!0;if(typeof v=="string")Vo=!0;else if(Array.isArray(v)){var za=v.concat();Rt=[];for(var Ho,Sn=za.length;Sn--;)(typeof(Ho=za.shift())!="string"||Array.isArray(Ho)&&typeof Ho[0]!="string")&&(Ba=!1);Vo=Ba}if(Vo===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var Ua=Ht/Nn.internal.scaleFactor,qa=Ua*(ei-1);switch(it.baseline){case"bottom":V-=qa;break;case"top":V+=Ua-qa;break;case"hanging":V+=Ua-2*qa;break;case"middle":V+=Ua/2-qa}if((ke=it.maxWidth||0)>0&&(typeof v=="string"?v=Nn.splitTextToSize(v,ke):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(rn,Ke){return rn.concat(Nn.splitTextToSize(Ke,ke))},[]))),Ot={text:v,x:N,y:V,options:it,mutex:{pdfEscape:Mr,activeFontKey:Pe,fonts:nn,activeFontSize:Ht}},We.publish("preProcessText",Ot),v=Ot.text,Zt=(it=Ot.options).angle,!(bn instanceof he)&&Zt&&typeof Zt=="number"){Zt*=Math.PI/180,it.rotationDirection===0&&(Zt=-Zt),Y===F.ADVANCED&&(Zt=-Zt);var Wa=Math.cos(Zt),Va=Math.sin(Zt);bn=new he(Wa,Va,-Va,Wa,0,0)}else Zt&&Zt instanceof he&&(bn=Zt);Y!==F.ADVANCED||bn||(bn=Or),(Le=it.charSpace||oo)!==void 0&&(Yn+=tt(B(Le))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(wn=it.horizontalScale)!==void 0&&(Yn+=tt(100*wn)+` Tz
`),it.lang;var vr=-1,Yo=it.renderingMode!==void 0?it.renderingMode:it.stroke,xs=Nn.internal.getCurrentPageInfo().pageContext;switch(Yo){case 0:case!1:case"fill":vr=0;break;case 1:case!0:case"stroke":vr=1;break;case 2:case"fillThenStroke":vr=2;break;case 3:case"invisible":vr=3;break;case 4:case"fillAndAddForClipping":vr=4;break;case 5:case"strokeAndAddPathForClipping":vr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":vr=6;break;case 7:case"addToPathForClipping":vr=7}var Pc=xs.usedRenderingMode!==void 0?xs.usedRenderingMode:-1;vr!==-1?Yn+=vr+` Tr
`:Pc!==-1&&(Yn+=`0 Tr
`),vr!==-1&&(xs.usedRenderingMode=vr),ue=it.align||"left";var yr,Ha=Ht*ei,Rl=Nn.internal.pageSize.getWidth(),Ya=nn[Pe];Le=it.charSpace||oo,ke=it.maxWidth||0,Fe=Object.assign({autoencode:!0,noBOM:!0},it.flags);var es=[],uo=function(rn){return Nn.getStringUnitWidth(rn,{font:Ya,charSpace:Le,fontSize:Ht,doKerning:!1})*Ht/vi};if(Object.prototype.toString.call(v)==="[object Array]"){var wr;Rt=Il(v),ue!=="left"&&(yr=Rt.map(uo));var ar,ho=0;if(ue==="right"){N-=yr[0],v=[],Sn=Rt.length;for(var _s=0;_s<Sn;_s++)_s===0?(ar=gi(N),wr=mi(V)):(ar=B(ho-yr[_s]),wr=-Ha),v.push([Rt[_s],ar,wr]),ho=yr[_s]}else if(ue==="center"){N-=yr[0]/2,v=[],Sn=Rt.length;for(var bs=0;bs<Sn;bs++)bs===0?(ar=gi(N),wr=mi(V)):(ar=B((ho-yr[bs])/2),wr=-Ha),v.push([Rt[bs],ar,wr]),ho=yr[bs]}else if(ue==="left"){v=[],Sn=Rt.length;for(var Xa=0;Xa<Sn;Xa++)v.push(Rt[Xa])}else if(ue==="justify"&&Ya.encoding==="Identity-H"){v=[],Sn=Rt.length,ke=ke!==0?ke:Rl;for(var Ss=0,He=0;He<Sn;He++)if(wr=He===0?mi(V):-Ha,ar=He===0?gi(N):Ss,He<Sn-1){var Cs=B((ke-yr[He])/(Rt[He].split(" ").length-1)),lr=Rt[He].split(" ");v.push([lr[0]+" ",ar,wr]),Ss=0;for(var ni=1;ni<lr.length;ni++){var Xo=(uo(lr[ni-1]+" "+lr[ni])-uo(lr[ni]))*vi+Cs;ni==lr.length-1?v.push([lr[ni],Xo,0]):v.push([lr[ni]+" ",Xo,0]),Ss-=Xo}}else v.push([Rt[He],ar,wr]);v.push(["",Ss,0])}else{if(ue!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Sn=Rt.length,ke=ke!==0?ke:Rl,He=0;He<Sn;He++)wr=He===0?mi(V):-Ha,ar=He===0?gi(N):0,He<Sn-1?es.push(tt(B((ke-yr[He])/(Rt[He].split(" ").length-1)))):es.push(0),v.push([Rt[He],ar,wr])}}var Bl=typeof it.R2L=="boolean"?it.R2L:ce;Bl===!0&&(v=Ra(v,function(rn,Ke,Cn){return[rn.split("").reverse().join(""),Ke,Cn]})),Ot={text:v,x:N,y:V,options:it,mutex:{pdfEscape:Mr,activeFontKey:Pe,fonts:nn,activeFontSize:Ht}},We.publish("postProcessText",Ot),v=Ot.text,Bi=Ot.mutex.isHex||!1;var Go=nn[Pe].encoding;Go!=="WinAnsiEncoding"&&Go!=="StandardEncoding"||(v=Ra(v,function(rn,Ke,Cn){return[co(rn),Ke,Cn]})),Rt=Il(v),v=[];for(var $o,Ko,ri,ks=0,ns=1,Ls=Array.isArray(Rt[0])?ns:ks,As="",fo=function(rn,Ke,Cn){var On="";return Cn instanceof he?(Cn=typeof it.angle=="number"?Jr(Cn,new he(1,0,0,1,rn,Ke)):Jr(new he(1,0,0,1,rn,Ke),Cn),Y===F.ADVANCED&&(Cn=Jr(new he(1,0,0,-1,0,0),Cn)),On=Cn.join(" ")+` Tm
`):On=tt(rn)+" "+tt(Ke)+` Td
`,On},Jn=0;Jn<Rt.length;Jn++){switch(As="",Ls){case ns:ri=(Bi?"<":"(")+Rt[Jn][0]+(Bi?">":")"),$o=parseFloat(Rt[Jn][1]),Ko=parseFloat(Rt[Jn][2]);break;case ks:ri=(Bi?"<":"(")+Rt[Jn]+(Bi?">":")"),$o=gi(N),Ko=mi(V)}es!==void 0&&es[Jn]!==void 0&&(As=es[Jn]+` Tw
`),Jn===0?v.push(As+fo($o,Ko,bn)+ri):Ls===ks?v.push(As+ri):Ls===ns&&v.push(As+fo($o,Ko,bn)+ri)}v=Ls===ks?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Fr=`BT
/`;return Fr+=Pe+" "+Ht+` Tf
`,Fr+=tt(Ht*ei)+` TL
`,Fr+=Fn+`
`,Fr+=Yn,Fr+=v,Q(Fr+="ET"),b[Pe]=!0,Nn};var Qi=y.__private__.clip=y.clip=function(v){return Q(v==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Qi("evenodd")},y.__private__.discardPath=y.discardPath=function(){return Q("n"),this};var Zi=y.__private__.isValidStyle=function(v){var N=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(N=!0),N};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(v){return Zi(v)&&(p=v),this};var Ol=y.__private__.getStyle=y.getStyle=function(v){var N=p;switch(v){case"D":case"S":N="S";break;case"F":N="f";break;case"FD":case"DF":N="B";break;case"f":case"f*":case"B":case"B*":N=v}return N},ro=y.close=function(){return Q("h"),this};y.stroke=function(){return Q("S"),this},y.fill=function(v){return Pa("f",v),this},y.fillEvenOdd=function(v){return Pa("f*",v),this},y.fillStroke=function(v){return Pa("B",v),this},y.fillStrokeEvenOdd=function(v){return Pa("B*",v),this};var Pa=function(v,N){ln(N)==="object"?Lc(N,v):Q(v)},Na=function(v){v===null||Y===F.ADVANCED&&v===void 0||(v=Ol(v),Q(v))};function Oa(v,N,V,it,xt){var Ot=new iu(N||this.boundingBox,V||this.xStep,it||this.yStep,this.gState,xt||this.matrix);Ot.stream=this.stream;var Rt=v+"$$"+this.cloneIndex+++"$$";return Er(Rt,Ot),Ot}var Lc=function(v,N){var V=ms[v.key],it=Be[V];if(it instanceof hc)Q("q"),Q(_u(N)),it.gState&&y.setGState(it.gState),Q(v.matrix.toString()+" cm"),Q("/"+V+" sh"),Q("Q");else if(it instanceof iu){var xt=new he(1,0,0,-1,0,lo());v.matrix&&(xt=xt.multiply(v.matrix||Or),V=Oa.call(it,v.key,v.boundingBox,v.xStep,v.yStep,xt).id),Q("q"),Q("/Pattern cs"),Q("/"+V+" scn"),it.gState&&y.setGState(it.gState),Q(N),Q("Q")}},_u=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ys=y.moveTo=function(v,N){return Q(tt(B(v))+" "+tt(H(N))+" m"),this},Fi=y.lineTo=function(v,N){return Q(tt(B(v))+" "+tt(H(N))+" l"),this},ti=y.curveTo=function(v,N,V,it,xt,Ot){return Q([tt(B(v)),tt(H(N)),tt(B(V)),tt(H(it)),tt(B(xt)),tt(H(Ot)),"c"].join(" ")),this};y.__private__.line=y.line=function(v,N,V,it,xt){if(isNaN(v)||isNaN(N)||isNaN(V)||isNaN(it)||!Zi(xt))throw new Error("Invalid arguments passed to jsPDF.line");return Y===F.COMPAT?this.lines([[V-v,it-N]],v,N,[1,1],xt||"S"):this.lines([[V-v,it-N]],v,N,[1,1]).stroke()},y.__private__.lines=y.lines=function(v,N,V,it,xt,Ot){var Rt,Zt,ue,Le,ke,Fe,wn,bn,Nn,or,Yn,Bi;if(typeof v=="number"&&(Bi=V,V=N,N=v,v=Bi),it=it||[1,1],Ot=Ot||!1,isNaN(N)||isNaN(V)||!Array.isArray(v)||!Array.isArray(it)||!Zi(xt)||typeof Ot!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ys(N,V),Rt=it[0],Zt=it[1],Le=v.length,or=N,Yn=V,ue=0;ue<Le;ue++)(ke=v[ue]).length===2?(or=ke[0]*Rt+or,Yn=ke[1]*Zt+Yn,Fi(or,Yn)):(Fe=ke[0]*Rt+or,wn=ke[1]*Zt+Yn,bn=ke[2]*Rt+or,Nn=ke[3]*Zt+Yn,or=ke[4]*Rt+or,Yn=ke[5]*Zt+Yn,ti(Fe,wn,bn,Nn,or,Yn));return Ot&&ro(),Na(xt),this},y.path=function(v){for(var N=0;N<v.length;N++){var V=v[N],it=V.c;switch(V.op){case"m":ys(it[0],it[1]);break;case"l":Fi(it[0],it[1]);break;case"c":ti.apply(this,it);break;case"h":ro()}}return this},y.__private__.rect=y.rect=function(v,N,V,it,xt){if(isNaN(v)||isNaN(N)||isNaN(V)||isNaN(it)||!Zi(xt))throw new Error("Invalid arguments passed to jsPDF.rect");return Y===F.COMPAT&&(it=-it),Q([tt(B(v)),tt(H(N)),tt(B(V)),tt(B(it)),"re"].join(" ")),Na(xt),this},y.__private__.triangle=y.triangle=function(v,N,V,it,xt,Ot,Rt){if(isNaN(v)||isNaN(N)||isNaN(V)||isNaN(it)||isNaN(xt)||isNaN(Ot)||!Zi(Rt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[V-v,it-N],[xt-V,Ot-it],[v-xt,N-Ot]],v,N,[1,1],Rt,!0),this},y.__private__.roundedRect=y.roundedRect=function(v,N,V,it,xt,Ot,Rt){if(isNaN(v)||isNaN(N)||isNaN(V)||isNaN(it)||isNaN(xt)||isNaN(Ot)||!Zi(Rt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Zt=4/3*(Math.SQRT2-1);return xt=Math.min(xt,.5*V),Ot=Math.min(Ot,.5*it),this.lines([[V-2*xt,0],[xt*Zt,0,xt,Ot-Ot*Zt,xt,Ot],[0,it-2*Ot],[0,Ot*Zt,-xt*Zt,Ot,-xt,Ot],[2*xt-V,0],[-xt*Zt,0,-xt,-Ot*Zt,-xt,-Ot],[0,2*Ot-it],[0,-Ot*Zt,xt*Zt,-Ot,xt,-Ot]],v+xt,N,[1,1],Rt,!0),this},y.__private__.ellipse=y.ellipse=function(v,N,V,it,xt){if(isNaN(v)||isNaN(N)||isNaN(V)||isNaN(it)||!Zi(xt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ot=4/3*(Math.SQRT2-1)*V,Rt=4/3*(Math.SQRT2-1)*it;return ys(v+V,N),ti(v+V,N-Rt,v+Ot,N-it,v,N-it),ti(v-Ot,N-it,v-V,N-Rt,v-V,N),ti(v-V,N+Rt,v-Ot,N+it,v,N+it),ti(v+Ot,N+it,v+V,N+Rt,v+V,N),Na(xt),this},y.__private__.circle=y.circle=function(v,N,V,it){if(isNaN(v)||isNaN(N)||isNaN(V)||!Zi(it))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,N,V,V,it)},y.setFont=function(v,N,V){return V&&(N=mt(N,V)),Pe=Aa(v,N,{disableWarning:!1}),this};var Ea=y.__private__.getFont=y.getFont=function(){return nn[Aa.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var v,N,V={};for(v in cn)if(cn.hasOwnProperty(v))for(N in V[v]=[],cn[v])cn[v].hasOwnProperty(N)&&V[v].push(N);return V},y.addFont=function(v,N,V,it,xt){var Ot=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ot.indexOf(arguments[3])!==-1?xt=arguments[3]:arguments[3]&&Ot.indexOf(arguments[3])==-1&&(V=mt(V,it)),xt=xt||"Identity-H",to.call(this,v,N,V,xt)};var zo,El=a.lineWidth||.200025,io=y.__private__.getLineWidth=y.getLineWidth=function(){return El},Uo=y.__private__.setLineWidth=y.setLineWidth=function(v){return El=v,Q(tt(B(v))+" w"),this};y.__private__.setLineDash=ye.API.setLineDash=ye.API.setLineDashPattern=function(v,N){if(v=v||[],N=N||0,isNaN(N)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(V){return tt(B(V))}).join(" "),N=tt(B(N)),Q("["+v+"] "+N+" d"),this};var Da=y.__private__.getLineHeight=y.getLineHeight=function(){return Ht*zo};y.__private__.getLineHeight=y.getLineHeight=function(){return Ht*zo};var Dl=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(zo=v),this},Ii=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return zo};Dl(a.lineHeight);var gi=y.__private__.getHorizontalCoordinate=function(v){return B(v)},mi=y.__private__.getVerticalCoordinate=function(v){return Y===F.ADVANCED?v:be[z].mediaBox.topRightY-be[z].mediaBox.bottomLeftY-B(v)},Ac=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(v){return tt(gi(v))},Ri=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(v){return tt(mi(v))},jr=a.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Di(jr)},y.__private__.setStrokeColor=y.setDrawColor=function(v,N,V,it){return jr=Kn({ch1:v,ch2:N,ch3:V,ch4:it,pdfColorType:"draw",precision:2}),Q(jr),this};var Ma=a.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Di(Ma)},y.__private__.setFillColor=y.setFillColor=function(v,N,V,it){return Ma=Kn({ch1:v,ch2:N,ch3:V,ch4:it,pdfColorType:"fill",precision:2}),Q(Ma),this};var Fn=a.textColor||"0 g",so=y.__private__.getTextColor=y.getTextColor=function(){return Di(Fn)};y.__private__.setTextColor=y.setTextColor=function(v,N,V,it){return Fn=Kn({ch1:v,ch2:N,ch3:V,ch4:it,pdfColorType:"text",precision:3}),this};var oo=a.charSpace,qo=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(oo||0)};y.__private__.setCharSpace=y.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return oo=v,this};var Ml=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(v){var N=y.CapJoinStyles[v];if(N===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ml=N,Q(N+" J"),this};var Wo=0;y.__private__.setLineJoin=y.setLineJoin=function(v){var N=y.CapJoinStyles[v];if(N===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wo=N,Q(N+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(tt(B(v))+" M"),this},y.GState=Bf,y.setGState=function(v){(v=typeof v=="string"?dn[ir[v]]:ja(null,v)).equals(Nr)||(Q("/"+v.id+" gs"),Nr=v)};var ja=function(v,N){if(!v||!ir[v]){var V=!1;for(var it in dn)if(dn.hasOwnProperty(it)&&dn[it].equals(N)){V=!0;break}if(V)N=dn[it];else{var xt="GS"+(Object.keys(dn).length+1).toString(10);dn[xt]=N,N.id=xt}return v&&(ir[v]=N.id),We.publish("addGState",N),N}};y.addGState=function(v,N){return ja(v,N),this},y.saveGraphicsState=function(){return Q("q"),fi.push({key:Pe,size:Ht,color:Fn}),this},y.restoreGraphicsState=function(){Q("Q");var v=fi.pop();return Pe=v.key,Ht=v.size,Fn=v.color,Nr=null,this},y.setCurrentTransformationMatrix=function(v){return Q(v.toString()+" cm"),this},y.comment=function(v){return Q("#"+v),this};var ts=function(v,N){var V=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return V},set:function(Ot){isNaN(Ot)||(V=parseFloat(Ot))}});var it=N||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return it},set:function(Ot){isNaN(Ot)||(it=parseFloat(Ot))}});var xt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return xt},set:function(Ot){xt=Ot.toString()}}),this},ao=function(v,N,V,it){ts.call(this,v,N),this.type="rect";var xt=V||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return xt},set:function(Rt){isNaN(Rt)||(xt=parseFloat(Rt))}});var Ot=it||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ot},set:function(Rt){isNaN(Rt)||(Ot=parseFloat(Rt))}}),this},Fa=function(){this.page=pn,this.currentPage=z,this.pages=Ut.slice(0),this.pagesContext=be.slice(0),this.x=rr,this.y=Re,this.matrix=hi,this.width=ws(z),this.height=lo(z),this.outputDestination=Xt,this.id="",this.objectNumber=-1};Fa.prototype.restore=function(){pn=this.page,z=this.currentPage,be=this.pagesContext,Ut=this.pages,rr=this.x,Re=this.y,hi=this.matrix,jl(z,this.width),Fl(z,this.height),Xt=this.outputDestination};var Tc=function(v,N,V,it,xt){Oi.push(new Fa),pn=z=0,Ut=[],rr=v,Re=N,hi=xt,Fo([V,it])},bu=function(v){if(di[v])Oi.pop().restore();else{var N=new Fa,V="Xo"+(Object.keys(Hn).length+1).toString(10);N.id=V,di[v]=V,Hn[V]=N,We.publish("addFormObject",N),Oi.pop().restore()}};for(var Ia in y.beginFormObject=function(v,N,V,it,xt){return Tc(v,N,V,it,xt),this},y.endFormObject=function(v){return bu(v),this},y.doFormObject=function(v,N){var V=Hn[di[v]];return Q("q"),Q(N.toString()+" cm"),Q("/"+V.id+" Do"),Q("Q"),this},y.getFormObject=function(v){var N=Hn[di[v]];return{x:N.x,y:N.y,width:N.width,height:N.height,matrix:N.matrix}},y.save=function(v,N){return v=v||"generated.pdf",(N=N||{}).returnPromise=N.returnPromise||!1,N.returnPromise===!1?(ac(Io(Ki()),v),typeof ac.unload=="function"&&we.setTimeout&&setTimeout(ac.unload,911),this):new Promise(function(V,it){try{var xt=ac(Io(Ki()),v);typeof ac.unload=="function"&&we.setTimeout&&setTimeout(ac.unload,911),V(xt)}catch(Ot){it(Ot.message)}})},ye.API)ye.API.hasOwnProperty(Ia)&&(Ia==="events"&&ye.API.events.length?function(v,N){var V,it,xt;for(xt=N.length-1;xt!==-1;xt--)V=N[xt][0],it=N[xt][1],v.subscribe.apply(v,[V].concat(typeof it=="function"?[it]:it))}(We,ye.API.events):y[Ia]=ye.API[Ia]);var ws=y.getPageWidth=function(v){return(be[v=v||z].mediaBox.topRightX-be[v].mediaBox.bottomLeftX)/Jt},jl=y.setPageWidth=function(v,N){be[v].mediaBox.topRightX=N*Jt+be[v].mediaBox.bottomLeftX},lo=y.getPageHeight=function(v){return(be[v=v||z].mediaBox.topRightY-be[v].mediaBox.bottomLeftY)/Jt},Fl=y.setPageHeight=function(v,N){be[v].mediaBox.topRightY=N*Jt+be[v].mediaBox.bottomLeftY};return y.internal={pdfEscape:Mr,getStyle:Ol,getFont:Ea,getFontSize:$t,getCharSpace:qo,getTextColor:so,getLineHeight:Da,getLineHeightFactor:Ii,getLineWidth:io,write:xe,getHorizontalCoordinate:gi,getVerticalCoordinate:mi,getCoordinateString:Ac,getVerticalCoordinateString:Ri,collections:{},newObject:gn,newAdditionalObject:Js,newObjectDeferred:mn,newObjectDeferredBegin:sr,getFilters:Mi,putStream:Qr,events:We,scaleFactor:Jt,pageSize:{getWidth:function(){return ws(z)},setWidth:function(v){jl(z,v)},getHeight:function(){return lo(z)},setHeight:function(v){Fl(z,v)}},encryptionOptions:m,encryption:yn,getEncryptor:Ji,output:no,getNumberOfPages:xu,pages:Ut,out:Q,f2:bt,f3:R,getPageInfo:ji,getPageInfoByObjId:me,getCurrentPageInfo:Bo,getPDFVersion:k,Point:ts,Rectangle:ao,Matrix:he,hasHotfix:Ro},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return ws(z)},set:function(v){jl(z,v)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return lo(z)},set:function(v){Fl(z,v)},enumerable:!0,configurable:!0}),jo.call(y,qt),Pe="F1",Tl(i,e),We.publish("initialized"),y}Zc.prototype.lsbFirstWord=function(a){return String.fromCharCode(a>>0&255,a>>8&255,a>>16&255,a>>24&255)},Zc.prototype.toHexString=function(a){return a.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Zc.prototype.hexToBytes=function(a){for(var t=[],e=0;e<a.length;e+=2)t.push(String.fromCharCode(parseInt(a.substr(e,2),16)));return t.join("")},Zc.prototype.processOwnerPassword=function(a,t){return Dp(Ep(t).substr(0,5),a)},Zc.prototype.encryptor=function(a,t){var e=Ep(this.encryptionKey+String.fromCharCode(255&a,a>>8&255,a>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Dp(e,n)}},Bf.prototype.equals=function(a){var t,e="id,objectNumber,equals";if(!a||ln(a)!==ln(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!a.hasOwnProperty(t)||this[t]!==a[t])return!1;n++}for(t in a)a.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},ye.API={events:[]},ye.version="2.5.2";var jn=ye.API,ag=1,wc=function(a){return a.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Kc=function(a){return a.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Te=function(a){return a.toFixed(2)},vl=function(a){return a.toFixed(5)};jn.__acroform__={};var Ni=function(a,t){a.prototype=Object.create(t.prototype),a.prototype.constructor=a},l1=function(a){return a*ag},_o=function(a){var t=new I2,e=se.internal.getHeight(a)||0,n=se.internal.getWidth(a)||0;return t.BBox=[0,0,Number(Te(n)),Number(Te(e))],t},By=jn.__acroform__.setBit=function(a,t){if(a=a||0,t=t||0,isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return a|=1<<t},zy=jn.__acroform__.clearBit=function(a,t){if(a=a||0,t=t||0,isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return a&=~(1<<t)},Uy=jn.__acroform__.getBit=function(a,t){if(isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return a&1<<t?1:0},Un=jn.__acroform__.getBitForPdf=function(a,t){if(isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Uy(a,t-1)},qn=jn.__acroform__.setBitForPdf=function(a,t){if(isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return By(a,t-1)},Wn=jn.__acroform__.clearBitForPdf=function(a,t){if(isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return zy(a,t-1)},qy=jn.__acroform__.calculateCoordinates=function(a,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=a[0],s=a[1],l=a[2],c=a[3],h={};return h.lowerLeft_X=e(i)||0,h.lowerLeft_Y=n(s+c)||0,h.upperRight_X=e(i+l)||0,h.upperRight_Y=n(s)||0,[Number(Te(h.lowerLeft_X)),Number(Te(h.lowerLeft_Y)),Number(Te(h.upperRight_X)),Number(Te(h.upperRight_Y))]},Wy=function(a){if(a.appearanceStreamContent)return a.appearanceStreamContent;if(a.V||a.DV){var t=[],e=a._V||a.DV,n=Mp(a,e),i=a.scope.internal.getFont(a.fontName,a.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(a.scope.__private__.encodeColorString(a.color)),t.push("/"+i+" "+Te(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=_o(a);return s.scope=a.scope,s.stream=t.join(`
`),s}},Mp=function(a,t){var e=a.fontSize===0?a.maxFontSize:a.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=a.multiline?i.map(function(R){return R.split(`
`)}):i.map(function(R){return[R]});var s=e,l=se.internal.getHeight(a)||0;l=l<0?-l:l;var c=se.internal.getWidth(a)||0;c=c<0?-c:c;var h=function(R,B,G){if(R+1<i.length){var H=B+" "+i[R+1][0];return pf(H,a,G).width<=c-4}return!1};s++;t:for(;s>0;){t="",s--;var p,m,w=pf("3",a,s).height,b=a.multiline?l-s:(l-w)/2,y=b+=2,A=0,k=0,O=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+pf(t,a,s=12).width+", FieldWidth:"+c+`
`;break}for(var T="",F=0,Y=0;Y<i.length;Y++)if(i.hasOwnProperty(Y)){var st=!1;if(i[Y].length!==1&&O!==i[Y].length-1){if((w+2)*(F+2)+2>l)continue t;T+=i[Y][O],st=!0,k=Y,Y--}else{T=(T+=i[Y][O]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var Z=parseInt(Y),mt=h(Z,T,s),tt=Y>=i.length-1;if(mt&&!tt){T+=" ",O=0;continue}if(mt||tt){if(tt)k=Z;else if(a.multiline&&(w+2)*(F+2)+2>l)continue t}else{if(!a.multiline||(w+2)*(F+2)+2>l)continue t;k=Z}}for(var q="",dt=A;dt<=k;dt++){var bt=i[dt];if(a.multiline){if(dt===k){q+=bt[O]+" ",O=(O+1)%bt.length;continue}if(dt===A){q+=bt[bt.length-1]+" ";continue}}q+=bt[0]+" "}switch(q=q.substr(q.length-1)==" "?q.substr(0,q.length-1):q,m=pf(q,a,s).width,a.textAlign){case"right":p=c-m-2;break;case"center":p=(c-m)/2;break;case"left":default:p=2}t+=Te(p)+" "+Te(y)+` Td
`,t+="("+wc(q)+`) Tj
`,t+=-Te(p)+` 0 Td
`,y=-(s+2),m=0,A=st?k:k+1,F++,T=""}break}return n.text=t,n.fontSize=s,n},pf=function(a,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(a,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:i}},Vy={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Hy=function(a,t){var e={type:"reference",object:a};t.internal.getPageInfo(a.page).pageContext.annotations.find(function(n){return n.type===e.type&&n.object===e.object})===void 0&&t.internal.getPageInfo(a.page).pageContext.annotations.push(e)},Yy=function(a,t){for(var e in a)if(a.hasOwnProperty(e)){var n=e,i=a[e];t.internal.newObjectDeferredBegin(i.objId,!0),ln(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete a[n]}},Xy=function(a,t){if(t.scope=a,a.internal!==void 0&&(a.internal.acroformPlugin===void 0||a.internal.acroformPlugin.isInitialized===!1)){if(Gs.FieldNum=0,a.internal.acroformPlugin=JSON.parse(JSON.stringify(Vy)),a.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ag=a.internal.scaleFactor,a.internal.acroformPlugin.acroFormDictionaryRoot=new R2,a.internal.acroformPlugin.acroFormDictionaryRoot.scope=a,a.internal.acroformPlugin.acroFormDictionaryRoot._eventID=a.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(a)}),a.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&Hy(s,e)}})(a)}),a.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(a)}),a.internal.events.subscribe("postPutPages",function(e){(function(n,i){var s=!n;for(var l in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var c=n[l],h=[],p=c.Rect;if(c.Rect&&(c.Rect=qy(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=se.createDefaultAppearanceStream(c),ln(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(h=c.getKeyValueListForStream()),c.Rect=p,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=Wy(c);h.push({key:"AP",value:"<</N "+m+">>"}),i.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var w="";for(var b in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(b)){var y=c.appearanceStreamContent[b];if(w+="/"+b+" ",w+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var l in y)if(y.hasOwnProperty(l)){var A=y[l];typeof A=="function"&&(A=A.call(i,c)),w+="/"+l+" "+A+" ",i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A)}}else typeof(A=y)=="function"&&(A=A.call(i,c)),w+="/"+l+" "+A,i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A);w+=">>"}h.push({key:"AP",value:`<<
`+w+">>"})}i.internal.putStream({additionalKeyValues:h,objectId:c.objId}),i.internal.out("endobj")}s&&Yy(i.internal.acroformPlugin.xForms,i)})(e,a)}),a.internal.acroformPlugin.isInitialized=!0}},F2=jn.__acroform__.arrayToPdfArray=function(a,t,e){var n=function(l){return l};if(Array.isArray(a)){for(var i="[",s=0;s<a.length;s++)switch(s!==0&&(i+=" "),ln(a[s])){case"boolean":case"number":case"object":i+=a[s].toString();break;case"string":a[s].substr(0,1)!=="/"?(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),i+="("+wc(n(a[s].toString()))+")"):i+=a[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},cp=function(a,t,e){var n=function(i){return i};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(a=a||"").toString(),a="("+wc(n(a))+")"},ko=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(a){this._objId=a}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ko.prototype.toString=function(){return this.objId+" 0 R"},ko.prototype.putStream=function(){var a=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:a,objectId:this.objId}),this.scope.internal.out("endobj")},ko.prototype.getKeyValueListForStream=function(){var a=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],i=this[n];i&&(Array.isArray(i)?a.push({key:n,value:F2(i,this.objId,this.scope)}):i instanceof ko?(i.scope=this.scope,a.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&a.push({key:n,value:i}))}return a};var I2=function(){ko.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var a,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){a=e.trim()},get:function(){return a||null}})};Ni(I2,ko);var R2=function(){ko.call(this);var a,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(a){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+wc(e(a))+")"}},set:function(e){a=e}})};Ni(R2,ko);var Gs=function a(){ko.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');t=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Un(t,3)},set:function(T){T?this.F=qn(t,3):this.F=Wn(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');e=T}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(T){n=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(T){n[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(T){n[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(T){n[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(T){n[3]=T}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof zf)return;s="FieldObject"+a.FieldNum++}var T=function(F){return F};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+wc(T(s))+")"},set:function(T){s=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(T){s=T}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(T){l=T}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(T){c=T}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(T){h=T}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/ag:p},set:function(T){p=T}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(T){m=T}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof zf||this instanceof gc))return cp(w,this.objId,this.scope)},set:function(T){T=T.toString(),w=T}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof mr?b:cp(b,this.objId,this.scope)},set:function(T){T=T.toString(),b=this instanceof mr?T:T.substr(0,1)==="("?Kc(T.substr(1,T.length-2)):Kc(T)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mr?Kc(b.substr(1,b.length-1)):b},set:function(T){T=T.toString(),b=this instanceof mr?"/"+T:T}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof mr?y:cp(y,this.objId,this.scope)},set:function(T){T=T.toString(),y=this instanceof mr?T:T.substr(0,1)==="("?Kc(T.substr(1,T.length-2)):Kc(T)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mr?Kc(y.substr(1,y.length-1)):y},set:function(T){T=T.toString(),y=this instanceof mr?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(T){T=!!T,k=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(T){A=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,1)},set:function(T){T?this.Ff=qn(this.Ff,1):this.Ff=Wn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,2)},set:function(T){T?this.Ff=qn(this.Ff,2):this.Ff=Wn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,3)},set:function(T){T?this.Ff=qn(this.Ff,3):this.Ff=Wn(this.Ff,3)}});var O=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(O!==null)return O},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');O=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(O){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:O=2;break;case"center":case 1:O=1;break;case"left":case 0:default:O=0}}})};Ni(Gs,ko);var lu=function(){Gs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var a=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return a},set:function(e){a=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return F2(t,this.objId,this.scope)},set:function(e){var n,i;i=[],typeof(n=e)=="string"&&(i=function(s,l,c){c||(c=1);for(var h,p=[];h=l.exec(s);)p.push(h[c]);return p}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,18)},set:function(e){e?this.Ff=qn(this.Ff,18):this.Ff=Wn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=qn(this.Ff,19):this.Ff=Wn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,20)},set:function(e){e?(this.Ff=qn(this.Ff,20),t.sort()):this.Ff=Wn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,22)},set:function(e){e?this.Ff=qn(this.Ff,22):this.Ff=Wn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,23)},set:function(e){e?this.Ff=qn(this.Ff,23):this.Ff=Wn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,27)},set:function(e){e?this.Ff=qn(this.Ff,27):this.Ff=Wn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ni(lu,Gs);var cu=function(){lu.call(this),this.fontName="helvetica",this.combo=!1};Ni(cu,lu);var uu=function(){cu.call(this),this.combo=!0};Ni(uu,cu);var bf=function(){uu.call(this),this.edit=!0};Ni(bf,uu);var mr=function(){Gs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,15)},set:function(e){e?this.Ff=qn(this.Ff,15):this.Ff=Wn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,16)},set:function(e){e?this.Ff=qn(this.Ff,16):this.Ff=Wn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,17)},set:function(e){e?this.Ff=qn(this.Ff,17):this.Ff=Wn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,26)},set:function(e){e?this.Ff=qn(this.Ff,26):this.Ff=Wn(this.Ff,26)}});var a,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+wc(e(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(e){ln(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(e){a=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(e){a="/"+e}})};Ni(mr,Gs);var Sf=function(){mr.call(this),this.pushButton=!0};Ni(Sf,mr);var hu=function(){mr.call(this),this.radio=!0,this.pushButton=!1;var a=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return a},set:function(t){a=t!==void 0?t:[]}})};Ni(hu,mr);var zf=function(){var a,t;Gs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return a},set:function(i){a=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,l=[];for(s in l.push("<<"),n)l.push("/"+s+" ("+wc(i(n[s]))+")");return l.push(">>"),l.join(`
`)},set:function(i){ln(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(i){e="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=se.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ni(zf,Gs),hu.prototype.setAppearance=function(a){if(!("createAppearanceStream"in a)||!("getCA"in a))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=a.createAppearanceStream(e.optionName),e.caption=a.getCA()}},hu.prototype.createOption=function(a){var t=new zf;return t.Parent=this,t.optionName=a,this.Kids.push(t),Gy.call(this.scope,t),t};var Cf=function(){mr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=se.CheckBox.createAppearanceStream()};Ni(Cf,mr);var gc=function(){Gs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,13)},set:function(t){t?this.Ff=qn(this.Ff,13):this.Ff=Wn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,21)},set:function(t){t?this.Ff=qn(this.Ff,21):this.Ff=Wn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,23)},set:function(t){t?this.Ff=qn(this.Ff,23):this.Ff=Wn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,24)},set:function(t){t?this.Ff=qn(this.Ff,24):this.Ff=Wn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,25)},set:function(t){t?this.Ff=qn(this.Ff,25):this.Ff=Wn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,26)},set:function(t){t?this.Ff=qn(this.Ff,26):this.Ff=Wn(this.Ff,26)}});var a=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return a},set:function(t){a=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return a},set:function(t){Number.isInteger(t)&&(a=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ni(gc,Gs);var kf=function(){gc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,14)},set:function(a){a?this.Ff=qn(this.Ff,14):this.Ff=Wn(this.Ff,14)}}),this.password=!0};Ni(kf,gc);var se={CheckBox:{createAppearanceStream:function(){return{N:{On:se.CheckBox.YesNormal},D:{On:se.CheckBox.YesPushDown,Off:se.CheckBox.OffPushDown}}},YesPushDown:function(a){var t=_o(a);t.scope=a.scope;var e=[],n=a.scope.internal.getFont(a.fontName,a.fontStyle).id,i=a.scope.__private__.encodeColorString(a.color),s=Mp(a,a.caption);return e.push("0.749023 g"),e.push("0 0 "+Te(se.internal.getWidth(a))+" "+Te(se.internal.getHeight(a))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+Te(s.fontSize)+" Tf "+i),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(a){var t=_o(a);t.scope=a.scope;var e=a.scope.internal.getFont(a.fontName,a.fontStyle).id,n=a.scope.__private__.encodeColorString(a.color),i=[],s=se.internal.getHeight(a),l=se.internal.getWidth(a),c=Mp(a,a.caption);return i.push("1 g"),i.push("0 0 "+Te(l)+" "+Te(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Te(l-1)+" "+Te(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+e+" "+Te(c.fontSize)+" Tf "+n),i.push(c.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(a){var t=_o(a);t.scope=a.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Te(se.internal.getWidth(a))+" "+Te(se.internal.getHeight(a))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(a){var t={D:{Off:se.RadioButton.Circle.OffPushDown},N:{}};return t.N[a]=se.RadioButton.Circle.YesNormal,t.D[a]=se.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(a){var t=_o(a);t.scope=a.scope;var e=[],n=se.internal.getWidth(a)<=se.internal.getHeight(a)?se.internal.getWidth(a)/4:se.internal.getHeight(a)/4;n=Number((.9*n).toFixed(5));var i=se.internal.Bezier_C,s=Number((n*i).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+vl(se.internal.getWidth(a)/2)+" "+vl(se.internal.getHeight(a)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),e.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),e.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),e.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(a){var t=_o(a);t.scope=a.scope;var e=[],n=se.internal.getWidth(a)<=se.internal.getHeight(a)?se.internal.getWidth(a)/4:se.internal.getHeight(a)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*se.internal.Bezier_C).toFixed(5)),l=Number((n*se.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+vl(se.internal.getWidth(a)/2)+" "+vl(se.internal.getHeight(a)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+vl(se.internal.getWidth(a)/2)+" "+vl(se.internal.getHeight(a)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),e.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),e.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),e.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(a){var t=_o(a);t.scope=a.scope;var e=[],n=se.internal.getWidth(a)<=se.internal.getHeight(a)?se.internal.getWidth(a)/4:se.internal.getHeight(a)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*se.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+vl(se.internal.getWidth(a)/2)+" "+vl(se.internal.getHeight(a)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(a){var t={D:{Off:se.RadioButton.Cross.OffPushDown},N:{}};return t.N[a]=se.RadioButton.Cross.YesNormal,t.D[a]=se.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(a){var t=_o(a);t.scope=a.scope;var e=[],n=se.internal.calculateCross(a);return e.push("q"),e.push("1 1 "+Te(se.internal.getWidth(a)-2)+" "+Te(se.internal.getHeight(a)-2)+" re"),e.push("W"),e.push("n"),e.push(Te(n.x1.x)+" "+Te(n.x1.y)+" m"),e.push(Te(n.x2.x)+" "+Te(n.x2.y)+" l"),e.push(Te(n.x4.x)+" "+Te(n.x4.y)+" m"),e.push(Te(n.x3.x)+" "+Te(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(a){var t=_o(a);t.scope=a.scope;var e=se.internal.calculateCross(a),n=[];return n.push("0.749023 g"),n.push("0 0 "+Te(se.internal.getWidth(a))+" "+Te(se.internal.getHeight(a))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Te(se.internal.getWidth(a)-2)+" "+Te(se.internal.getHeight(a)-2)+" re"),n.push("W"),n.push("n"),n.push(Te(e.x1.x)+" "+Te(e.x1.y)+" m"),n.push(Te(e.x2.x)+" "+Te(e.x2.y)+" l"),n.push(Te(e.x4.x)+" "+Te(e.x4.y)+" m"),n.push(Te(e.x3.x)+" "+Te(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(a){var t=_o(a);t.scope=a.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Te(se.internal.getWidth(a))+" "+Te(se.internal.getHeight(a))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(a){var t=a.scope.internal.getFont(a.fontName,a.fontStyle).id,e=a.scope.__private__.encodeColorString(a.color);return"/"+t+" "+a.fontSize+" Tf "+e}};se.internal={Bezier_C:.551915024494,calculateCross:function(a){var t=se.internal.getWidth(a),e=se.internal.getHeight(a),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},se.internal.getWidth=function(a){var t=0;return ln(a)==="object"&&(t=l1(a.Rect[2])),t},se.internal.getHeight=function(a){var t=0;return ln(a)==="object"&&(t=l1(a.Rect[3])),t};var Gy=jn.addField=function(a){if(Xy(this,a),!(a instanceof Gs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=a).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),a.page=a.scope.internal.getCurrentPageInfo().pageNumber,this};jn.AcroFormChoiceField=lu,jn.AcroFormListBox=cu,jn.AcroFormComboBox=uu,jn.AcroFormEditBox=bf,jn.AcroFormButton=mr,jn.AcroFormPushButton=Sf,jn.AcroFormRadioButton=hu,jn.AcroFormCheckBox=Cf,jn.AcroFormTextField=gc,jn.AcroFormPasswordField=kf,jn.AcroFormAppearance=se,jn.AcroForm={ChoiceField:lu,ListBox:cu,ComboBox:uu,EditBox:bf,Button:mr,PushButton:Sf,RadioButton:hu,CheckBox:Cf,TextField:gc,PasswordField:kf,Appearance:se},ye.AcroForm={ChoiceField:lu,ListBox:cu,ComboBox:uu,EditBox:bf,Button:mr,PushButton:Sf,RadioButton:hu,CheckBox:Cf,TextField:gc,PasswordField:kf,Appearance:se};function B2(a){return a.reduce(function(t,e,n){return t[e]=n,t},{})}(function(a){a.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=a.__addimage__.getImageFileTypeByImageData=function(R,B){var G,H,Lt,wt,Ct,X=t;if((B=B||t)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(mt(R))for(Ct in e)for(Lt=e[Ct],G=0;G<Lt.length;G+=1){for(wt=!0,H=0;H<Lt[G].length;H+=1)if(Lt[G][H]!==void 0&&Lt[G][H]!==R[H]){wt=!1;break}if(wt===!0){X=Ct;break}}else for(Ct in e)for(Lt=e[Ct],G=0;G<Lt.length;G+=1){for(wt=!0,H=0;H<Lt[G].length;H+=1)if(Lt[G][H]!==void 0&&Lt[G][H]!==R.charCodeAt(H)){wt=!1;break}if(wt===!0){X=Ct;break}}return X===t&&B!==t&&(X=B),X},i=function R(B){for(var G=this.internal.write,H=this.internal.putStream,Lt=(0,this.internal.getFilters)();Lt.indexOf("FlateEncode")!==-1;)Lt.splice(Lt.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var wt=[];if(wt.push({key:"Type",value:"/XObject"}),wt.push({key:"Subtype",value:"/Image"}),wt.push({key:"Width",value:B.width}),wt.push({key:"Height",value:B.height}),B.colorSpace===O.INDEXED?wt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(wt.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===O.DEVICE_CMYK&&wt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),wt.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&wt.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)){for(var Ct="",X=0,ft=B.transparency.length;X<ft;X++)Ct+=B.transparency[X]+" "+B.transparency[X]+" ";wt.push({key:"Mask",value:"["+Ct+"]"})}B.sMask!==void 0&&wt.push({key:"SMask",value:B.objectId+1+" 0 R"});var ct=B.filter!==void 0?["/"+B.filter]:void 0;if(H({data:B.data,additionalKeyValues:wt,alreadyAppliedFilters:ct,objectId:B.objectId}),G("endobj"),"sMask"in B&&B.sMask!==void 0){var K="/Predictor "+B.predictor+" /Colors 1 /BitsPerComponent "+B.bitsPerComponent+" /Columns "+B.width,L={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:B.bitsPerComponent,decodeParameters:K,data:B.sMask};"filter"in B&&(L.filter=B.filter),R.call(this,L)}if(B.colorSpace===O.INDEXED){var z=this.internal.newObject();H({data:q(new Uint8Array(B.palette)),objectId:z}),G("endobj")}},s=function(){var R=this.internal.collections.addImage_images;for(var B in R)i.call(this,R[B])},l=function(){var R,B=this.internal.collections.addImage_images,G=this.internal.write;for(var H in B)G("/I"+(R=B[H]).index,R.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var R=this.internal.collections.addImage_images;return c.call(this),R},p=function(){return Object.keys(this.internal.collections.addImage_images).length},m=function(R){return typeof a["process"+R.toUpperCase()]=="function"},w=function(R){return ln(R)==="object"&&R.nodeType===1},b=function(R,B){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var G=""+R.getAttribute("src");if(G.indexOf("data:image/")===0)return Ku(unescape(G).split("base64,").pop());var H=a.loadFile(G,!0);if(H!==void 0)return H}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var Lt;switch(B){case"PNG":Lt="image/png";break;case"WEBP":Lt="image/webp";break;case"JPEG":case"JPG":default:Lt="image/jpeg"}return Ku(R.toDataURL(Lt,1).split("base64,").pop())}},y=function(R){var B=this.internal.collections.addImage_images;if(B){for(var G in B)if(R===B[G].alias)return B[G]}},A=function(R,B,G){return R||B||(R=-96,B=-96),R<0&&(R=-1*G.width*72/R/this.internal.scaleFactor),B<0&&(B=-1*G.height*72/B/this.internal.scaleFactor),R===0&&(R=B*G.width/G.height),B===0&&(B=R*G.height/G.width),[R,B]},k=function(R,B,G,H,Lt,wt){var Ct=A.call(this,G,H,Lt),X=this.internal.getCoordinateString,ft=this.internal.getVerticalCoordinateString,ct=h.call(this);if(G=Ct[0],H=Ct[1],ct[Lt.index]=Lt,wt){wt*=Math.PI/180;var K=Math.cos(wt),L=Math.sin(wt),z=function(J){return J.toFixed(4)},W=[z(K),z(L),z(-1*L),z(K),0,0,"cm"]}this.internal.write("q"),wt?(this.internal.write([1,"0","0",1,X(R),ft(B+H),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([X(G),"0","0",X(H),"0","0","cm"].join(" "))):this.internal.write([X(G),"0","0",X(H),X(R),ft(B+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Lt.index+" Do"),this.internal.write("Q")},O=a.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};a.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=a.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=a.__addimage__.sHashCode=function(R){var B,G,H=0;if(typeof R=="string")for(G=R.length,B=0;B<G;B++)H=(H<<5)-H+R.charCodeAt(B),H|=0;else if(mt(R))for(G=R.byteLength/2,B=0;B<G;B++)H=(H<<5)-H+R[B],H|=0;return H},Y=a.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var B=!0;return R.length===0&&(B=!1),R.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(B=!1),B},st=a.__addimage__.extractImageFromDataUrl=function(R){var B=(R=R||"").split("base64,"),G=null;if(B.length===2){var H=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(B[0]);Array.isArray(H)&&(G={mimeType:H[1],charset:H[2],data:B[1]})}return G},Z=a.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};a.__addimage__.isArrayBuffer=function(R){return Z()&&R instanceof ArrayBuffer};var mt=a.__addimage__.isArrayBufferView=function(R){return Z()&&typeof Uint32Array<"u"&&(R instanceof Int8Array||R instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array)},tt=a.__addimage__.binaryStringToUint8Array=function(R){for(var B=R.length,G=new Uint8Array(B),H=0;H<B;H++)G[H]=R.charCodeAt(H);return G},q=a.__addimage__.arrayBufferToBinaryString=function(R){for(var B="",G=mt(R)?R:new Uint8Array(R),H=0;H<G.length;H+=8192)B+=String.fromCharCode.apply(null,G.subarray(H,H+8192));return B};a.addImage=function(){var R,B,G,H,Lt,wt,Ct,X,ft;if(typeof arguments[1]=="number"?(B=t,G=arguments[1],H=arguments[2],Lt=arguments[3],wt=arguments[4],Ct=arguments[5],X=arguments[6],ft=arguments[7]):(B=arguments[1],G=arguments[2],H=arguments[3],Lt=arguments[4],wt=arguments[5],Ct=arguments[6],X=arguments[7],ft=arguments[8]),ln(R=arguments[0])==="object"&&!w(R)&&"imageData"in R){var ct=R;R=ct.imageData,B=ct.format||B||t,G=ct.x||G||0,H=ct.y||H||0,Lt=ct.w||ct.width||Lt,wt=ct.h||ct.height||wt,Ct=ct.alias||Ct,X=ct.compression||X,ft=ct.rotation||ct.angle||ft}var K=this.internal.getFilters();if(X===void 0&&K.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(G)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var L=dt.call(this,R,B,Ct,X);return k.call(this,G,H,Lt,wt,L,ft),this};var dt=function(R,B,G,H){var Lt,wt,Ct;if(typeof R=="string"&&n(R)===t){R=unescape(R);var X=bt(R,!1);(X!==""||(X=a.loadFile(R,!0))!==void 0)&&(R=X)}if(w(R)&&(R=b(R,B)),B=n(R,B),!m(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((Ct=G)==null||Ct.length===0)&&(G=function(ft){return typeof ft=="string"||mt(ft)?F(ft):mt(ft.data)?F(ft.data):null}(R)),(Lt=y.call(this,G))||(Z()&&(R instanceof Uint8Array||B==="RGBA"||(wt=R,R=tt(R))),Lt=this["process"+B.toUpperCase()](R,p.call(this),G,function(ft){return ft&&typeof ft=="string"&&(ft=ft.toUpperCase()),ft in a.image_compression?ft:T.NONE}(H),wt)),!Lt)throw new Error("An unknown error occurred whilst processing the image.");return Lt},bt=a.__addimage__.convertBase64ToBinaryString=function(R,B){var G;B=typeof B!="boolean"||B;var H,Lt="";if(typeof R=="string"){H=(G=st(R))!==null?G.data:R;try{Lt=Ku(H)}catch(wt){if(B)throw Y(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+wt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Lt};a.getImageProperties=function(R){var B,G,H="";if(w(R)&&(R=b(R)),typeof R=="string"&&n(R)===t&&((H=bt(R,!1))===""&&(H=a.loadFile(R)||""),R=H),G=n(R),!m(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(!Z()||R instanceof Uint8Array||(R=tt(R)),!(B=this["process"+G.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=G,B}})(ye.API),function(a){var t=function(e){if(e!==void 0&&e!="")return!0};ye.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),a.events.push(["putPage",function(e){for(var n,i,s,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(e.objId),p=e.pageContext.annotations,m=!1,w=0;w<p.length&&!m;w++)switch((n=p[w]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var b=0;b<p.length;b++){n=p[b];var y=this.internal.pdfEscape,A=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),O=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(k.objId),F=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+y(T(n.contents))+")",s+=" /Popup "+O.objId+" 0 R",s+=" /P "+h.objId+" 0 R",s+=" /T ("+y(T(F))+") >>",k.content=s;var Y=k.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+Y,n.open&&(s+=" /Open true"),s+=" >>",O.content=s,this.internal.write(k.objId,"0 R",O.objId,"0 R");break;case"freetext":i="/Rect ["+l(n.bounds.x)+" "+c(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var st=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(A(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+st+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var Z=this.annotations._nameMap[n.options.name];n.options.pageNumber=Z.page,n.options.top=Z.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(A(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var mt=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+mt+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),a.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},a.link=function(e,n,i,s,l){var c=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:h(e),y:p(n),w:h(e+i),h:p(n+s)},options:l,type:"link"})},a.textWithLink=function(e,n,i,s){var l,c,h=this.getTextWidth(e),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var m=this.splitTextToSize(e,c).length;l=Math.ceil(p*m)}else c=h,l=p;return this.text(e,n,i,s),i+=.2*p,s.align==="center"&&(n-=h/2),s.align==="right"&&(n-=h),this.link(n,i-p,c,l,s),h},a.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}}(ye.API),function(a){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];a.__arabicParser__={};var s=a.__arabicParser__.isInArabicSubstitutionA=function(k){return t[k.charCodeAt(0)]!==void 0},l=a.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},c=a.__arabicParser__.isArabicEndLetter=function(k){return l(k)&&s(k)&&t[k.charCodeAt(0)].length<=2},h=a.__arabicParser__.isArabicAlfLetter=function(k){return l(k)&&i.indexOf(k.charCodeAt(0))>=0};a.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return l(k)&&s(k)&&t[k.charCodeAt(0)].length>=1};var p=a.__arabicParser__.arabicLetterHasFinalForm=function(k){return l(k)&&s(k)&&t[k.charCodeAt(0)].length>=2};a.__arabicParser__.arabicLetterHasInitialForm=function(k){return l(k)&&s(k)&&t[k.charCodeAt(0)].length>=3};var m=a.__arabicParser__.arabicLetterHasMedialForm=function(k){return l(k)&&s(k)&&t[k.charCodeAt(0)].length==4},w=a.__arabicParser__.resolveLigatures=function(k){var O=0,T=e,F="",Y=0;for(O=0;O<k.length;O+=1)T[k.charCodeAt(O)]!==void 0?(Y++,typeof(T=T[k.charCodeAt(O)])=="number"&&(F+=String.fromCharCode(T),T=e,Y=0),O===k.length-1&&(T=e,F+=k.charAt(O-(Y-1)),O-=Y-1,Y=0)):(T=e,F+=k.charAt(O-Y),O-=Y,Y=0);return F};a.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&n[k.charCodeAt(0)]!==void 0};var b=a.__arabicParser__.getCorrectForm=function(k,O,T){return l(k)?s(k)===!1?-1:!p(k)||!l(O)&&!l(T)||!l(T)&&c(O)||c(k)&&!l(O)||c(k)&&h(O)||c(k)&&c(O)?0:m(k)&&l(O)&&!c(O)&&l(T)&&p(T)?3:c(k)||!l(T)?1:2:-1},y=function(k){var O=0,T=0,F=0,Y="",st="",Z="",mt=(k=k||"").split("\\s+"),tt=[];for(O=0;O<mt.length;O+=1){for(tt.push(""),T=0;T<mt[O].length;T+=1)Y=mt[O][T],st=mt[O][T-1],Z=mt[O][T+1],l(Y)?(F=b(Y,st,Z),tt[O]+=F!==-1?String.fromCharCode(t[Y.charCodeAt(0)][F]):Y):tt[O]+=Y;tt[O]=w(tt[O])}return tt.join(" ")},A=a.__arabicParser__.processArabic=a.processArabic=function(){var k,O=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(O)){var F=0;for(T=[],F=0;F<O.length;F+=1)Array.isArray(O[F])?T.push([y(O[F][0]),O[F][1],O[F][2]]):T.push([y(O[F])]);k=T}else k=y(O);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};a.events.push(["preProcessText",A])}(ye.API),ye.API.autoPrint=function(a){var t;switch((a=a||{}).variant=a.variant||"non-conform",a.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(a){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(c){e=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var i;if((e=e||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},a.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ye.API),function(a){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(k){h=k}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(k){p=k}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(k){m=k}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(k){w=k}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(k){b=k}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(k){y=k}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(k){A=k}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},a.setHeaderFunction=function(h){return n.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},a.getTextDimensions=function(h,p){n.call(this);var m=(p=p||{}).fontSize||this.getFontSize(),w=p.font||this.getFont(),b=p.scaleFactor||this.internal.scaleFactor,y=0,A=0,k=0,O=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var T=p.maxWidth;T>0?typeof h=="string"?h=this.splitTextToSize(h,T):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(Y,st){return Y.concat(O.splitTextToSize(st,T))},[])):h=Array.isArray(h)?h:[h];for(var F=0;F<h.length;F++)y<(k=this.getStringUnitWidth(h[F],{font:w})*m)&&(y=k);return y!==0&&(A=h.length),{w:y/=b,h:Math.max((A*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/b,0)}},a.cellAddPage=function(){n.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=a.cell=function(){var h;h=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var p=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,w=this.internal.__cell__.margins||t,b=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===h.lineNumber?(h.x=(p.x||0)+(p.width||0),h.y=p.y||0):p.y+p.height+h.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=w.top,y&&b&&(this.printHeaderRow(h.lineNumber,!0),h.y+=b[0].height)):h.y=p.y+p.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,e===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-m,h.y+m,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+m,{align:"center",baseline:"top",maxWidth:h.width-m-m}):this.text(h.text,h.x+m,h.y+m,{align:"left",baseline:"top",maxWidth:h.width-m-m})),this.internal.__cell__.lastCell=h,this};a.table=function(h,p,m,w,b){if(n.call(this),!m)throw new Error("No data for PDF table.");var y,A,k,O,T=[],F=[],Y=[],st={},Z={},mt=[],tt=[],q=(b=b||{}).autoSize||!1,dt=b.printHeaders!==!1,bt=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,R=b.margins||Object.assign({width:this.getPageWidth()},t),B=typeof b.padding=="number"?b.padding:3,G=b.headerBackgroundColor||"#c8c8c8",H=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=dt,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=bt,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=H,this.setFontSize(bt),w==null)F=T=Object.keys(m[0]),Y=T.map(function(){return"left"});else if(Array.isArray(w)&&ln(w[0])==="object")for(T=w.map(function(ct){return ct.name}),F=w.map(function(ct){return ct.prompt||ct.name||""}),Y=w.map(function(ct){return ct.align||"left"}),y=0;y<w.length;y+=1)Z[w[y].name]=w[y].width*(19.049976/25.4);else Array.isArray(w)&&typeof w[0]=="string"&&(F=T=w,Y=T.map(function(){return"left"}));if(q||Array.isArray(w)&&typeof w[0]=="string")for(y=0;y<T.length;y+=1){for(st[O=T[y]]=m.map(function(ct){return ct[O]}),this.setFont(void 0,"bold"),mt.push(this.getTextDimensions(F[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=st[O],this.setFont(void 0,"normal"),k=0;k<A.length;k+=1)mt.push(this.getTextDimensions(A[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Z[O]=Math.max.apply(null,mt)+B+B,mt=[]}if(dt){var Lt={};for(y=0;y<T.length;y+=1)Lt[T[y]]={},Lt[T[y]].text=F[y],Lt[T[y]].align=Y[y];var wt=c.call(this,Lt,Z);tt=T.map(function(ct){return new s(h,p,Z[ct],wt,Lt[ct].text,void 0,Lt[ct].align)}),this.setTableHeaderRow(tt),this.printHeaderRow(1,!1)}var Ct=w.reduce(function(ct,K){return ct[K.name]=K.align,ct},{});for(y=0;y<m.length;y+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:y,data:m[y]},this);var X=c.call(this,m[y],Z);for(k=0;k<T.length;k+=1){var ft=m[y][T[k]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:y,col:k,data:ft},this),l.call(this,new s(h,p,Z[T[k]],X,ft,y+2,Ct[T[k]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=p,this};var c=function(h,p){var m=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(h).map(function(y){var A=h[y];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,p[y]-m-m)},this).map(function(y){return this.getLineHeightFactor()*y.length*w/b+m+m},this).reduce(function(y,A){return Math.max(y,A)},0)};a.setTableHeaderRow=function(h){n.call(this),this.internal.__cell__.tableHeaderRow=h},a.printHeaderRow=function(h,p){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){m=this.internal.__cell__.tableHeaderRow[y].clone(),p&&(m.y=this.internal.__cell__.margins.top||0,b.push(m)),m.lineNumber=h;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,m),this.setTextColor(A)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),e=!1}}(ye.API);var z2={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},U2=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],jp=B2(U2),q2=[100,200,300,400,500,600,700,800,900],$y=B2(q2);function Fp(a){var t=a.family.replace(/"|'/g,"").toLowerCase(),e=function(s){return z2[s=s||"normal"]?s:"normal"}(a.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(a.weight),i=function(s){return typeof jp[s=s||"normal"]=="number"?s:"normal"}(a.stretch);return{family:t,style:e,weight:n,stretch:i,src:a.src||[],ref:a.ref||{name:t,style:[i,e,n].join(" ")}}}function c1(a,t,e,n){var i;for(i=e;i>=0&&i<t.length;i+=n)if(a[t[i]])return a[t[i]];for(i=e;i>=0&&i<t.length;i-=n)if(a[t[i]])return a[t[i]]}var Ky={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},u1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function h1(a){return[a.stretch,a.style,a.weight,a.family].join(" ")}function Jy(a,t,e){for(var n=(e=e||{}).defaultFontFamily||"times",i=Object.assign({},Ky,e.genericFontFamilies||{}),s=null,l=null,c=0;c<t.length;++c)if(i[(s=Fp(t[c])).family]&&(s.family=i[s.family]),a.hasOwnProperty(s.family)){l=a[s.family];break}if(!(l=l||a[n]))throw new Error("Could not find a font-family for the rule '"+h1(s)+"' and default family '"+n+"'.");if(l=function(h,p){if(p[h])return p[h];var m=jp[h],w=m<=jp.normal?-1:1,b=c1(p,U2,m,w);if(!b)throw new Error("Could not find a matching font-stretch value for "+h);return b}(s.stretch,l),l=function(h,p){if(p[h])return p[h];for(var m=z2[h],w=0;w<m.length;++w)if(p[m[w]])return p[m[w]];throw new Error("Could not find a matching font-style for "+h)}(s.style,l),!(l=function(h,p){if(p[h])return p[h];if(h===400&&p[500])return p[500];if(h===500&&p[400])return p[400];var m=$y[h],w=c1(p,q2,m,h<400?-1:1);if(!w)throw new Error("Could not find a matching font-weight for value "+h);return w}(s.weight,l)))throw new Error("Failed to resolve a font for the rule '"+h1(s)+"'.");return l}function f1(a){return a.trimLeft()}function Qy(a,t){for(var e=0;e<a.length;){if(a.charAt(e)===t)return[a.substring(0,e),a.substring(e+1)];e+=1}return null}function Zy(a){var t=a.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],a.substring(t[0].length)]}var gf,d1,p1,up=["times"];(function(a){var t,e,n,i,s,l,c,h,p,m=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new h,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new l,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new l,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};a.events.push(["initialized",function(){this.context2d=new w(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,h=this.internal.Matrix,p=new m}]);var w=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=L;Object.defineProperty(this,"pdf",{get:function(){return z}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(Dt){W=!!Dt}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(Dt){J=!!Dt}});var et=0;Object.defineProperty(this,"posX",{get:function(){return et},set:function(Dt){isNaN(Dt)||(et=Dt)}});var pt=0;Object.defineProperty(this,"posY",{get:function(){return pt},set:function(Dt){isNaN(Dt)||(pt=Dt)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Dt){var Q;typeof Dt=="number"?Q=[Dt,Dt,Dt,Dt]:((Q=new Array(4))[0]=Dt[0],Q[1]=Dt.length>=2?Dt[1]:Q[0],Q[2]=Dt.length>=3?Dt[2]:Q[0],Q[3]=Dt.length>=4?Dt[3]:Q[1]),p.margin=Q}});var vt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return vt},set:function(Dt){vt=Dt}});var yt=0;Object.defineProperty(this,"lastBreak",{get:function(){return yt},set:function(Dt){yt=Dt}});var It=[];Object.defineProperty(this,"pageBreaks",{get:function(){return It},set:function(Dt){It=Dt}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Dt){Dt instanceof m&&(p=Dt)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Dt){p.path=Dt}});var Ut=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ut},set:function(Dt){Ut=Dt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Dt){var Q;Q=b(Dt),this.ctx.fillStyle=Q.style,this.ctx.isFillTransparent=Q.a===0,this.ctx.fillOpacity=Q.a,this.pdf.setFillColor(Q.r,Q.g,Q.b,{a:Q.a}),this.pdf.setTextColor(Q.r,Q.g,Q.b,{a:Q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Dt){var Q=b(Dt);this.ctx.strokeStyle=Q.style,this.ctx.isStrokeTransparent=Q.a===0,this.ctx.strokeOpacity=Q.a,Q.a===0?this.pdf.setDrawColor(255,255,255):(Q.a,this.pdf.setDrawColor(Q.r,Q.g,Q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Dt){["butt","round","square"].indexOf(Dt)!==-1&&(this.ctx.lineCap=Dt,this.pdf.setLineCap(Dt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Dt){isNaN(Dt)||(this.ctx.lineWidth=Dt,this.pdf.setLineWidth(Dt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Dt){["bevel","round","miter"].indexOf(Dt)!==-1&&(this.ctx.lineJoin=Dt,this.pdf.setLineJoin(Dt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Dt){isNaN(Dt)||(this.ctx.miterLimit=Dt,this.pdf.setMiterLimit(Dt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Dt){this.ctx.textBaseline=Dt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Dt){["right","end","center","left","start"].indexOf(Dt)!==-1&&(this.ctx.textAlign=Dt)}});var Qt=null;function Xt(Dt,Q){if(Qt===null){var xe=function(oe){var qt=[];return Object.keys(oe).forEach(function(Ht){oe[Ht].forEach(function(Gt){var $t=null;switch(Gt){case"bold":$t={family:Ht,weight:"bold"};break;case"italic":$t={family:Ht,style:"italic"};break;case"bolditalic":$t={family:Ht,weight:"bold",style:"italic"};break;case"":case"normal":$t={family:Ht}}$t!==null&&($t.ref={name:Ht,style:Gt},qt.push($t))})}),qt}(Dt.getFontList());Qt=function(oe){for(var qt={},Ht=0;Ht<oe.length;++Ht){var Gt=Fp(oe[Ht]),$t=Gt.family,ce=Gt.stretch,_e=Gt.style,Ae=Gt.weight;qt[$t]=qt[$t]||{},qt[$t][ce]=qt[$t][ce]||{},qt[$t][ce][_e]=qt[$t][ce][_e]||{},qt[$t][ce][_e][Ae]=Gt}return qt}(xe.concat(Q))}return Qt}var de=null;Object.defineProperty(this,"fontFaces",{get:function(){return de},set:function(Dt){Qt=null,de=Dt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Dt){var Q;if(this.ctx.font=Dt,(Q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Dt))!==null){var xe=Q[1],oe=(Q[2],Q[3]),qt=Q[4],Ht=(Q[5],Q[6]),Gt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qt)[2];qt=Math.floor(Gt==="px"?parseFloat(qt)*this.pdf.internal.scaleFactor:Gt==="em"?parseFloat(qt)*this.pdf.getFontSize():parseFloat(qt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qt);var $t=function(ve){var Pe,Jt,rr=[],Re=ve.trim();if(Re==="")return up;if(Re in u1)return[u1[Re]];for(;Re!=="";){switch(Jt=null,Pe=(Re=f1(Re)).charAt(0)){case'"':case"'":Jt=Qy(Re.substring(1),Pe);break;default:Jt=Zy(Re)}if(Jt===null||(rr.push(Jt[0]),(Re=f1(Jt[1]))!==""&&Re.charAt(0)!==","))return up;Re=Re.replace(/^,/,"")}return rr}(Ht);if(this.fontFaces){var ce=Jy(Xt(this.pdf,this.fontFaces),$t.map(function(ve){return{family:ve,stretch:"normal",weight:oe,style:xe}}));this.pdf.setFont(ce.ref.name,ce.ref.style)}else{var _e="";(oe==="bold"||parseInt(oe,10)>=700||xe==="bold")&&(_e="bold"),xe==="italic"&&(_e+="italic"),_e.length===0&&(_e="normal");for(var Ae="",Ne={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},je=0;je<$t.length;je++){if(this.pdf.internal.getFont($t[je],_e,{noFallback:!0,disableWarning:!0})!==void 0){Ae=$t[je];break}if(_e==="bolditalic"&&this.pdf.internal.getFont($t[je],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ae=$t[je],_e="bold";else if(this.pdf.internal.getFont($t[je],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ae=$t[je],_e="normal";break}}if(Ae===""){for(var qe=0;qe<$t.length;qe++)if(Ne[$t[qe]]){Ae=Ne[$t[qe]];break}}Ae=Ae===""?"Times":Ae,this.pdf.setFont(Ae,_e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Dt){this.ctx.globalCompositeOperation=Dt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Dt){this.ctx.globalAlpha=Dt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Dt){this.ctx.lineDashOffset=Dt,K.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Dt){this.ctx.lineDash=Dt,K.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Dt){this.ctx.ignoreClearRect=!!Dt}})};w.prototype.setLineDash=function(L){this.lineDash=L},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){st.call(this,"fill",!1)},w.prototype.stroke=function(){st.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(L,z){if(isNaN(L)||isNaN(z))throw fn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new l(L,z));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new l(L,z)},w.prototype.closePath=function(){var L=new l(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&ln(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){L=new l(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(L.x,L.y)},w.prototype.lineTo=function(L,z){if(isNaN(L)||isNaN(z))throw fn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new l(L,z));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new l(W.x,W.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),st.call(this,null,!0)},w.prototype.quadraticCurveTo=function(L,z,W,J){if(isNaN(W)||isNaN(J)||isNaN(L)||isNaN(z))throw fn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var et=this.ctx.transform.applyToPoint(new l(W,J)),pt=this.ctx.transform.applyToPoint(new l(L,z));this.path.push({type:"qct",x1:pt.x,y1:pt.y,x:et.x,y:et.y}),this.ctx.lastPoint=new l(et.x,et.y)},w.prototype.bezierCurveTo=function(L,z,W,J,et,pt){if(isNaN(et)||isNaN(pt)||isNaN(L)||isNaN(z)||isNaN(W)||isNaN(J))throw fn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var vt=this.ctx.transform.applyToPoint(new l(et,pt)),yt=this.ctx.transform.applyToPoint(new l(L,z)),It=this.ctx.transform.applyToPoint(new l(W,J));this.path.push({type:"bct",x1:yt.x,y1:yt.y,x2:It.x,y2:It.y,x:vt.x,y:vt.y}),this.ctx.lastPoint=new l(vt.x,vt.y)},w.prototype.arc=function(L,z,W,J,et,pt){if(isNaN(L)||isNaN(z)||isNaN(W)||isNaN(J)||isNaN(et))throw fn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pt=!!pt,!this.ctx.transform.isIdentity){var vt=this.ctx.transform.applyToPoint(new l(L,z));L=vt.x,z=vt.y;var yt=this.ctx.transform.applyToPoint(new l(0,W)),It=this.ctx.transform.applyToPoint(new l(0,0));W=Math.sqrt(Math.pow(yt.x-It.x,2)+Math.pow(yt.y-It.y,2))}Math.abs(et-J)>=2*Math.PI&&(J=0,et=2*Math.PI),this.path.push({type:"arc",x:L,y:z,radius:W,startAngle:J,endAngle:et,counterclockwise:pt})},w.prototype.arcTo=function(L,z,W,J,et){throw new Error("arcTo not implemented.")},w.prototype.rect=function(L,z,W,J){if(isNaN(L)||isNaN(z)||isNaN(W)||isNaN(J))throw fn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,z),this.lineTo(L+W,z),this.lineTo(L+W,z+J),this.lineTo(L,z+J),this.lineTo(L,z),this.lineTo(L+W,z),this.lineTo(L,z)},w.prototype.fillRect=function(L,z,W,J){if(isNaN(L)||isNaN(z)||isNaN(W)||isNaN(J))throw fn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var et={};this.lineCap!=="butt"&&(et.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(et.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,z,W,J),this.fill(),et.hasOwnProperty("lineCap")&&(this.lineCap=et.lineCap),et.hasOwnProperty("lineJoin")&&(this.lineJoin=et.lineJoin)}},w.prototype.strokeRect=function(L,z,W,J){if(isNaN(L)||isNaN(z)||isNaN(W)||isNaN(J))throw fn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(L,z,W,J),this.stroke())},w.prototype.clearRect=function(L,z,W,J){if(isNaN(L)||isNaN(z)||isNaN(W)||isNaN(J))throw fn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,z,W,J))},w.prototype.save=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},w.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(z),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(L){var z,W,J,et;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))z=0,W=0,J=0,et=0;else{var pt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(pt!==null)z=parseInt(pt[1]),W=parseInt(pt[2]),J=parseInt(pt[3]),et=1;else if((pt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)z=parseInt(pt[1]),W=parseInt(pt[2]),J=parseInt(pt[3]),et=parseFloat(pt[4]);else{if(et=1,typeof L=="string"&&L.charAt(0)!=="#"){var vt=new D2(L);L=vt.ok?vt.toHex():"#000000"}L.length===4?(z=L.substring(1,2),z+=z,W=L.substring(2,3),W+=W,J=L.substring(3,4),J+=J):(z=L.substring(1,3),W=L.substring(3,5),J=L.substring(5,7)),z=parseInt(z,16),W=parseInt(W,16),J=parseInt(J,16)}}return{r:z,g:W,b:J,a:et,style:L}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(L,z,W,J){if(isNaN(z)||isNaN(W)||typeof L!="string")throw fn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!y.call(this)){var et=X(this.ctx.transform.rotation),pt=this.ctx.transform.scaleX;B.call(this,{text:L,x:z,y:W,scale:pt,angle:et,align:this.textAlign,maxWidth:J})}},w.prototype.strokeText=function(L,z,W,J){if(isNaN(z)||isNaN(W)||typeof L!="string")throw fn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){J=isNaN(J)?void 0:J;var et=X(this.ctx.transform.rotation),pt=this.ctx.transform.scaleX;B.call(this,{text:L,x:z,y:W,scale:pt,renderingMode:"stroke",angle:et,align:this.textAlign,maxWidth:J})}},w.prototype.measureText=function(L){if(typeof L!="string")throw fn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,W=this.pdf.internal.scaleFactor,J=z.internal.getFontSize(),et=z.getStringUnitWidth(L)*J/z.internal.scaleFactor,pt=function(vt){var yt=(vt=vt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return yt}}),this};return new pt({width:et*=Math.round(96*W/72*1e4)/1e4})},w.prototype.scale=function(L,z){if(isNaN(L)||isNaN(z))throw fn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new h(L,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},w.prototype.rotate=function(L){if(isNaN(L))throw fn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new h(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},w.prototype.translate=function(L,z){if(isNaN(L)||isNaN(z))throw fn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new h(1,0,0,1,L,z);this.ctx.transform=this.ctx.transform.multiply(W)},w.prototype.transform=function(L,z,W,J,et,pt){if(isNaN(L)||isNaN(z)||isNaN(W)||isNaN(J)||isNaN(et)||isNaN(pt))throw fn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var vt=new h(L,z,W,J,et,pt);this.ctx.transform=this.ctx.transform.multiply(vt)},w.prototype.setTransform=function(L,z,W,J,et,pt){L=isNaN(L)?1:L,z=isNaN(z)?0:z,W=isNaN(W)?0:W,J=isNaN(J)?1:J,et=isNaN(et)?0:et,pt=isNaN(pt)?0:pt,this.ctx.transform=new h(L,z,W,J,et,pt)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(L,z,W,J,et,pt,vt,yt,It){var Ut=this.pdf.getImageProperties(L),Qt=1,Xt=1,de=1,Dt=1;J!==void 0&&yt!==void 0&&(de=yt/J,Dt=It/et,Qt=Ut.width/J*yt/J,Xt=Ut.height/et*It/et),pt===void 0&&(pt=z,vt=W,z=0,W=0),J!==void 0&&yt===void 0&&(yt=J,It=et),J===void 0&&yt===void 0&&(yt=Ut.width,It=Ut.height);for(var Q,xe=this.ctx.transform.decompose(),oe=X(xe.rotate.shx),qt=new h,Ht=(qt=(qt=(qt=qt.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale)).applyToRectangle(new c(pt-z*de,vt-W*Dt,J*Qt,et*Xt)),Gt=O.call(this,Ht),$t=[],ce=0;ce<Gt.length;ce+=1)$t.indexOf(Gt[ce])===-1&&$t.push(Gt[ce]);if(Y($t),this.autoPaging)for(var _e=$t[0],Ae=$t[$t.length-1],Ne=_e;Ne<Ae+1;Ne++){this.pdf.setPage(Ne);var je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qe=Ne===1?this.posY+this.margin[0]:this.margin[0],ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=Ne===1?0:ve+(Ne-2)*Pe;if(this.ctx.clip_path.length!==0){var rr=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(Q,this.posX+this.margin[3],-Jt+qe+this.ctx.prevPageLastElemOffset),Z.call(this,"fill",!0),this.path=rr}var Re=JSON.parse(JSON.stringify(Ht));Re=F([Re],this.posX+this.margin[3],-Jt+qe+this.ctx.prevPageLastElemOffset)[0];var hi=(Ne>_e||Ne<Ae)&&k.call(this);hi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],je,Pe,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,oe),hi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",Ht.x,Ht.y,Ht.w,Ht.h,null,null,oe)};var O=function(L,z,W){var J=[];z=z||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var et=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":J.push(Math.floor((L.y+et)/W)+1);break;case"arc":J.push(Math.floor((L.y+et-L.radius)/W)+1),J.push(Math.floor((L.y+et+L.radius)/W)+1);break;case"qct":var pt=ft(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);J.push(Math.floor((pt.y+et)/W)+1),J.push(Math.floor((pt.y+pt.h+et)/W)+1);break;case"bct":var vt=ct(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);J.push(Math.floor((vt.y+et)/W)+1),J.push(Math.floor((vt.y+vt.h+et)/W)+1);break;case"rect":J.push(Math.floor((L.y+et)/W)+1),J.push(Math.floor((L.y+L.h+et)/W)+1)}for(var yt=0;yt<J.length;yt+=1)for(;this.pdf.internal.getNumberOfPages()<J[yt];)T.call(this);return J},T=function(){var L=this.fillStyle,z=this.strokeStyle,W=this.font,J=this.lineCap,et=this.lineWidth,pt=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=z,this.font=W,this.lineCap=J,this.lineWidth=et,this.lineJoin=pt},F=function(L,z,W){for(var J=0;J<L.length;J++)switch(L[J].type){case"bct":L[J].x2+=z,L[J].y2+=W;case"qct":L[J].x1+=z,L[J].y1+=W;case"mt":case"lt":case"arc":default:L[J].x+=z,L[J].y+=W}return L},Y=function(L){return L.sort(function(z,W){return z-W})},st=function(L,z){for(var W,J,et=this.fillStyle,pt=this.strokeStyle,vt=this.lineCap,yt=this.lineWidth,It=Math.abs(yt*this.ctx.transform.scaleX),Ut=this.lineJoin,Qt=JSON.parse(JSON.stringify(this.path)),Xt=JSON.parse(JSON.stringify(this.path)),de=[],Dt=0;Dt<Xt.length;Dt++)if(Xt[Dt].x!==void 0)for(var Q=O.call(this,Xt[Dt]),xe=0;xe<Q.length;xe+=1)de.indexOf(Q[xe])===-1&&de.push(Q[xe]);for(var oe=0;oe<de.length;oe++)for(;this.pdf.internal.getNumberOfPages()<de[oe];)T.call(this);if(Y(de),this.autoPaging)for(var qt=de[0],Ht=de[de.length-1],Gt=qt;Gt<Ht+1;Gt++){this.pdf.setPage(Gt),this.fillStyle=et,this.strokeStyle=pt,this.lineCap=vt,this.lineWidth=It,this.lineJoin=Ut;var $t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ce=Gt===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ae=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ne=Gt===1?0:_e+(Gt-2)*Ae;if(this.ctx.clip_path.length!==0){var je=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(W,this.posX+this.margin[3],-Ne+ce+this.ctx.prevPageLastElemOffset),Z.call(this,L,!0),this.path=je}if(J=JSON.parse(JSON.stringify(Qt)),this.path=F(J,this.posX+this.margin[3],-Ne+ce+this.ctx.prevPageLastElemOffset),z===!1||Gt===0){var qe=(Gt>qt||Gt<Ht)&&k.call(this);qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,Ae,null).clip().discardPath()),Z.call(this,L,z),qe&&this.pdf.restoreGraphicsState()}this.lineWidth=yt}else this.lineWidth=It,Z.call(this,L,z),this.lineWidth=yt;this.path=Qt},Z=function(L,z){if((L!=="stroke"||z||!A.call(this))&&(L==="stroke"||z||!y.call(this))){for(var W,J,et=[],pt=this.path,vt=0;vt<pt.length;vt++){var yt=pt[vt];switch(yt.type){case"begin":et.push({begin:!0});break;case"close":et.push({close:!0});break;case"mt":et.push({start:yt,deltas:[],abs:[]});break;case"lt":var It=et.length;if(pt[vt-1]&&!isNaN(pt[vt-1].x)&&(W=[yt.x-pt[vt-1].x,yt.y-pt[vt-1].y],It>0)){for(;It>=0;It--)if(et[It-1].close!==!0&&et[It-1].begin!==!0){et[It-1].deltas.push(W),et[It-1].abs.push(yt);break}}break;case"bct":W=[yt.x1-pt[vt-1].x,yt.y1-pt[vt-1].y,yt.x2-pt[vt-1].x,yt.y2-pt[vt-1].y,yt.x-pt[vt-1].x,yt.y-pt[vt-1].y],et[et.length-1].deltas.push(W);break;case"qct":var Ut=pt[vt-1].x+2/3*(yt.x1-pt[vt-1].x),Qt=pt[vt-1].y+2/3*(yt.y1-pt[vt-1].y),Xt=yt.x+2/3*(yt.x1-yt.x),de=yt.y+2/3*(yt.y1-yt.y),Dt=yt.x,Q=yt.y;W=[Ut-pt[vt-1].x,Qt-pt[vt-1].y,Xt-pt[vt-1].x,de-pt[vt-1].y,Dt-pt[vt-1].x,Q-pt[vt-1].y],et[et.length-1].deltas.push(W);break;case"arc":et.push({deltas:[],abs:[],arc:!0}),Array.isArray(et[et.length-1].abs)&&et[et.length-1].abs.push(yt)}}J=z?null:L==="stroke"?"stroke":"fill";for(var xe=!1,oe=0;oe<et.length;oe++)if(et[oe].arc)for(var qt=et[oe].abs,Ht=0;Ht<qt.length;Ht++){var Gt=qt[Ht];Gt.type==="arc"?q.call(this,Gt.x,Gt.y,Gt.radius,Gt.startAngle,Gt.endAngle,Gt.counterclockwise,void 0,z,!xe):G.call(this,Gt.x,Gt.y),xe=!0}else if(et[oe].close===!0)this.pdf.internal.out("h"),xe=!1;else if(et[oe].begin!==!0){var $t=et[oe].start.x,ce=et[oe].start.y;H.call(this,et[oe].deltas,$t,ce),xe=!0}J&&dt.call(this,J),z&&bt.call(this)}},mt=function(L){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-W;case"top":return L+z-W;case"hanging":return L+z-2*W;case"middle":return L+z/2-W;case"ideographic":return L;case"alphabetic":default:return L}},tt=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(z,W){this.colorStops.push([z,W])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var q=function(L,z,W,J,et,pt,vt,yt,It){for(var Ut=wt.call(this,W,J,et,pt),Qt=0;Qt<Ut.length;Qt++){var Xt=Ut[Qt];Qt===0&&(It?R.call(this,Xt.x1+L,Xt.y1+z):G.call(this,Xt.x1+L,Xt.y1+z)),Lt.call(this,L,z,Xt.x2,Xt.y2,Xt.x3,Xt.y3,Xt.x4,Xt.y4)}yt?bt.call(this):dt.call(this,vt)},dt=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},bt=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(L,z){this.pdf.internal.out(e(L)+" "+n(z)+" m")},B=function(L){var z;switch(L.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var W=this.pdf.getTextDimensions(L.text),J=mt.call(this,L.y),et=tt.call(this,J)-W.h,pt=this.ctx.transform.applyToPoint(new l(L.x,J)),vt=this.ctx.transform.decompose(),yt=new h;yt=(yt=(yt=yt.multiply(vt.translate)).multiply(vt.skew)).multiply(vt.scale);for(var It,Ut,Qt,Xt=this.ctx.transform.applyToRectangle(new c(L.x,J,W.w,W.h)),de=yt.applyToRectangle(new c(L.x,et,W.w,W.h)),Dt=O.call(this,de),Q=[],xe=0;xe<Dt.length;xe+=1)Q.indexOf(Dt[xe])===-1&&Q.push(Dt[xe]);if(Y(Q),this.autoPaging)for(var oe=Q[0],qt=Q[Q.length-1],Ht=oe;Ht<qt+1;Ht++){this.pdf.setPage(Ht);var Gt=Ht===1?this.posY+this.margin[0]:this.margin[0],$t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ce=this.pdf.internal.pageSize.height-this.margin[2],_e=ce-this.margin[0],Ae=this.pdf.internal.pageSize.width-this.margin[1],Ne=Ae-this.margin[3],je=Ht===1?0:$t+(Ht-2)*_e;if(this.ctx.clip_path.length!==0){var qe=this.path;It=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(It,this.posX+this.margin[3],-1*je+Gt),Z.call(this,"fill",!0),this.path=qe}var ve=F([JSON.parse(JSON.stringify(de))],this.posX+this.margin[3],-je+Gt+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(Ut=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ut*L.scale),Qt=this.lineWidth,this.lineWidth=Qt*L.scale);var Pe=this.autoPaging!=="text";if(Pe||ve.y+ve.h<=ce){if(Pe||ve.y>=Gt&&ve.x<=Ae){var Jt=Pe?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Ae-ve.x)[0],rr=F([JSON.parse(JSON.stringify(Xt))],this.posX+this.margin[3],-je+Gt+this.ctx.prevPageLastElemOffset)[0],Re=Pe&&(Ht>oe||Ht<qt)&&k.call(this);Re&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,_e,null).clip().discardPath()),this.pdf.text(Jt,rr.x,rr.y,{angle:L.angle,align:z,renderingMode:L.renderingMode}),Re&&this.pdf.restoreGraphicsState()}}else ve.y<ce&&(this.ctx.prevPageLastElemOffset+=ce-ve.y);L.scale>=.01&&(this.pdf.setFontSize(Ut),this.lineWidth=Qt)}else L.scale>=.01&&(Ut=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ut*L.scale),Qt=this.lineWidth,this.lineWidth=Qt*L.scale),this.pdf.text(L.text,pt.x+this.posX,pt.y+this.posY,{angle:L.angle,align:z,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(Ut),this.lineWidth=Qt)},G=function(L,z,W,J){W=W||0,J=J||0,this.pdf.internal.out(e(L+W)+" "+n(z+J)+" l")},H=function(L,z,W){return this.pdf.lines(L,z,W,null,null)},Lt=function(L,z,W,J,et,pt,vt,yt){this.pdf.internal.out([t(i(W+L)),t(s(J+z)),t(i(et+L)),t(s(pt+z)),t(i(vt+L)),t(s(yt+z)),"c"].join(" "))},wt=function(L,z,W,J){for(var et=2*Math.PI,pt=Math.PI/2;z>W;)z-=et;var vt=Math.abs(W-z);vt<et&&J&&(vt=et-vt);for(var yt=[],It=J?-1:1,Ut=z;vt>1e-5;){var Qt=Ut+It*Math.min(vt,pt);yt.push(Ct.call(this,L,Ut,Qt)),vt-=Math.abs(Qt-Ut),Ut=Qt}return yt},Ct=function(L,z,W){var J=(W-z)/2,et=L*Math.cos(J),pt=L*Math.sin(J),vt=et,yt=-pt,It=vt*vt+yt*yt,Ut=It+vt*et+yt*pt,Qt=4/3*(Math.sqrt(2*It*Ut)-Ut)/(vt*pt-yt*et),Xt=vt-Qt*yt,de=yt+Qt*vt,Dt=Xt,Q=-de,xe=J+z,oe=Math.cos(xe),qt=Math.sin(xe);return{x1:L*Math.cos(z),y1:L*Math.sin(z),x2:Xt*oe-de*qt,y2:Xt*qt+de*oe,x3:Dt*oe-Q*qt,y3:Dt*qt+Q*oe,x4:L*Math.cos(W),y4:L*Math.sin(W)}},X=function(L){return 180*L/Math.PI},ft=function(L,z,W,J,et,pt){var vt=L+.5*(W-L),yt=z+.5*(J-z),It=et+.5*(W-et),Ut=pt+.5*(J-pt),Qt=Math.min(L,et,vt,It),Xt=Math.max(L,et,vt,It),de=Math.min(z,pt,yt,Ut),Dt=Math.max(z,pt,yt,Ut);return new c(Qt,de,Xt-Qt,Dt-de)},ct=function(L,z,W,J,et,pt,vt,yt){var It,Ut,Qt,Xt,de,Dt,Q,xe,oe,qt,Ht,Gt,$t,ce,_e=W-L,Ae=J-z,Ne=et-W,je=pt-J,qe=vt-et,ve=yt-pt;for(Ut=0;Ut<41;Ut++)oe=(Q=(Qt=L+(It=Ut/40)*_e)+It*((de=W+It*Ne)-Qt))+It*(de+It*(et+It*qe-de)-Q),qt=(xe=(Xt=z+It*Ae)+It*((Dt=J+It*je)-Xt))+It*(Dt+It*(pt+It*ve-Dt)-xe),Ut==0?(Ht=oe,Gt=qt,$t=oe,ce=qt):(Ht=Math.min(Ht,oe),Gt=Math.min(Gt,qt),$t=Math.max($t,oe),ce=Math.max(ce,qt));return new c(Math.round(Ht),Math.round(Gt),Math.round($t-Ht),Math.round(ce-Gt))},K=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,z,W=(L=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:z}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(ye.API),function(a){var t=function(s){var l,c,h,p,m,w,b,y,A,k;for(c=[],h=0,p=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;p>h;h+=4)(m=(s.charCodeAt(h)<<24)+(s.charCodeAt(h+1)<<16)+(s.charCodeAt(h+2)<<8)+s.charCodeAt(h+3))!==0?(w=(m=((m=((m=((m=(m-(k=m%85))/85)-(A=m%85))/85)-(y=m%85))/85)-(b=m%85))/85)%85,c.push(w+33,b+33,y+33,A+33,k+33)):c.push(122);return function(O,T){for(var F=T;F>0;F--)O.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},e=function(s){var l,c,h,p,m,w=String,b="length",y=255,A="charCodeAt",k="slice",O="replace";for(s[k](-2),s=s[k](0,-2)[O](/\s/g,"")[O]("z","!!!!!"),h=[],p=0,m=(s+=l="uuuuu"[k](s[b]%5||5))[b];m>p;p+=5)c=52200625*(s[A](p)-33)+614125*(s[A](p+1)-33)+7225*(s[A](p+2)-33)+85*(s[A](p+3)-33)+(s[A](p+4)-33),h.push(y&c>>24,y&c>>16,y&c>>8,y&c);return function(T,F){for(var Y=F;Y>0;Y--)T.pop()}(h,l[b]),w.fromCharCode.apply(w,h)},n=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var c="",h=0;h<s.length;h+=2)c+=String.fromCharCode("0x"+(s[h]+s[h+1]));return c},i=function(s){for(var l=new Uint8Array(s.length),c=s.length;c--;)l[c]=s.charCodeAt(c);return s=(l=Np(l)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};a.processDataByFilters=function(s,l){var c=0,h=s||"",p=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":h=e(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=n(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(m){return("0"+m.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=i(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}}(ye.API),function(a){a.loadFile=function(t,e,n){return function(i,s,l){s=s!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(h,p,m){var w=new XMLHttpRequest,b=0,y=function(A){var k=A.length,O=[],T=String.fromCharCode;for(b=0;b<k;b+=1)O.push(T(255&A.charCodeAt(b)));return O.join("")};if(w.open("GET",h,!p),w.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(w.onload=function(){w.status===200?m(y(this.responseText)):m(void 0)}),w.send(null),p&&w.status===200)return y(w.responseText)}(i,s,l)}catch{}return c}(t,e,n)},a.loadImageFile=a.loadFile}(ye.API),function(a){function t(){return(we.html2canvas?Promise.resolve(we.html2canvas):kp(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function e(){return(we.DOMPurify?Promise.resolve(we.DOMPurify):kp(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=ln(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var h=document.createElement(l);for(var p in c.className&&(h.className=c.className),c.innerHTML&&c.dompurify&&(h.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)h.style[p]=c.style[p];return h},s=function l(c){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),p=l.convert(Promise.resolve(),h);return p=(p=p.setProgress(1,l,1,[l])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,c){return l.__proto__=c||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(h){switch(n(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(e).then(function(h){return this.set({src:i("div",{innerHTML:l,dompurify:h})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function h(p,m){for(var w=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),b=p.firstChild;b;b=b.nextSibling)m!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||w.appendChild(h(b,m));return p.nodeType===1&&(p.nodeName==="CANVAS"?(w.width=p.width,w.height=p.height,w.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(w.value=p.value),w.addEventListener("load",function(){w.scrollTop=p.scrollTop,w.scrollLeft=p.scrollLeft},!0)),w}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,c(this.prop.container,h)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var h=this.opt.jsPDF,p=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var b=0;b<p.length;++b){var y=p[b],A=y.src.find(function(k){return k.format==="truetype"});A&&h.addFont(A.url,y.ref.name,y.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,h.context2d.save(!0),c(this.prop.container,w)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,c,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},s.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(h){if(h in s.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(l,c){return this.then(function(){var h=l in s.template.prop?this.prop[l]:this.opt[l];return c?c(h):h})},s.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function c(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(l=l||ye.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,c,h,p){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,c,h,p){return this.setProgress(l?this.progress.val+l:null,c||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},s.prototype.then=function(l,c){var h=this;return this.thenCore(l,c,function(p,m){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(w){return h.updateProgress(null,p),w}).then(p,m).then(function(w){return h.updateProgress(1),w})})},s.prototype.thenCore=function(l,c,h){h=h||Promise.prototype.then,l&&(l=l.bind(this)),c&&(c=c.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),m=h.call(p,l,c);return s.convert(m,this.__proto__)},s.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},s.prototype.thenList=function(l){var c=this;return l.forEach(function(h){c=c.thenCore(h)}),c},s.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return s.convert(c,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ye.getPageSize=function(l,c,h){if(ln(l)==="object"){var p=l;l=p.orientation,c=p.unit||c,h=p.format||h}c=c||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var m,w=(""+h).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}var y,A=0,k=0;if(b.hasOwnProperty(w))A=b[w][1]/m,k=b[w][0]/m;else try{A=h[1],k=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",k>A&&(y=k,k=A,A=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",A>k&&(y=k,k=A,A=y)}return{width:k,height:A,unit:c,k:m,orientation:l}},a.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Fp):null;var h=new s(c);return c.worker?h:h.from(l).doCallback()}}(ye.API),ye.API.addJS=function(a){return p1=a,this.internal.events.subscribe("postPutResources",function(){gf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(gf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),d1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+p1+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){gf!==void 0&&d1!==void 0&&this.internal.out("/Names <</JavaScript "+gf+" 0 R>>")}),this},function(a){var t;a.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),s=0;s<i.length;s++){var l=i[s],c=n.exec(l);if(c!=null){var h=c[1];e.internal.newObjectDeferredBegin(h,!1)}e.internal.write(l)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,m=[];for(s=0;s<p;s++){var w=e.internal.newObject();m.push(w);var b=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var y=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<m.length;s++)e.internal.write("(page_"+(s+1)+")"+m[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+y+" 0 R"),e.internal.write(">>","endobj")}}]),a.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),a.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,i,s){var l={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(l),l},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var l=n.children[s];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var h=e.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var p=0;p<n.children.length;p++)this.renderItems(n.children[p])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(ye.API),function(a){var t=[192,193,194,195,196,197,198,199];a.processJPEG=function(e,n,i,s,l,c){var h,p=this.decode.DCT_DECODE,m=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=l||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(h=function(w){for(var b,y=256*w.charCodeAt(4)+w.charCodeAt(5),A=w.length,k={width:0,height:0,numcomponents:1},O=4;O<A;O+=2){if(O+=y,t.indexOf(w.charCodeAt(O+1))!==-1){b=256*w.charCodeAt(O+5)+w.charCodeAt(O+6),k={width:256*w.charCodeAt(O+7)+w.charCodeAt(O+8),height:b,numcomponents:w.charCodeAt(O+9)};break}y=256*w.charCodeAt(O+2)+w.charCodeAt(O+3)}return k}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:e,width:h.width,height:h.height,colorSpace:c,bitsPerComponent:8,filter:p,index:n,alias:i}}return m}}(ye.API);var Jc,mf,g1,m1,v1,tw=function(){var a,t,e;function n(s){var l,c,h,p,m,w,b,y,A,k,O,T,F,Y;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},w=null;;){switch(l=this.readUInt32(),A=(function(){var st,Z;for(Z=[],st=0;st<4;++st)Z.push(String.fromCharCode(this.data[this.pos++]));return Z}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":w&&this.animation.frames.push(w),this.pos+=4,w={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},m=this.readUInt16(),p=this.readUInt16()||100,w.delay=1e3*m/p,w.disposeOp=this.data[this.pos++],w.blendOp=this.data[this.pos++],w.data=[];break;case"IDAT":case"fdAT":for(A==="fdAT"&&(this.pos+=4,l-=4),s=(w!=null?w.data:void 0)||this.imgData,T=0;0<=l?T<l:T>l;0<=l?++T:--T)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((k=h-this.transparency.indexed.length)>0)for(F=0;0<=k?F<k:F>k;0<=k?++F:--F)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":b=(O=this.read(l)).indexOf(0),y=String.fromCharCode.apply(String,O.slice(0,b)),this.text[y]=String.fromCharCode.apply(String,O.slice(b+1));break;case"IEND":return w&&this.animation.frames.push(w),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(Y=this.colorType)===4||Y===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var l,c;for(c=[],l=0;0<=s?l<s:l>s;0<=s?++l:--l)c.push(this.data[this.pos++]);return c},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var l=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*l),h=0,p=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function m(w,b,y,A){var k,O,T,F,Y,st,Z,mt,tt,q,dt,bt,R,B,G,H,Lt,wt,Ct,X,ft,ct=Math.ceil((p.width-w)/y),K=Math.ceil((p.height-b)/A),L=p.width==ct&&p.height==K;for(B=l*ct,bt=L?c:new Uint8Array(B*K),st=s.length,R=0,O=0;R<K&&h<st;){switch(s[h++]){case 0:for(F=Lt=0;Lt<B;F=Lt+=1)bt[O++]=s[h++];break;case 1:for(F=wt=0;wt<B;F=wt+=1)k=s[h++],Y=F<l?0:bt[O-l],bt[O++]=(k+Y)%256;break;case 2:for(F=Ct=0;Ct<B;F=Ct+=1)k=s[h++],T=(F-F%l)/l,G=R&&bt[(R-1)*B+T*l+F%l],bt[O++]=(G+k)%256;break;case 3:for(F=X=0;X<B;F=X+=1)k=s[h++],T=(F-F%l)/l,Y=F<l?0:bt[O-l],G=R&&bt[(R-1)*B+T*l+F%l],bt[O++]=(k+Math.floor((Y+G)/2))%256;break;case 4:for(F=ft=0;ft<B;F=ft+=1)k=s[h++],T=(F-F%l)/l,Y=F<l?0:bt[O-l],R===0?G=H=0:(G=bt[(R-1)*B+T*l+F%l],H=T&&bt[(R-1)*B+(T-1)*l+F%l]),Z=Y+G-H,mt=Math.abs(Z-Y),q=Math.abs(Z-G),dt=Math.abs(Z-H),tt=mt<=q&&mt<=dt?Y:q<=dt?G:H,bt[O++]=(k+tt)%256;break;default:throw new Error("Invalid filter algorithm: "+s[h-1])}if(!L){var z=((b+R*A)*p.width+w)*l,W=R*B;for(F=0;F<ct;F+=1){for(var J=0;J<l;J+=1)c[z++]=bt[W++];z+=(y-1)*l}}R++}}return s=Ey(s),p.interlaceMethod==1?(m(0,0,8,8),m(4,0,8,8),m(0,4,4,8),m(2,0,4,4),m(0,2,2,4),m(1,0,2,2),m(0,1,1,2)):m(0,0,1,1),c},n.prototype.decodePalette=function(){var s,l,c,h,p,m,w,b,y;for(c=this.palette,m=this.transparency.indexed||[],p=new Uint8Array((m.length||0)+c.length),h=0,s=0,l=w=0,b=c.length;w<b;l=w+=3)p[h++]=c[l],p[h++]=c[l+1],p[h++]=c[l+2],p[h++]=(y=m[s++])!=null?y:255;return p},n.prototype.copyToImageData=function(s,l){var c,h,p,m,w,b,y,A,k,O,T;if(h=this.colors,k=null,c=this.hasAlphaChannel,this.palette.length&&(k=(T=this._decodedPalette)!=null?T:this._decodedPalette=this.decodePalette(),h=4,c=!0),A=(p=s.data||s).length,w=k||l,m=b=0,h===1)for(;m<A;)y=k?4*l[m/4]:b,O=w[y++],p[m++]=O,p[m++]=O,p[m++]=O,p[m++]=c?w[y++]:255,b=y;else for(;m<A;)y=k?4*l[m/4]:b,p[m++]=w[y++],p[m++]=w[y++],p[m++]=w[y++],p[m++]=c?w[y++]:255,b=y},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(we)==="[object Window]"){try{t=we.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),a=function(s){var l;if(i()===!0)return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(l=new Image).src=t.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var l,c,h,p,m,w,b,y;if(this.animation){for(y=[],c=m=0,w=(b=this.animation.frames).length;m<w;c=++m)l=b[c],h=s.createImageData(l.width,l.height),p=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(h,p),l.imageData=h,y.push(l.image=a(h));return y}},n.prototype.renderFrame=function(s,l){var c,h,p;return c=(h=this.animation.frames)[l],p=h[l-1],l===0&&s.clearRect(0,0,this.width,this.height),(p!=null?p.disposeOp:void 0)===1?s.clearRect(p.xOffset,p.yOffset,p.width,p.height):(p!=null?p.disposeOp:void 0)===2&&s.putImageData(p.imageData,p.xOffset,p.yOffset),c.blendOp===0&&s.clearRect(c.xOffset,c.yOffset,c.width,c.height),s.drawImage(c.image,c.xOffset,c.yOffset)},n.prototype.animate=function(s){var l,c,h,p,m,w,b=this;return c=0,w=this.animation,p=w.numFrames,h=w.frames,m=w.numPlays,(l=function(){var y,A;if(y=c++%p,A=h[y],b.renderFrame(s,y),p>1&&c/p<m)return b.animation._timeout=setTimeout(l,A.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var l,c;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,l=s.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(c=l.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),l.putImageData(c,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function ew(a){var t=0;if(a[t++]!==71||a[t++]!==73||a[t++]!==70||a[t++]!==56||(a[t++]+1&253)!=56||a[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=a[t++]|a[t++]<<8,n=a[t++]|a[t++]<<8,i=a[t++],s=i>>7,l=1<<(7&i)+1;a[t++],a[t++];var c=null,h=null;s&&(c=t,h=l,t+=3*l);var p=!0,m=[],w=0,b=null,y=0,A=null;for(this.width=e,this.height=n;p&&t<a.length;)switch(a[t++]){case 33:switch(a[t++]){case 255:if(a[t]!==11||a[t+1]==78&&a[t+2]==69&&a[t+3]==84&&a[t+4]==83&&a[t+5]==67&&a[t+6]==65&&a[t+7]==80&&a[t+8]==69&&a[t+9]==50&&a[t+10]==46&&a[t+11]==48&&a[t+12]==3&&a[t+13]==1&&a[t+16]==0)t+=14,A=a[t++]|a[t++]<<8,t++;else for(t+=12;;){if(!((R=a[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;case 249:if(a[t++]!==4||a[t+4]!==0)throw new Error("Invalid graphics extension block.");var k=a[t++];w=a[t++]|a[t++]<<8,b=a[t++],!(1&k)&&(b=null),y=k>>2&7,t++;break;case 254:for(;;){if(!((R=a[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;default:throw new Error("Unknown graphic control label: 0x"+a[t-1].toString(16))}break;case 44:var O=a[t++]|a[t++]<<8,T=a[t++]|a[t++]<<8,F=a[t++]|a[t++]<<8,Y=a[t++]|a[t++]<<8,st=a[t++],Z=st>>6&1,mt=1<<(7&st)+1,tt=c,q=h,dt=!1;st>>7&&(dt=!0,tt=t,q=mt,t+=3*mt);var bt=t;for(t++;;){var R;if(!((R=a[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}m.push({x:O,y:T,width:F,height:Y,has_local_palette:dt,palette_offset:tt,palette_size:q,data_offset:bt,data_length:t-bt,transparent_index:b,interlaced:!!Z,delay:w,disposal:y});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+a[t-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return A},this.frameInfo=function(B){if(B<0||B>=m.length)throw new Error("Frame index out of range.");return m[B]},this.decodeAndBlitFrameBGRA=function(B,G){var H=this.frameInfo(B),Lt=H.width*H.height,wt=new Uint8Array(Lt);y1(a,H.data_offset,wt,Lt);var Ct=H.palette_offset,X=H.transparent_index;X===null&&(X=256);var ft=H.width,ct=e-ft,K=ft,L=4*(H.y*e+H.x),z=4*((H.y+H.height)*e+H.x),W=L,J=4*ct;H.interlaced===!0&&(J+=4*e*7);for(var et=8,pt=0,vt=wt.length;pt<vt;++pt){var yt=wt[pt];if(K===0&&(K=ft,(W+=J)>=z&&(J=4*ct+4*e*(et-1),W=L+(ft+ct)*(et<<1),et>>=1)),yt===X)W+=4;else{var It=a[Ct+3*yt],Ut=a[Ct+3*yt+1],Qt=a[Ct+3*yt+2];G[W++]=Qt,G[W++]=Ut,G[W++]=It,G[W++]=255}--K}},this.decodeAndBlitFrameRGBA=function(B,G){var H=this.frameInfo(B),Lt=H.width*H.height,wt=new Uint8Array(Lt);y1(a,H.data_offset,wt,Lt);var Ct=H.palette_offset,X=H.transparent_index;X===null&&(X=256);var ft=H.width,ct=e-ft,K=ft,L=4*(H.y*e+H.x),z=4*((H.y+H.height)*e+H.x),W=L,J=4*ct;H.interlaced===!0&&(J+=4*e*7);for(var et=8,pt=0,vt=wt.length;pt<vt;++pt){var yt=wt[pt];if(K===0&&(K=ft,(W+=J)>=z&&(J=4*ct+4*e*(et-1),W=L+(ft+ct)*(et<<1),et>>=1)),yt===X)W+=4;else{var It=a[Ct+3*yt],Ut=a[Ct+3*yt+1],Qt=a[Ct+3*yt+2];G[W++]=It,G[W++]=Ut,G[W++]=Qt,G[W++]=255}--K}}}function y1(a,t,e,n){for(var i=a[t++],s=1<<i,l=s+1,c=l+1,h=i+1,p=(1<<h)-1,m=0,w=0,b=0,y=a[t++],A=new Int32Array(4096),k=null;;){for(;m<16&&y!==0;)w|=a[t++]<<m,m+=8,y===1?y=a[t++]:--y;if(m<h)break;var O=w&p;if(w>>=h,m-=h,O!==s){if(O===l)break;for(var T=O<c?O:k,F=0,Y=T;Y>s;)Y=A[Y]>>8,++F;var st=Y;if(b+F+(T!==O?1:0)>n)return void fn.log("Warning, gif stream longer than expected.");e[b++]=st;var Z=b+=F;for(T!==O&&(e[b++]=st),Y=T;F--;)Y=A[Y],e[--Z]=255&Y,Y>>=8;k!==null&&c<4096&&(A[c++]=k<<8|st,c>=p+1&&h<12&&(++h,p=p<<1|1)),k=O}else c=l+1,p=(1<<(h=i+1))-1,k=null}return b!==n&&fn.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function hp(a){var t,e,n,i,s,l=Math.floor,c=new Array(64),h=new Array(64),p=new Array(64),m=new Array(64),w=new Array(65535),b=new Array(65535),y=new Array(64),A=new Array(64),k=[],O=0,T=7,F=new Array(64),Y=new Array(64),st=new Array(64),Z=new Array(256),mt=new Array(2048),tt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],dt=[0,1,2,3,4,5,6,7,8,9,10,11],bt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Lt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function wt(L,z){for(var W=0,J=0,et=new Array,pt=1;pt<=16;pt++){for(var vt=1;vt<=L[pt];vt++)et[z[J]]=[],et[z[J]][0]=W,et[z[J]][1]=pt,J++,W++;W*=2}return et}function Ct(L){for(var z=L[0],W=L[1]-1;W>=0;)z&1<<W&&(O|=1<<T),W--,--T<0&&(O==255?(X(255),X(0)):X(O),T=7,O=0)}function X(L){k.push(L)}function ft(L){X(L>>8&255),X(255&L)}function ct(L,z,W,J,et){for(var pt,vt=et[0],yt=et[240],It=function(qt,Ht){var Gt,$t,ce,_e,Ae,Ne,je,qe,ve,Pe,Jt=0;for(ve=0;ve<8;++ve){Gt=qt[Jt],$t=qt[Jt+1],ce=qt[Jt+2],_e=qt[Jt+3],Ae=qt[Jt+4],Ne=qt[Jt+5],je=qt[Jt+6];var rr=Gt+(qe=qt[Jt+7]),Re=Gt-qe,hi=$t+je,nn=$t-je,cn=ce+Ne,fi=ce-Ne,Be=_e+Ae,ms=_e-Ae,dn=rr+Be,ir=rr-Be,Nr=hi+cn,pn=hi-cn;qt[Jt]=dn+Nr,qt[Jt+4]=dn-Nr;var be=.707106781*(pn+ir);qt[Jt+2]=ir+be,qt[Jt+6]=ir-be;var We=.382683433*((dn=ms+fi)-(pn=nn+Re)),Ks=.5411961*dn+We,Hn=1.306562965*pn+We,di=.707106781*(Nr=fi+nn),Oi=Re+di,he=Re-di;qt[Jt+5]=he+Ks,qt[Jt+3]=he-Ks,qt[Jt+1]=Oi+Hn,qt[Jt+7]=Oi-Hn,Jt+=8}for(Jt=0,ve=0;ve<8;++ve){Gt=qt[Jt],$t=qt[Jt+8],ce=qt[Jt+16],_e=qt[Jt+24],Ae=qt[Jt+32],Ne=qt[Jt+40],je=qt[Jt+48];var Jr=Gt+(qe=qt[Jt+56]),Or=Gt-qe,Er=$t+je,gn=$t-je,mn=ce+Ne,sr=ce-Ne,Js=_e+Ae,vs=_e-Ae,Ei=Jr+Js,Di=Jr-Js,Kn=Er+mn,Mi=Er-mn;qt[Jt]=Ei+Kn,qt[Jt+32]=Ei-Kn;var Qr=.707106781*(Mi+Di);qt[Jt+16]=Di+Qr,qt[Jt+48]=Di-Qr;var $i=.382683433*((Ei=vs+sr)-(Mi=gn+Or)),Qs=.5411961*Ei+$i,No=1.306562965*Mi+$i,Oo=.707106781*(Kn=sr+gn),Eo=Or+Oo,Sa=Or-Oo;qt[Jt+40]=Sa+Qs,qt[Jt+24]=Sa-Qs,qt[Jt+8]=Eo+No,qt[Jt+56]=Eo-No,Jt++}for(ve=0;ve<64;++ve)Pe=qt[ve]*Ht[ve],y[ve]=Pe>0?Pe+.5|0:Pe-.5|0;return y}(L,z),Ut=0;Ut<64;++Ut)A[tt[Ut]]=It[Ut];var Qt=A[0]-W;W=A[0],Qt==0?Ct(J[0]):(Ct(J[b[pt=32767+Qt]]),Ct(w[pt]));for(var Xt=63;Xt>0&&A[Xt]==0;)Xt--;if(Xt==0)return Ct(vt),W;for(var de,Dt=1;Dt<=Xt;){for(var Q=Dt;A[Dt]==0&&Dt<=Xt;)++Dt;var xe=Dt-Q;if(xe>=16){de=xe>>4;for(var oe=1;oe<=de;++oe)Ct(yt);xe&=15}pt=32767+A[Dt],Ct(et[(xe<<4)+b[pt]]),Ct(w[pt]),Dt++}return Xt!=63&&Ct(vt),W}function K(L){L=Math.min(Math.max(L,1),100),s!=L&&(function(z){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var et=l((W[J]*z+50)/100);et=Math.min(Math.max(et,1),255),c[tt[J]]=et}for(var pt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],vt=0;vt<64;vt++){var yt=l((pt[vt]*z+50)/100);yt=Math.min(Math.max(yt,1),255),h[tt[vt]]=yt}for(var It=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ut=0,Qt=0;Qt<8;Qt++)for(var Xt=0;Xt<8;Xt++)p[Ut]=1/(c[tt[Ut]]*It[Qt]*It[Xt]*8),m[Ut]=1/(h[tt[Ut]]*It[Qt]*It[Xt]*8),Ut++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),s=L)}this.encode=function(L,z){z&&K(z),k=new Array,O=0,T=7,ft(65496),ft(65504),ft(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),ft(1),ft(1),X(0),X(0),function(){ft(65499),ft(132),X(0);for(var $t=0;$t<64;$t++)X(c[$t]);X(1);for(var ce=0;ce<64;ce++)X(h[ce])}(),function($t,ce){ft(65472),ft(17),X(8),ft(ce),ft($t),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(L.width,L.height),function(){ft(65476),ft(418),X(0);for(var $t=0;$t<16;$t++)X(q[$t+1]);for(var ce=0;ce<=11;ce++)X(dt[ce]);X(16);for(var _e=0;_e<16;_e++)X(bt[_e+1]);for(var Ae=0;Ae<=161;Ae++)X(R[Ae]);X(1);for(var Ne=0;Ne<16;Ne++)X(B[Ne+1]);for(var je=0;je<=11;je++)X(G[je]);X(17);for(var qe=0;qe<16;qe++)X(H[qe+1]);for(var ve=0;ve<=161;ve++)X(Lt[ve])}(),ft(65498),ft(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var W=0,J=0,et=0;O=0,T=7,this.encode.displayName="_encode_";for(var pt,vt,yt,It,Ut,Qt,Xt,de,Dt,Q=L.data,xe=L.width,oe=L.height,qt=4*xe,Ht=0;Ht<oe;){for(pt=0;pt<qt;){for(Ut=qt*Ht+pt,Xt=-1,de=0,Dt=0;Dt<64;Dt++)Qt=Ut+(de=Dt>>3)*qt+(Xt=4*(7&Dt)),Ht+de>=oe&&(Qt-=qt*(Ht+1+de-oe)),pt+Xt>=qt&&(Qt-=pt+Xt-qt+4),vt=Q[Qt++],yt=Q[Qt++],It=Q[Qt++],F[Dt]=(mt[vt]+mt[yt+256>>0]+mt[It+512>>0]>>16)-128,Y[Dt]=(mt[vt+768>>0]+mt[yt+1024>>0]+mt[It+1280>>0]>>16)-128,st[Dt]=(mt[vt+1280>>0]+mt[yt+1536>>0]+mt[It+1792>>0]>>16)-128;W=ct(F,p,W,t,n),J=ct(Y,m,J,e,i),et=ct(st,m,et,e,i),pt+=32}Ht+=8}if(T>=0){var Gt=[];Gt[1]=T+1,Gt[0]=(1<<T+1)-1,Ct(Gt)}return ft(65497),new Uint8Array(k)},a=a||50,function(){for(var L=String.fromCharCode,z=0;z<256;z++)Z[z]=L(z)}(),t=wt(q,dt),e=wt(B,G),n=wt(bt,R),i=wt(H,Lt),function(){for(var L=1,z=2,W=1;W<=15;W++){for(var J=L;J<z;J++)b[32767+J]=W,w[32767+J]=[],w[32767+J][1]=W,w[32767+J][0]=J;for(var et=-(z-1);et<=-L;et++)b[32767+et]=W,w[32767+et]=[],w[32767+et][1]=W,w[32767+et][0]=z-1+et;L<<=1,z<<=1}}(),function(){for(var L=0;L<256;L++)mt[L]=19595*L,mt[L+256>>0]=38470*L,mt[L+512>>0]=7471*L+32768,mt[L+768>>0]=-11059*L,mt[L+1024>>0]=-21709*L,mt[L+1280>>0]=32768*L+8421375,mt[L+1536>>0]=-27439*L,mt[L+1792>>0]=-5329*L}(),K(a)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function zs(a,t){if(this.pos=0,this.buffer=a,this.datav=new DataView(a.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function w1(a){function t(q){if(!q)throw Error("assert :P")}function e(q,dt,bt){for(var R=0;4>R;R++)if(q[dt+R]!=bt.charCodeAt(R))return!0;return!1}function n(q,dt,bt,R,B){for(var G=0;G<B;G++)q[dt+G]=bt[R+G]}function i(q,dt,bt,R){for(var B=0;B<R;B++)q[dt+B]=bt}function s(q){return new Int32Array(q)}function l(q,dt){for(var bt=[],R=0;R<q;R++)bt.push(new dt);return bt}function c(q,dt){var bt=[];return function R(B,G,H){for(var Lt=H[G],wt=0;wt<Lt&&(B.push(H.length>G+1?[]:new dt),!(H.length<G+1));wt++)R(B[wt],G+1,H)}(bt,0,q),bt}var h=function(){var q=this;function dt(f,g){for(var _=1<<g-1>>>0;f&_;)_>>>=1;return _?(f&_-1)+_:f}function bt(f,g,_,C,P){t(!(C%_));do f[g+(C-=_)]=P;while(0<C)}function R(f,g,_,C,P){if(t(2328>=P),512>=P)var D=s(512);else if((D=s(P))==null)return 0;return function(M,j,I,U,rt,_t){var St,gt,jt=j,Nt=1<<I,nt=s(16),at=s(16);for(t(rt!=0),t(U!=null),t(M!=null),t(0<I),gt=0;gt<rt;++gt){if(15<U[gt])return 0;++nt[U[gt]]}if(nt[0]==rt)return 0;for(at[1]=0,St=1;15>St;++St){if(nt[St]>1<<St)return 0;at[St+1]=at[St]+nt[St]}for(gt=0;gt<rt;++gt)St=U[gt],0<U[gt]&&(_t[at[St]++]=gt);if(at[15]==1)return(U=new B).g=0,U.value=_t[0],bt(M,jt,1,Nt,U),Nt;var Pt,Mt=-1,Ft=Nt-1,te=0,Yt=1,fe=1,Kt=1<<I;for(gt=0,St=1,rt=2;St<=I;++St,rt<<=1){if(Yt+=fe<<=1,0>(fe-=nt[St]))return 0;for(;0<nt[St];--nt[St])(U=new B).g=St,U.value=_t[gt++],bt(M,jt+te,rt,Kt,U),te=dt(te,St)}for(St=I+1,rt=2;15>=St;++St,rt<<=1){if(Yt+=fe<<=1,0>(fe-=nt[St]))return 0;for(;0<nt[St];--nt[St]){if(U=new B,(te&Ft)!=Mt){for(jt+=Kt,Pt=1<<(Mt=St)-I;15>Mt&&!(0>=(Pt-=nt[Mt]));)++Mt,Pt<<=1;Nt+=Kt=1<<(Pt=Mt-I),M[j+(Mt=te&Ft)].g=Pt+I,M[j+Mt].value=jt-j-Mt}U.g=St-I,U.value=_t[gt++],bt(M,jt+(te>>I),rt,Kt,U),te=dt(te,St)}}return Yt!=2*at[15]-1?0:Nt}(f,g,_,C,P,D)}function B(){this.value=this.g=0}function G(){this.value=this.g=0}function H(){this.G=l(5,B),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Sn,G)}function Lt(f,g,_,C){t(f!=null),t(g!=null),t(2147483648>C),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=g,f.pa=_,f.Jd=g,f.Yc=_+C,f.Zc=4<=C?_+C-4+1:_,pt(f)}function wt(f,g){for(var _=0;0<g--;)_|=yt(f,128)<<g;return _}function Ct(f,g){var _=wt(f,g);return vt(f)?-_:_}function X(f,g,_,C){var P,D=0;for(t(f!=null),t(g!=null),t(4294967288>C),f.Sb=C,f.Ra=0,f.u=0,f.h=0,4<C&&(C=4),P=0;P<C;++P)D+=g[_+P]<<8*P;f.Ra=D,f.bb=C,f.oa=g,f.pa=_}function ft(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Wa-8>>>0,++f.bb,f.u-=8;W(f)&&(f.h=1,f.u=0)}function ct(f,g){if(t(0<=g),!f.h&&g<=qa){var _=z(f)&Ua[g];return f.u+=g,ft(f),_}return f.h=1,f.u=0}function K(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(f){return f.Ra>>>(f.u&Wa-1)>>>0}function W(f){return t(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Wa}function J(f,g){f.u=g,f.h=W(f)}function et(f){f.u>=Va&&(t(f.u>=Va),ft(f))}function pt(f){t(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(t(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function vt(f){return wt(f,1)}function yt(f,g){var _=f.Ca;0>f.b&&pt(f);var C=f.b,P=_*g>>>8,D=(f.I>>>C>P)+0;for(D?(_-=P,f.I-=P+1<<C>>>0):_=P+1,C=_,P=0;256<=C;)P+=8,C>>=8;return C=7^P+vr[C],f.b-=C,f.Ca=(_<<C)-1,D}function It(f,g,_){f[g+0]=_>>24&255,f[g+1]=_>>16&255,f[g+2]=_>>8&255,f[g+3]=_>>0&255}function Ut(f,g){return f[g+0]<<0|f[g+1]<<8}function Qt(f,g){return Ut(f,g)|f[g+2]<<16}function Xt(f,g){return Ut(f,g)|Ut(f,g+2)<<16}function de(f,g){var _=1<<g;return t(f!=null),t(0<g),f.X=s(_),f.X==null?0:(f.Mb=32-g,f.Xa=g,1)}function Dt(f,g){t(f!=null),t(g!=null),t(f.Xa==g.Xa),n(g.X,0,f.X,0,1<<g.Xa)}function Q(){this.X=[],this.Xa=this.Mb=0}function xe(f,g,_,C){t(_!=null),t(C!=null);var P=_[0],D=C[0];return P==0&&(P=(f*D+g/2)/g),D==0&&(D=(g*P+f/2)/f),0>=P||0>=D?0:(_[0]=P,C[0]=D,1)}function oe(f,g){return f+(1<<g)-1>>>g}function qt(f,g){return((4278255360&f)+(4278255360&g)>>>0&4278255360)+((16711935&f)+(16711935&g)>>>0&16711935)>>>0}function Ht(f,g){q[g]=function(_,C,P,D,M,j,I){var U;for(U=0;U<M;++U){var rt=q[f](j[I+U-1],P,D+U);j[I+U]=qt(_[C+U],rt)}}}function Gt(){this.ud=this.hd=this.jd=0}function $t(f,g){return((4278124286&(f^g))>>>1)+(f&g)>>>0}function ce(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function _e(f,g){return ce(f+(f-g+.5>>1))}function Ae(f,g,_){return Math.abs(g-_)-Math.abs(f-_)}function Ne(f,g,_,C,P,D,M){for(C=D[M-1],_=0;_<P;++_)D[M+_]=C=qt(f[g+_],C)}function je(f,g,_,C,P){var D;for(D=0;D<_;++D){var M=f[g+D],j=M>>8&255,I=16711935&(I=(I=16711935&M)+((j<<16)+j));C[P+D]=(4278255360&M)+I>>>0}}function qe(f,g){g.jd=f>>0&255,g.hd=f>>8&255,g.ud=f>>16&255}function ve(f,g,_,C,P,D){var M;for(M=0;M<C;++M){var j=g[_+M],I=j>>>8,U=j,rt=255&(rt=(rt=j>>>16)+((f.jd<<24>>24)*(I<<24>>24)>>>5));U=255&(U=(U=U+((f.hd<<24>>24)*(I<<24>>24)>>>5))+((f.ud<<24>>24)*(rt<<24>>24)>>>5)),P[D+M]=(4278255360&j)+(rt<<16)+U}}function Pe(f,g,_,C,P){q[g]=function(D,M,j,I,U,rt,_t,St,gt){for(I=_t;I<St;++I)for(_t=0;_t<gt;++_t)U[rt++]=P(j[C(D[M++])])},q[f]=function(D,M,j,I,U,rt,_t){var St=8>>D.b,gt=D.Ea,jt=D.K[0],Nt=D.w;if(8>St)for(D=(1<<D.b)-1,Nt=(1<<St)-1;M<j;++M){var nt,at=0;for(nt=0;nt<gt;++nt)nt&D||(at=C(I[U++])),rt[_t++]=P(jt[at&Nt]),at>>=St}else q["VP8LMapColor"+_](I,U,jt,Nt,rt,_t,M,j,gt)}}function Jt(f,g,_,C,P){for(_=g+_;g<_;){var D=f[g++];C[P++]=D>>16&255,C[P++]=D>>8&255,C[P++]=D>>0&255}}function rr(f,g,_,C,P){for(_=g+_;g<_;){var D=f[g++];C[P++]=D>>16&255,C[P++]=D>>8&255,C[P++]=D>>0&255,C[P++]=D>>24&255}}function Re(f,g,_,C,P){for(_=g+_;g<_;){var D=(M=f[g++])>>16&240|M>>12&15,M=M>>0&240|M>>28&15;C[P++]=D,C[P++]=M}}function hi(f,g,_,C,P){for(_=g+_;g<_;){var D=(M=f[g++])>>16&248|M>>13&7,M=M>>5&224|M>>3&31;C[P++]=D,C[P++]=M}}function nn(f,g,_,C,P){for(_=g+_;g<_;){var D=f[g++];C[P++]=D>>0&255,C[P++]=D>>8&255,C[P++]=D>>16&255}}function cn(f,g,_,C,P,D){if(D==0)for(_=g+_;g<_;)It(C,((D=f[g++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),P+=32;else n(C,P,f,g,_)}function fi(f,g){q[g][0]=q[f+"0"],q[g][1]=q[f+"1"],q[g][2]=q[f+"2"],q[g][3]=q[f+"3"],q[g][4]=q[f+"4"],q[g][5]=q[f+"5"],q[g][6]=q[f+"6"],q[g][7]=q[f+"7"],q[g][8]=q[f+"8"],q[g][9]=q[f+"9"],q[g][10]=q[f+"10"],q[g][11]=q[f+"11"],q[g][12]=q[f+"12"],q[g][13]=q[f+"13"],q[g][14]=q[f+"0"],q[g][15]=q[f+"0"]}function Be(f){return f==Ka||f==Qo||f==Wl||f==Vl}function ms(){this.eb=[],this.size=this.A=this.fb=0}function dn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ir(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ms,this.f.kb=new dn,this.sd=null}function Nr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function pn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function be(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function We(f,g){var _=f.T,C=g.ba.f.RGBA,P=C.eb,D=C.fb+f.ka*C.A,M=Rr[g.ba.S],j=f.y,I=f.O,U=f.f,rt=f.N,_t=f.ea,St=f.W,gt=g.cc,jt=g.dc,Nt=g.Mc,nt=g.Nc,at=f.ka,Pt=f.ka+f.T,Mt=f.U,Ft=Mt+1>>1;for(at==0?M(j,I,null,null,U,rt,_t,St,U,rt,_t,St,P,D,null,null,Mt):(M(g.ec,g.fc,j,I,gt,jt,Nt,nt,U,rt,_t,St,P,D-C.A,P,D,Mt),++_);at+2<Pt;at+=2)gt=U,jt=rt,Nt=_t,nt=St,rt+=f.Rc,St+=f.Rc,D+=2*C.A,M(j,(I+=2*f.fa)-f.fa,j,I,gt,jt,Nt,nt,U,rt,_t,St,P,D-C.A,P,D,Mt);return I+=f.fa,f.j+Pt<f.o?(n(g.ec,g.fc,j,I,Mt),n(g.cc,g.dc,U,rt,Ft),n(g.Mc,g.Nc,_t,St,Ft),_--):1&Pt||M(j,I,null,null,U,rt,_t,St,U,rt,_t,St,P,D+C.A,null,null,Mt),_}function Ks(f,g,_){var C=f.F,P=[f.J];if(C!=null){var D=f.U,M=g.ba.S,j=M==ql||M==Wl;g=g.ba.f.RGBA;var I=[0],U=f.ka;I[0]=f.T,f.Kb&&(U==0?--I[0]:(--U,P[0]-=f.width),f.j+f.ka+f.T==f.o&&(I[0]=f.o-f.j-U));var rt=g.eb;U=g.fb+U*g.A,f=Ke(C,P[0],f.width,D,I,rt,U+(j?0:3),g.A),t(_==I),f&&Be(M)&&Fr(rt,U,j,D,I,g.A)}return 0}function Hn(f){var g=f.ma,_=g.ba.S,C=11>_,P=_==po||_==Ul||_==ql||_==sn||_==12||Be(_);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Ba(g.Oa,f,P?11:12))return 0;if(P&&Be(_)&&Rt(),f.da)alert("todo:use_scaling");else{if(C){if(g.Ib=be,f.Kb){if(_=f.U+1>>1,g.memory=s(f.U+2*_),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+f.U,g.Mc=g.cc,g.Nc=g.dc+_,g.Ib=We,Rt()}}else alert("todo:EmitYUV");P&&(g.Jb=Ks,C&&xt())}if(C&&!br){for(f=0;256>f;++f)na[f]=89858*(f-128)+zi>>Ts,Mc[f]=-22014*(f-128)+zi,Br[f]=-45773*(f-128),tl[f]=113618*(f-128)+zi>>Ts;for(f=Je;f<tn;++f)g=76283*(f-16)+zi>>Ts,hh[f-Je]=ei(g,255),fh[f-Je]=ei(g+8>>4,15);br=1}return 1}function di(f){var g=f.ma,_=f.U,C=f.T;return t(!(1&f.ka)),0>=_||0>=C?0:(_=g.Ib(f,g),g.Jb!=null&&g.Jb(f,g,_),g.Dc+=_,1)}function Oi(f){f.ma.memory=null}function he(f,g,_,C){return ct(f,8)!=47?0:(g[0]=ct(f,14)+1,_[0]=ct(f,14)+1,C[0]=ct(f,1),ct(f,3)!=0?0:!f.h)}function Jr(f,g){if(4>f)return f+1;var _=f-2>>1;return(2+(1&f)<<_)+ct(g,_)+1}function Or(f,g){return 120<g?g-120:1<=(_=((_=ed[g-1])>>4)*f+(8-(15&_)))?_:1;var _}function Er(f,g,_){var C=z(_),P=f[g+=255&C].g-8;return 0<P&&(J(_,_.u+8),C=z(_),g+=f[g].value,g+=C&(1<<P)-1),J(_,_.u+f[g].g),f[g].value}function gn(f,g,_){return _.g+=f.g,_.value+=f.value<<g>>>0,t(8>=_.g),f.g}function mn(f,g,_){var C=f.xc;return t((g=C==0?0:f.vc[f.md*(_>>C)+(g>>C)])<f.Wb),f.Ya[g]}function sr(f,g,_,C){var P=f.ab,D=f.c*g,M=f.C;g=M+g;var j=_,I=C;for(C=f.Ta,_=f.Ua;0<P--;){var U=f.gc[P],rt=M,_t=g,St=j,gt=I,jt=(I=C,j=_,U.Ea);switch(t(rt<_t),t(_t<=U.nc),U.hc){case 2:Pc(St,gt,(_t-rt)*jt,I,j);break;case 0:var Nt=rt,nt=_t,at=I,Pt=j,Mt=(Kt=U).Ea;Nt==0&&(Yo(St,gt,null,null,1,at,Pt),Ne(St,gt+1,0,0,Mt-1,at,Pt+1),gt+=Mt,Pt+=Mt,++Nt);for(var Ft=1<<Kt.b,te=Ft-1,Yt=oe(Mt,Kt.b),fe=Kt.K,Kt=Kt.w+(Nt>>Kt.b)*Yt;Nt<nt;){var Ie=fe,Ge=Kt,Oe=1;for(xs(St,gt,at,Pt-Mt,1,at,Pt);Oe<Mt;){var Ee=(Oe&~te)+Ft;Ee>Mt&&(Ee=Mt),(0,es[Ie[Ge++]>>8&15])(St,gt+ +Oe,at,Pt+Oe-Mt,Ee-Oe,at,Pt+Oe),Oe=Ee}gt+=Mt,Pt+=Mt,++Nt&te||(Kt+=Yt)}_t!=U.nc&&n(I,j-jt,I,j+(_t-rt-1)*jt,jt);break;case 1:for(jt=St,nt=gt,Mt=(St=U.Ea)-(Pt=St&~(at=(gt=1<<U.b)-1)),Nt=oe(St,U.b),Ft=U.K,U=U.w+(rt>>U.b)*Nt;rt<_t;){for(te=Ft,Yt=U,fe=new Gt,Kt=nt+Pt,Ie=nt+St;nt<Kt;)qe(te[Yt++],fe),uo(fe,jt,nt,gt,I,j),nt+=gt,j+=gt;nt<Ie&&(qe(te[Yt++],fe),uo(fe,jt,nt,Mt,I,j),nt+=Mt,j+=Mt),++rt&at||(U+=Nt)}break;case 3:if(St==I&&gt==j&&0<U.b){for(nt=I,St=jt=j+(_t-rt)*jt-(Pt=(_t-rt)*oe(U.Ea,U.b)),gt=I,at=j,Nt=[],Pt=(Mt=Pt)-1;0<=Pt;--Pt)Nt[Pt]=gt[at+Pt];for(Pt=Mt-1;0<=Pt;--Pt)nt[St+Pt]=Nt[Pt];yr(U,rt,_t,I,jt,I,j)}else yr(U,rt,_t,St,gt,I,j)}j=C,I=_}I!=_&&n(C,_,j,I,D)}function Js(f,g){var _=f.V,C=f.Ba+f.c*f.C,P=g-f.C;if(t(g<=f.l.o),t(16>=P),0<P){var D=f.l,M=f.Ta,j=f.Ua,I=D.width;if(sr(f,P,_,C),P=j=[j],t((_=f.C)<(C=g)),t(D.v<D.va),C>D.o&&(C=D.o),_<D.j){var U=D.j-_;_=D.j,P[0]+=U*I}if(_>=C?_=0:(P[0]+=4*D.v,D.ka=_-D.j,D.U=D.va-D.v,D.T=C-_,_=1),_){if(j=j[0],11>(_=f.ca).S){var rt=_.f.RGBA,_t=(C=_.S,P=D.U,D=D.T,U=rt.eb,rt.A),St=D;for(rt=rt.fb+f.Ma*rt.A;0<St--;){var gt=M,jt=j,Nt=P,nt=U,at=rt;switch(C){case Nc:wr(gt,jt,Nt,nt,at);break;case po:ar(gt,jt,Nt,nt,at);break;case Ka:ar(gt,jt,Nt,nt,at),Fr(nt,at,0,Nt,1,0);break;case oh:bs(gt,jt,Nt,nt,at);break;case Ul:cn(gt,jt,Nt,nt,at,1);break;case Qo:cn(gt,jt,Nt,nt,at,1),Fr(nt,at,0,Nt,1,0);break;case ql:cn(gt,jt,Nt,nt,at,0);break;case Wl:cn(gt,jt,Nt,nt,at,0),Fr(nt,at,1,Nt,1,0);break;case sn:ho(gt,jt,Nt,nt,at);break;case Vl:ho(gt,jt,Nt,nt,at),rn(nt,at,Nt,1,0);break;case Oc:_s(gt,jt,Nt,nt,at);break;default:t(0)}j+=I,rt+=_t}f.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");t(f.Ma<=_.height)}}f.C=g,t(f.C<=f.i)}function vs(f){var g;if(0<f.ua)return 0;for(g=0;g<f.Wb;++g){var _=f.Ya[g].G,C=f.Ya[g].H;if(0<_[1][C[1]+0].g||0<_[2][C[2]+0].g||0<_[3][C[3]+0].g)return 0}return 1}function Ei(f,g,_,C,P,D){if(f.Z!=0){var M=f.qd,j=f.rd;for(t(cr[f.Z]!=null);g<_;++g)cr[f.Z](M,j,C,P,C,P,D),M=C,j=P,P+=D;f.qd=M,f.rd=j}}function Di(f,g){var _=f.l.ma,C=_.Z==0||_.Z==1?f.l.j:f.C;if(C=f.C<C?C:f.C,t(g<=f.l.o),g>C){var P=f.l.width,D=_.ca,M=_.tb+P*C,j=f.V,I=f.Ba+f.c*C,U=f.gc;t(f.ab==1),t(U[0].hc==3),Rl(U[0],C,g,j,I,D,M),Ei(_,C,g,D,M,P)}f.C=f.Ma=g}function Kn(f,g,_,C,P,D,M){var j=f.$/C,I=f.$%C,U=f.m,rt=f.s,_t=_+f.$,St=_t;P=_+C*P;var gt=_+C*D,jt=280+rt.ua,Nt=f.Pb?j:16777216,nt=0<rt.ua?rt.Wa:null,at=rt.wc,Pt=_t<gt?mn(rt,I,j):null;t(f.C<D),t(gt<=P);var Mt=!1;t:for(;;){for(;Mt||_t<gt;){var Ft=0;if(j>=Nt){var te=_t-_;t((Nt=f).Pb),Nt.wd=Nt.m,Nt.xd=te,0<Nt.s.ua&&Dt(Nt.s.Wa,Nt.s.vb),Nt=j+Dc}if(I&at||(Pt=mn(rt,I,j)),t(Pt!=null),Pt.Qb&&(g[_t]=Pt.qb,Mt=!0),!Mt)if(et(U),Pt.jc){Ft=U,te=g;var Yt=_t,fe=Pt.pd[z(Ft)&Sn-1];t(Pt.jc),256>fe.g?(J(Ft,Ft.u+fe.g),te[Yt]=fe.value,Ft=0):(J(Ft,Ft.u+fe.g-256),t(256<=fe.value),Ft=fe.value),Ft==0&&(Mt=!0)}else Ft=Er(Pt.G[0],Pt.H[0],U);if(U.h)break;if(Mt||256>Ft){if(!Mt)if(Pt.nd)g[_t]=(Pt.qb|Ft<<8)>>>0;else{if(et(U),Mt=Er(Pt.G[1],Pt.H[1],U),et(U),te=Er(Pt.G[2],Pt.H[2],U),Yt=Er(Pt.G[3],Pt.H[3],U),U.h)break;g[_t]=(Yt<<24|Mt<<16|Ft<<8|te)>>>0}if(Mt=!1,++_t,++I>=C&&(I=0,++j,M!=null&&j<=D&&!(j%16)&&M(f,j),nt!=null))for(;St<_t;)Ft=g[St++],nt.X[(506832829*Ft&4294967295)>>>nt.Mb]=Ft}else if(280>Ft){if(Ft=Jr(Ft-256,U),te=Er(Pt.G[4],Pt.H[4],U),et(U),te=Or(C,te=Jr(te,U)),U.h)break;if(_t-_<te||P-_t<Ft)break t;for(Yt=0;Yt<Ft;++Yt)g[_t+Yt]=g[_t+Yt-te];for(_t+=Ft,I+=Ft;I>=C;)I-=C,++j,M!=null&&j<=D&&!(j%16)&&M(f,j);if(t(_t<=P),I&at&&(Pt=mn(rt,I,j)),nt!=null)for(;St<_t;)Ft=g[St++],nt.X[(506832829*Ft&4294967295)>>>nt.Mb]=Ft}else{if(!(Ft<jt))break t;for(Mt=Ft-280,t(nt!=null);St<_t;)Ft=g[St++],nt.X[(506832829*Ft&4294967295)>>>nt.Mb]=Ft;Ft=_t,t(!(Mt>>>(te=nt).Xa)),g[Ft]=te.X[Mt],Mt=!0}Mt||t(U.h==W(U))}if(f.Pb&&U.h&&_t<P)t(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Dt(f.s.vb,f.s.Wa);else{if(U.h)break t;M!=null&&M(f,j>D?D:j),f.a=0,f.$=_t-_}return 1}return f.a=3,0}function Mi(f){t(f!=null),f.vc=null,f.yc=null,f.Ya=null;var g=f.Wa;g!=null&&(g.X=null),f.vb=null,t(f!=null)}function Qr(){var f=new bu;return f==null?null:(f.a=0,f.xb=Qa,fi("Predictor","VP8LPredictors"),fi("Predictor","VP8LPredictors_C"),fi("PredictorAdd","VP8LPredictorsAdd"),fi("PredictorAdd","VP8LPredictorsAdd_C"),Pc=je,uo=ve,wr=Jt,ar=rr,ho=Re,_s=hi,bs=nn,q.VP8LMapColor32b=Ha,q.VP8LMapColor8b=Ya,f)}function $i(f,g,_,C,P){var D=1,M=[f],j=[g],I=C.m,U=C.s,rt=null,_t=0;t:for(;;){if(_)for(;D&&ct(I,1);){var St=M,gt=j,jt=C,Nt=1,nt=jt.m,at=jt.gc[jt.ab],Pt=ct(nt,2);if(jt.Oc&1<<Pt)D=0;else{switch(jt.Oc|=1<<Pt,at.hc=Pt,at.Ea=St[0],at.nc=gt[0],at.K=[null],++jt.ab,t(4>=jt.ab),Pt){case 0:case 1:at.b=ct(nt,3)+2,Nt=$i(oe(at.Ea,at.b),oe(at.nc,at.b),0,jt,at.K),at.K=at.K[0];break;case 3:var Mt,Ft=ct(nt,8)+1,te=16<Ft?0:4<Ft?1:2<Ft?2:3;if(St[0]=oe(at.Ea,te),at.b=te,Mt=Nt=$i(Ft,1,0,jt,at.K)){var Yt,fe=Ft,Kt=at,Ie=1<<(8>>Kt.b),Ge=s(Ie);if(Ge==null)Mt=0;else{var Oe=Kt.K[0],Ee=Kt.w;for(Ge[0]=Kt.K[0][0],Yt=1;Yt<1*fe;++Yt)Ge[Yt]=qt(Oe[Ee+Yt],Ge[Yt-1]);for(;Yt<4*Ie;++Yt)Ge[Yt]=0;Kt.K[0]=null,Kt.K[0]=Ge,Mt=1}}Nt=Mt;break;case 2:break;default:t(0)}D=Nt}}if(M=M[0],j=j[0],D&&ct(I,1)&&!(D=1<=(_t=ct(I,4))&&11>=_t)){C.a=3;break t}var on;if(on=D)e:{var ze,Se,An,Sr=C,hn=M,Cr=j,Ue=_t,hr=_,Xn=Sr.m,En=Sr.s,In=[null],Qn=1,zr=0,kr=lh[Ue];n:for(;;){if(hr&&ct(Xn,1)){var Qe=ct(Xn,3)+2,Lr=oe(hn,Qe),Os=oe(Cr,Qe),ra=Lr*Os;if(!$i(Lr,Os,0,Sr,In))break n;for(In=In[0],En.xc=Qe,ze=0;ze<ra;++ze){var fr=In[ze]>>8&65535;In[ze]=fr,fr>=Qn&&(Qn=fr+1)}}if(Xn.h)break n;for(Se=0;5>Se;++Se){var Ze=Zo[Se];!Se&&0<Ue&&(Ze+=1<<Ue),zr<Ze&&(zr=Ze)}var Kl=l(Qn*kr,B),Au=Qn,os=l(Au,H);if(os==null)var Ui=null;else t(65536>=Au),Ui=os;var mo=s(zr);if(Ui==null||mo==null||Kl==null){Sr.a=1;break n}var Jl=Kl;for(ze=An=0;ze<Qn;++ze){var Ur=Ui[ze],ia=Ur.G,as=Ur.H,qi=0,vo=1,el=0;for(Se=0;5>Se;++Se){Ze=Zo[Se],ia[Se]=Jl,as[Se]=An,!Se&&0<Ue&&(Ze+=1<<Ue);i:{var ls,Ql=Ze,Es=Sr,nl=mo,Tu=Jl,xn=An,rl=0,cs=Es.m,Pu=ct(cs,1);if(i(nl,0,0,Ql),Pu){var Ic=ct(cs,1)+1,Nu=ct(cs,1),yo=ct(cs,Nu==0?1:8);nl[yo]=1,Ic==2&&(nl[yo=ct(cs,8)]=1);var un=1}else{var Dn=s(19),Rn=ct(cs,4)+4;if(19<Rn){Es.a=3;var sa=0;break i}for(ls=0;ls<Rn;++ls)Dn[td[ls]]=ct(cs,3);var oa=void 0,Ds=void 0,dh=Es,dr=Dn,il=Ql,Rc=nl,Zl=0,Zn=dh.m,ii=8,sl=l(128,B);r:for(;R(sl,0,7,dr,19);){if(ct(Zn,1)){var Ou=2+2*ct(Zn,3);if((oa=2+ct(Zn,Ou))>il)break r}else oa=il;for(Ds=0;Ds<il&&oa--;){et(Zn);var Bc=sl[0+(127&z(Zn))];J(Zn,Zn.u+Bc.g);var aa=Bc.value;if(16>aa)Rc[Ds++]=aa,aa!=0&&(ii=aa);else{var ph=aa==16,Eu=aa-16,gh=Ec[Eu],Du=ct(Zn,Hl[Eu])+gh;if(Ds+Du>il)break r;for(var mh=ph?ii:0;0<Du--;)Rc[Ds++]=mh}}Zl=1;break r}Zl||(dh.a=3),un=Zl}(un=un&&!cs.h)&&(rl=R(Tu,xn,8,nl,Ql)),un&&rl!=0?sa=rl:(Es.a=3,sa=0)}if(sa==0)break n;if(vo&&ah[Se]==1&&(vo=Jl[An].g==0),qi+=Jl[An].g,An+=sa,3>=Se){var ol,zc=mo[0];for(ol=1;ol<Ze;++ol)mo[ol]>zc&&(zc=mo[ol]);el+=zc}}if(Ur.nd=vo,Ur.Qb=0,vo&&(Ur.qb=(ia[3][as[3]+0].value<<24|ia[1][as[1]+0].value<<16|ia[2][as[2]+0].value)>>>0,qi==0&&256>ia[0][as[0]+0].value&&(Ur.Qb=1,Ur.qb+=ia[0][as[0]+0].value<<8)),Ur.jc=!Ur.Qb&&6>el,Ur.jc){var wo,us=Ur;for(wo=0;wo<Sn;++wo){var Wi=wo,Vi=us.pd[Wi],tc=us.G[0][us.H[0]+Wi];256<=tc.value?(Vi.g=tc.g+256,Vi.value=tc.value):(Vi.g=0,Vi.value=0,Wi>>=gn(tc,8,Vi),Wi>>=gn(us.G[1][us.H[1]+Wi],16,Vi),Wi>>=gn(us.G[2][us.H[2]+Wi],0,Vi),gn(us.G[3][us.H[3]+Wi],24,Vi))}}}En.vc=In,En.Wb=Qn,En.Ya=Ui,En.yc=Kl,on=1;break e}on=0}if(!(D=on)){C.a=3;break t}if(0<_t){if(U.ua=1<<_t,!de(U.Wa,_t)){C.a=1,D=0;break t}}else U.ua=0;var ec=C,Mu=M,vh=j,Uc=ec.s,qc=Uc.xc;if(ec.c=Mu,ec.i=vh,Uc.md=oe(Mu,qc),Uc.wc=qc==0?-1:(1<<qc)-1,_){C.xb=ss;break t}if((rt=s(M*j))==null){C.a=1,D=0;break t}D=(D=Kn(C,rt,0,M,j,j,null))&&!I.h;break t}return D?(P!=null?P[0]=rt:(t(rt==null),t(_)),C.$=0,_||Mi(U)):Mi(U),D}function Qs(f,g){var _=f.c*f.i,C=_+g+16*g;return t(f.c<=g),f.V=s(C),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+_+g,1)}function No(f,g){var _=f.C,C=g-_,P=f.V,D=f.Ba+f.c*_;for(t(g<=f.l.o);0<C;){var M=16<C?16:C,j=f.l.ma,I=f.l.width,U=I*M,rt=j.ca,_t=j.tb+I*_,St=f.Ta,gt=f.Ua;sr(f,M,P,D),Cn(St,gt,rt,_t,U),Ei(j,_,_+M,rt,_t,I),C-=M,P+=M*f.c,_+=M}t(_==g),f.C=f.Ma=g}function Oo(){this.ub=this.yd=this.td=this.Rb=0}function Eo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Sa(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function xc(){this.Yb=function(){var f=[];return function g(_,C,P){for(var D=P[C],M=0;M<D&&(_.push(P.length>C+1?[]:0),!(P.length<C+1));M++)g(_[M],C+1,P)}(f,0,[3,11]),f}()}function vn(){this.jb=s(3),this.Wc=c([4,8],xc),this.Xc=c([4,17],xc)}function wu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Zs(){this.ld=this.La=this.dd=this.tc=0}function Ll(){this.Na=this.la=0}function Ca(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Al(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _c(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zs),this.Y=0,this.ya=Array(new Al),this.aa=0,this.l=new ka}function Do(){this.y=s(16),this.f=s(8),this.ea=s(8)}function pi(){this.cb=this.a=0,this.sc="",this.m=new K,this.Od=new Oo,this.Kc=new Eo,this.ed=new wu,this.Qa=new Sa,this.Ic=this.$c=this.Aa=0,this.D=new _c,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,K),this.ia=0,this.pb=l(4,Ca),this.Pa=new vn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Do),this.Hd=0,this.rb=Array(new Ll),this.sb=0,this.wa=Array(new Zs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Al),this.L=this.aa=0,this.gd=c([4,2],Zs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ka(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Zr(){var f=new pi;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,ta||(ta=Mo)),f}function Ln(f,g,_){return f.a==0&&(f.a=g,f.sc=_,f.cb=0),0}function bc(f,g,_){return 3<=_&&f[g+0]==157&&f[g+1]==1&&f[g+2]==42}function Sc(f,g){if(f==null)return 0;if(f.a=0,f.sc="OK",g==null)return Ln(f,2,"null VP8Io passed to VP8GetHeaders()");var _=g.data,C=g.w,P=g.ha;if(4>P)return Ln(f,7,"Truncated header.");var D=_[C+0]|_[C+1]<<8|_[C+2]<<16,M=f.Od;if(M.Rb=!(1&D),M.td=D>>1&7,M.yd=D>>4&1,M.ub=D>>5,3<M.td)return Ln(f,3,"Incorrect keyframe parameters.");if(!M.yd)return Ln(f,4,"Frame not displayable.");C+=3,P-=3;var j=f.Kc;if(M.Rb){if(7>P)return Ln(f,7,"cannot parse picture header");if(!bc(_,C,P))return Ln(f,3,"Bad code word");j.c=16383&(_[C+4]<<8|_[C+3]),j.Td=_[C+4]>>6,j.i=16383&(_[C+6]<<8|_[C+5]),j.Ud=_[C+6]>>6,C+=7,P-=7,f.za=j.c+15>>4,f.Ub=j.i+15>>4,g.width=j.c,g.height=j.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((D=f.Pa).jb,0,255,D.jb.length),t((D=f.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,i(D.Zb,0,0,D.Zb.length),i(D.Lb,0,0,D.Lb)}if(M.ub>P)return Ln(f,7,"bad partition length");Lt(D=f.m,_,C,M.ub),C+=M.ub,P-=M.ub,M.Rb&&(j.Ld=vt(D),j.Kd=vt(D)),j=f.Qa;var I,U=f.Pa;if(t(D!=null),t(j!=null),j.Cb=vt(D),j.Cb){if(j.Bb=vt(D),vt(D)){for(j.Fb=vt(D),I=0;4>I;++I)j.Zb[I]=vt(D)?Ct(D,7):0;for(I=0;4>I;++I)j.Lb[I]=vt(D)?Ct(D,6):0}if(j.Bb)for(I=0;3>I;++I)U.jb[I]=vt(D)?wt(D,8):255}else j.Bb=0;if(D.Ka)return Ln(f,3,"cannot parse segment header");if((j=f.ed).zd=vt(D),j.Tb=wt(D,6),j.wb=wt(D,3),j.Pc=vt(D),j.Pc&&vt(D)){for(U=0;4>U;++U)vt(D)&&(j.vd[U]=Ct(D,6));for(U=0;4>U;++U)vt(D)&&(j.od[U]=Ct(D,6))}if(f.L=j.Tb==0?0:j.zd?1:2,D.Ka)return Ln(f,3,"cannot parse filter header");var rt=P;if(P=I=C,C=I+rt,j=rt,f.Xb=(1<<wt(f.m,2))-1,rt<3*(U=f.Xb))_=7;else{for(I+=3*U,j-=3*U,rt=0;rt<U;++rt){var _t=_[P+0]|_[P+1]<<8|_[P+2]<<16;_t>j&&(_t=j),Lt(f.Jc[+rt],_,I,_t),I+=_t,j-=_t,P+=3}Lt(f.Jc[+U],_,I,j),_=I<C?0:5}if(_!=0)return Ln(f,_,"cannot parse partitions");for(_=wt(I=f.m,7),P=vt(I)?Ct(I,4):0,C=vt(I)?Ct(I,4):0,j=vt(I)?Ct(I,4):0,U=vt(I)?Ct(I,4):0,I=vt(I)?Ct(I,4):0,rt=f.Qa,_t=0;4>_t;++_t){if(rt.Cb){var St=rt.Zb[_t];rt.Fb||(St+=_)}else{if(0<_t){f.pb[_t]=f.pb[0];continue}St=_}var gt=f.pb[_t];gt.Sc[0]=Ja[ei(St+P,127)],gt.Sc[1]=Yl[ei(St+0,127)],gt.Eb[0]=2*Ja[ei(St+C,127)],gt.Eb[1]=101581*Yl[ei(St+j,127)]>>16,8>gt.Eb[1]&&(gt.Eb[1]=8),gt.Qc[0]=Ja[ei(St+U,117)],gt.Qc[1]=Yl[ei(St+I,127)],gt.lc=St+I}if(!M.Rb)return Ln(f,4,"Not a key frame.");for(vt(D),M=f.Pa,_=0;4>_;++_){for(P=0;8>P;++P)for(C=0;3>C;++C)for(j=0;11>j;++j)U=yt(D,rd[_][P][C][j])?wt(D,8):uh[_][P][C][j],M.Wc[_][P].Yb[C][j]=U;for(P=0;17>P;++P)M.Xc[_][P]=M.Wc[_][ku[P]]}return f.kc=vt(D),f.kc&&(f.Bd=wt(D,8)),f.cb=1}function Mo(f,g,_,C,P,D,M){var j=g[P].Yb[_];for(_=0;16>P;++P){if(!yt(f,j[_+0]))return P;for(;!yt(f,j[_+1]);)if(j=g[++P].Yb[0],_=0,P==16)return 16;var I=g[P+1].Yb;if(yt(f,j[_+2])){var U=f,rt=0;if(yt(U,(St=j)[(_t=_)+3]))if(yt(U,St[_t+6])){for(j=0,_t=2*(rt=yt(U,St[_t+8]))+(St=yt(U,St[_t+9+rt])),rt=0,St=Su[_t];St[j];++j)rt+=rt+yt(U,St[j]);rt+=3+(8<<_t)}else yt(U,St[_t+7])?(rt=7+2*yt(U,165),rt+=yt(U,145)):rt=5+yt(U,159);else rt=yt(U,St[_t+4])?3+yt(U,St[_t+5]):2;j=I[2]}else rt=1,j=I[1];I=M+Cu[P],0>(U=f).b&&pt(U);var _t,St=U.b,gt=(_t=U.Ca>>1)-(U.I>>St)>>31;--U.b,U.Ca+=gt,U.Ca|=1,U.I-=(_t+1&gt)<<St,D[I]=((rt^gt)-gt)*C[(0<P)+0]}return 16}function to(f){var g=f.rb[f.sb-1];g.la=0,g.Na=0,i(f.zc,0,0,f.zc.length),f.ja=0}function jo(f,g){if(f==null)return 0;if(g==null)return Ln(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!Sc(f,g))return 0;if(t(f.cb),g.ac==null||g.ac(g)){g.ob&&(f.L=0);var _=$l[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=g.v-_>>4,f.zb=g.j-_>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=g.o+15+_>>4,f.Hb=g.va+15+_>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var C=f.ed;for(_=0;4>_;++_){var P;if(f.Qa.Cb){var D=f.Qa.Lb[_];f.Qa.Fb||(D+=C.Tb)}else D=C.Tb;for(P=0;1>=P;++P){var M=f.gd[_][P],j=D;if(C.Pc&&(j+=C.vd[0],P&&(j+=C.od[0])),0<(j=0>j?0:63<j?63:j)){var I=j;0<C.wb&&(I=4<C.wb?I>>2:I>>1)>9-C.wb&&(I=9-C.wb),1>I&&(I=1),M.dd=I,M.tc=2*j+I,M.ld=40<=j?2:15<=j?1:0}else M.tc=0;M.La=P}}}_=0}else Ln(f,6,"Frame setup failed"),_=f.a;if(_=_==0){if(_){f.$c=0,0<f.Aa||(f.Ic=jc);t:{_=f.Ic,C=4*(I=f.za);var U=32*I,rt=I+1,_t=0<f.L?I*(0<f.Aa?2:1):0,St=(f.Aa==2?2:1)*I;if((M=C+832+(P=3*(16*_+$l[f.L])/2*U)+(D=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=M)_=0;else{if(M>f.Vb){if(f.Vb=0,f.Ec=s(M),f.Fc=0,f.Ec==null){_=Ln(f,1,"no memory during frame initialization.");break t}f.Vb=M}M=f.Ec,j=f.Fc,f.Ac=M,f.Bc=j,j+=C,f.Gd=l(U,Do),f.Hd=0,f.rb=l(rt+1,Ll),f.sb=1,f.wa=_t?l(_t,Zs):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=I),t(!0),f.oc=M,f.pc=j,j+=832,f.ya=l(St,Al),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=I),f.R=16*I,f.B=8*I,I=(U=$l[f.L])*f.R,U=U/2*f.B,f.sa=M,f.ta=j+I,f.qa=f.sa,f.ra=f.ta+16*_*f.R+U,f.Ha=f.qa,f.Ia=f.ra+8*_*f.B+U,f.$c=0,j+=P,f.mb=D?M:null,f.nb=D?j:null,t(j+D<=f.Fc+f.Vb),to(f),i(f.Ac,f.Bc,0,C),_=1}}if(_){if(g.ka=0,g.y=f.sa,g.O=f.ta,g.f=f.qa,g.N=f.ra,g.ea=f.Ha,g.Vd=f.Ia,g.fa=f.R,g.Rc=f.B,g.F=null,g.J=0,!zl){for(_=-255;255>=_;++_)On[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)rs[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)Ga[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)Jo[255+_]=0>_?0:255<_?255:_;zl=1}Xa=Ve,Ss=Pl,Cs=eo,lr=xu,ni=Aa,He=Tl,Xo=Ma,Bl=Fn,Go=qo,$o=Ml,Ko=so,ri=oo,ks=Wo,ns=ja,Ls=Ii,As=gi,fo=mi,Jn=Ac,wi[0]=Zi,wi[1]=Cc,wi[2]=Bo,wi[3]=Qi,wi[4]=Ol,wi[5]=Pa,wi[6]=ro,wi[7]=Na,wi[8]=Lc,wi[9]=Oa,_r[0]=Ro,_r[1]=kc,_r[2]=Ki,_r[3]=Io,_r[4]=yn,_r[5]=Ji,_r[6]=ji,Ir[0]=ti,Ir[1]=Nl,Ir[2]=_u,Ir[3]=ys,Ir[4]=zo,Ir[5]=Ea,Ir[6]=El,_=1}else _=0}_&&(_=function(gt,jt){for(gt.M=0;gt.M<gt.Va;++gt.M){var Nt,nt=gt.Jc[gt.M&gt.Xb],at=gt.m,Pt=gt;for(Nt=0;Nt<Pt.za;++Nt){var Mt=at,Ft=Pt,te=Ft.Ac,Yt=Ft.Bc+4*Nt,fe=Ft.zc,Kt=Ft.ya[Ft.aa+Nt];if(Ft.Qa.Bb?Kt.$b=yt(Mt,Ft.Pa.jb[0])?2+yt(Mt,Ft.Pa.jb[2]):yt(Mt,Ft.Pa.jb[1]):Kt.$b=0,Ft.kc&&(Kt.Ad=yt(Mt,Ft.Bd)),Kt.Za=!yt(Mt,145)+0,Kt.Za){var Ie=Kt.Ob,Ge=0;for(Ft=0;4>Ft;++Ft){var Oe,Ee=fe[0+Ft];for(Oe=0;4>Oe;++Oe){Ee=nd[te[Yt+Oe]][Ee];for(var on=ch[yt(Mt,Ee[0])];0<on;)on=ch[2*on+yt(Mt,Ee[on])];Ee=-on,te[Yt+Oe]=Ee}n(Ie,Ge,te,Yt,4),Ge+=4,fe[0+Ft]=Ee}}else Ee=yt(Mt,156)?yt(Mt,128)?1:3:yt(Mt,163)?2:0,Kt.Ob[0]=Ee,i(te,Yt,Ee,4),i(fe,0,Ee,4);Kt.Dd=yt(Mt,142)?yt(Mt,114)?yt(Mt,183)?1:3:2:0}if(Pt.m.Ka)return Ln(gt,7,"Premature end-of-partition0 encountered.");for(;gt.ja<gt.za;++gt.ja){if(Pt=nt,Mt=(at=gt).rb[at.sb-1],te=at.rb[at.sb+at.ja],Nt=at.ya[at.aa+at.ja],Yt=at.kc?Nt.Ad:0)Mt.la=te.la=0,Nt.Za||(Mt.Na=te.Na=0),Nt.Hc=0,Nt.Gc=0,Nt.ia=0;else{var ze,Se;if(Mt=te,te=Pt,Yt=at.Pa.Xc,fe=at.ya[at.aa+at.ja],Kt=at.pb[fe.$b],Ft=fe.ad,Ie=0,Ge=at.rb[at.sb-1],Ee=Oe=0,i(Ft,Ie,0,384),fe.Za)var An=0,Sr=Yt[3];else{on=s(16);var hn=Mt.Na+Ge.Na;if(hn=ta(te,Yt[1],hn,Kt.Eb,0,on,0),Mt.Na=Ge.Na=(0<hn)+0,1<hn)Xa(on,0,Ft,Ie);else{var Cr=on[0]+3>>3;for(on=0;256>on;on+=16)Ft[Ie+on]=Cr}An=1,Sr=Yt[0]}var Ue=15&Mt.la,hr=15&Ge.la;for(on=0;4>on;++on){var Xn=1&hr;for(Cr=Se=0;4>Cr;++Cr)Ue=Ue>>1|(Xn=(hn=ta(te,Sr,hn=Xn+(1&Ue),Kt.Sc,An,Ft,Ie))>An)<<7,Se=Se<<2|(3<hn?3:1<hn?2:Ft[Ie+0]!=0),Ie+=16;Ue>>=4,hr=hr>>1|Xn<<7,Oe=(Oe<<8|Se)>>>0}for(Sr=Ue,An=hr>>4,ze=0;4>ze;ze+=2){for(Se=0,Ue=Mt.la>>4+ze,hr=Ge.la>>4+ze,on=0;2>on;++on){for(Xn=1&hr,Cr=0;2>Cr;++Cr)hn=Xn+(1&Ue),Ue=Ue>>1|(Xn=0<(hn=ta(te,Yt[2],hn,Kt.Qc,0,Ft,Ie)))<<3,Se=Se<<2|(3<hn?3:1<hn?2:Ft[Ie+0]!=0),Ie+=16;Ue>>=2,hr=hr>>1|Xn<<5}Ee|=Se<<4*ze,Sr|=Ue<<4<<ze,An|=(240&hr)<<ze}Mt.la=Sr,Ge.la=An,fe.Hc=Oe,fe.Gc=Ee,fe.ia=43690&Ee?0:Kt.ia,Yt=!(Oe|Ee)}if(0<at.L&&(at.wa[at.Y+at.ja]=at.gd[Nt.$b][Nt.Za],at.wa[at.Y+at.ja].La|=!Yt),Pt.Ka)return Ln(gt,7,"Premature end-of-file encountered.")}if(to(gt),at=jt,Pt=1,Nt=(nt=gt).D,Mt=0<nt.L&&nt.M>=nt.zb&&nt.M<=nt.Va,nt.Aa==0)t:{if(Nt.M=nt.M,Nt.uc=Mt,Ra(nt,Nt),Pt=1,Nt=(Se=nt.D).Nb,Mt=(Ee=$l[nt.L])*nt.R,te=Ee/2*nt.B,on=16*Nt*nt.R,Cr=8*Nt*nt.B,Yt=nt.sa,fe=nt.ta-Mt+on,Kt=nt.qa,Ft=nt.ra-te+Cr,Ie=nt.Ha,Ge=nt.Ia-te+Cr,hr=(Ue=Se.M)==0,Oe=Ue>=nt.Va-1,nt.Aa==2&&Ra(nt,Se),Se.uc)for(Xn=(hn=nt).D.M,t(hn.D.uc),Se=hn.yb;Se<hn.Hb;++Se){An=Se,Sr=Xn;var En=(In=(Ze=hn).D).Nb;ze=Ze.R;var In=In.wa[In.Y+An],Qn=Ze.sa,zr=Ze.ta+16*En*ze+16*An,kr=In.dd,Qe=In.tc;if(Qe!=0)if(t(3<=Qe),Ze.L==1)0<An&&As(Qn,zr,ze,Qe+4),In.La&&Jn(Qn,zr,ze,Qe),0<Sr&&Ls(Qn,zr,ze,Qe+4),In.La&&fo(Qn,zr,ze,Qe);else{var Lr=Ze.B,Os=Ze.qa,ra=Ze.ra+8*En*Lr+8*An,fr=Ze.Ha,Ze=Ze.Ia+8*En*Lr+8*An;En=In.ld,0<An&&(Bl(Qn,zr,ze,Qe+4,kr,En),$o(Os,ra,fr,Ze,Lr,Qe+4,kr,En)),In.La&&(ri(Qn,zr,ze,Qe,kr,En),ns(Os,ra,fr,Ze,Lr,Qe,kr,En)),0<Sr&&(Xo(Qn,zr,ze,Qe+4,kr,En),Go(Os,ra,fr,Ze,Lr,Qe+4,kr,En)),In.La&&(Ko(Qn,zr,ze,Qe,kr,En),ks(Os,ra,fr,Ze,Lr,Qe,kr,En))}}if(nt.ia&&alert("todo:DitherRow"),at.put!=null){if(Se=16*Ue,Ue=16*(Ue+1),hr?(at.y=nt.sa,at.O=nt.ta+on,at.f=nt.qa,at.N=nt.ra+Cr,at.ea=nt.Ha,at.W=nt.Ia+Cr):(Se-=Ee,at.y=Yt,at.O=fe,at.f=Kt,at.N=Ft,at.ea=Ie,at.W=Ge),Oe||(Ue-=Ee),Ue>at.o&&(Ue=at.o),at.F=null,at.J=null,nt.Fa!=null&&0<nt.Fa.length&&Se<Ue&&(at.J=Fl(nt,at,Se,Ue-Se),at.F=nt.mb,at.F==null&&at.F.length==0)){Pt=Ln(nt,3,"Could not decode alpha data.");break t}Se<at.j&&(Ee=at.j-Se,Se=at.j,t(!(1&Ee)),at.O+=nt.R*Ee,at.N+=nt.B*(Ee>>1),at.W+=nt.B*(Ee>>1),at.F!=null&&(at.J+=at.width*Ee)),Se<Ue&&(at.O+=at.v,at.N+=at.v>>1,at.W+=at.v>>1,at.F!=null&&(at.J+=at.v),at.ka=Se-at.j,at.U=at.va-at.v,at.T=Ue-Se,Pt=at.put(at))}Nt+1!=nt.Ic||Oe||(n(nt.sa,nt.ta-Mt,Yt,fe+16*nt.R,Mt),n(nt.qa,nt.ra-te,Kt,Ft+8*nt.B,te),n(nt.Ha,nt.Ia-te,Ie,Ge+8*nt.B,te))}if(!Pt)return Ln(gt,6,"Output aborted.")}return 1}(f,g)),g.bc!=null&&g.bc(g),_&=1}return _?(f.cb=0,_):0}function Dr(f,g,_,C,P){P=f[g+_+32*C]+(P>>3),f[g+_+32*C]=-256&P?0>P?0:255:P}function La(f,g,_,C,P,D){Dr(f,g,0,_,C+P),Dr(f,g,1,_,C+D),Dr(f,g,2,_,C-D),Dr(f,g,3,_,C-P)}function Mr(f){return(20091*f>>16)+f}function Fo(f,g,_,C){var P,D=0,M=s(16);for(P=0;4>P;++P){var j=f[g+0]+f[g+8],I=f[g+0]-f[g+8],U=(35468*f[g+4]>>16)-Mr(f[g+12]),rt=Mr(f[g+4])+(35468*f[g+12]>>16);M[D+0]=j+rt,M[D+1]=I+U,M[D+2]=I-U,M[D+3]=j-rt,D+=4,g++}for(P=D=0;4>P;++P)j=(f=M[D+0]+4)+M[D+8],I=f-M[D+8],U=(35468*M[D+4]>>16)-Mr(M[D+12]),Dr(_,C,0,0,j+(rt=Mr(M[D+4])+(35468*M[D+12]>>16))),Dr(_,C,1,0,I+U),Dr(_,C,2,0,I-U),Dr(_,C,3,0,j-rt),D++,C+=32}function Tl(f,g,_,C){var P=f[g+0]+4,D=35468*f[g+4]>>16,M=Mr(f[g+4]),j=35468*f[g+1]>>16;La(_,C,0,P+M,f=Mr(f[g+1]),j),La(_,C,1,P+D,f,j),La(_,C,2,P-D,f,j),La(_,C,3,P-M,f,j)}function Pl(f,g,_,C,P){Fo(f,g,_,C),P&&Fo(f,g+16,_,C+4)}function eo(f,g,_,C){Ss(f,g+0,_,C,1),Ss(f,g+32,_,C+128,1)}function xu(f,g,_,C){var P;for(f=f[g+0]+4,P=0;4>P;++P)for(g=0;4>g;++g)Dr(_,C,g,P,f)}function Aa(f,g,_,C){f[g+0]&&lr(f,g+0,_,C),f[g+16]&&lr(f,g+16,_,C+4),f[g+32]&&lr(f,g+32,_,C+128),f[g+48]&&lr(f,g+48,_,C+128+4)}function Ve(f,g,_,C){var P,D=s(16);for(P=0;4>P;++P){var M=f[g+0+P]+f[g+12+P],j=f[g+4+P]+f[g+8+P],I=f[g+4+P]-f[g+8+P],U=f[g+0+P]-f[g+12+P];D[0+P]=M+j,D[8+P]=M-j,D[4+P]=U+I,D[12+P]=U-I}for(P=0;4>P;++P)M=(f=D[0+4*P]+3)+D[3+4*P],j=D[1+4*P]+D[2+4*P],I=D[1+4*P]-D[2+4*P],U=f-D[3+4*P],_[C+0]=M+j>>3,_[C+16]=U+I>>3,_[C+32]=M-j>>3,_[C+48]=U-I>>3,C+=64}function Ta(f,g,_){var C,P=g-32,D=xr,M=255-f[P-1];for(C=0;C<_;++C){var j,I=D,U=M+f[g-1];for(j=0;j<_;++j)f[g+j]=I[U+f[P+j]];g+=32}}function Cc(f,g){Ta(f,g,4)}function Nl(f,g){Ta(f,g,8)}function kc(f,g){Ta(f,g,16)}function Ki(f,g){var _;for(_=0;16>_;++_)n(f,g+32*_,f,g-32,16)}function Io(f,g){var _;for(_=16;0<_;--_)i(f,g,f[g-1],16),g+=32}function no(f,g,_){var C;for(C=0;16>C;++C)i(g,_+32*C,f,16)}function Ro(f,g){var _,C=16;for(_=0;16>_;++_)C+=f[g-1+32*_]+f[g+_-32];no(C>>5,f,g)}function yn(f,g){var _,C=8;for(_=0;16>_;++_)C+=f[g-1+32*_];no(C>>4,f,g)}function Ji(f,g){var _,C=8;for(_=0;16>_;++_)C+=f[g+_-32];no(C>>4,f,g)}function ji(f,g){no(128,f,g)}function me(f,g,_){return f+2*g+_+2>>2}function Bo(f,g){var _,C=g-32;for(C=new Uint8Array([me(f[C-1],f[C+0],f[C+1]),me(f[C+0],f[C+1],f[C+2]),me(f[C+1],f[C+2],f[C+3]),me(f[C+2],f[C+3],f[C+4])]),_=0;4>_;++_)n(f,g+32*_,C,0,C.length)}function Qi(f,g){var _=f[g-1],C=f[g-1+32],P=f[g-1+64],D=f[g-1+96];It(f,g+0,16843009*me(f[g-1-32],_,C)),It(f,g+32,16843009*me(_,C,P)),It(f,g+64,16843009*me(C,P,D)),It(f,g+96,16843009*me(P,D,D))}function Zi(f,g){var _,C=4;for(_=0;4>_;++_)C+=f[g+_-32]+f[g-1+32*_];for(C>>=3,_=0;4>_;++_)i(f,g+32*_,C,4)}function Ol(f,g){var _=f[g-1+0],C=f[g-1+32],P=f[g-1+64],D=f[g-1-32],M=f[g+0-32],j=f[g+1-32],I=f[g+2-32],U=f[g+3-32];f[g+0+96]=me(C,P,f[g-1+96]),f[g+1+96]=f[g+0+64]=me(_,C,P),f[g+2+96]=f[g+1+64]=f[g+0+32]=me(D,_,C),f[g+3+96]=f[g+2+64]=f[g+1+32]=f[g+0+0]=me(M,D,_),f[g+3+64]=f[g+2+32]=f[g+1+0]=me(j,M,D),f[g+3+32]=f[g+2+0]=me(I,j,M),f[g+3+0]=me(U,I,j)}function ro(f,g){var _=f[g+1-32],C=f[g+2-32],P=f[g+3-32],D=f[g+4-32],M=f[g+5-32],j=f[g+6-32],I=f[g+7-32];f[g+0+0]=me(f[g+0-32],_,C),f[g+1+0]=f[g+0+32]=me(_,C,P),f[g+2+0]=f[g+1+32]=f[g+0+64]=me(C,P,D),f[g+3+0]=f[g+2+32]=f[g+1+64]=f[g+0+96]=me(P,D,M),f[g+3+32]=f[g+2+64]=f[g+1+96]=me(D,M,j),f[g+3+64]=f[g+2+96]=me(M,j,I),f[g+3+96]=me(j,I,I)}function Pa(f,g){var _=f[g-1+0],C=f[g-1+32],P=f[g-1+64],D=f[g-1-32],M=f[g+0-32],j=f[g+1-32],I=f[g+2-32],U=f[g+3-32];f[g+0+0]=f[g+1+64]=D+M+1>>1,f[g+1+0]=f[g+2+64]=M+j+1>>1,f[g+2+0]=f[g+3+64]=j+I+1>>1,f[g+3+0]=I+U+1>>1,f[g+0+96]=me(P,C,_),f[g+0+64]=me(C,_,D),f[g+0+32]=f[g+1+96]=me(_,D,M),f[g+1+32]=f[g+2+96]=me(D,M,j),f[g+2+32]=f[g+3+96]=me(M,j,I),f[g+3+32]=me(j,I,U)}function Na(f,g){var _=f[g+0-32],C=f[g+1-32],P=f[g+2-32],D=f[g+3-32],M=f[g+4-32],j=f[g+5-32],I=f[g+6-32],U=f[g+7-32];f[g+0+0]=_+C+1>>1,f[g+1+0]=f[g+0+64]=C+P+1>>1,f[g+2+0]=f[g+1+64]=P+D+1>>1,f[g+3+0]=f[g+2+64]=D+M+1>>1,f[g+0+32]=me(_,C,P),f[g+1+32]=f[g+0+96]=me(C,P,D),f[g+2+32]=f[g+1+96]=me(P,D,M),f[g+3+32]=f[g+2+96]=me(D,M,j),f[g+3+64]=me(M,j,I),f[g+3+96]=me(j,I,U)}function Oa(f,g){var _=f[g-1+0],C=f[g-1+32],P=f[g-1+64],D=f[g-1+96];f[g+0+0]=_+C+1>>1,f[g+2+0]=f[g+0+32]=C+P+1>>1,f[g+2+32]=f[g+0+64]=P+D+1>>1,f[g+1+0]=me(_,C,P),f[g+3+0]=f[g+1+32]=me(C,P,D),f[g+3+32]=f[g+1+64]=me(P,D,D),f[g+3+64]=f[g+2+64]=f[g+0+96]=f[g+1+96]=f[g+2+96]=f[g+3+96]=D}function Lc(f,g){var _=f[g-1+0],C=f[g-1+32],P=f[g-1+64],D=f[g-1+96],M=f[g-1-32],j=f[g+0-32],I=f[g+1-32],U=f[g+2-32];f[g+0+0]=f[g+2+32]=_+M+1>>1,f[g+0+32]=f[g+2+64]=C+_+1>>1,f[g+0+64]=f[g+2+96]=P+C+1>>1,f[g+0+96]=D+P+1>>1,f[g+3+0]=me(j,I,U),f[g+2+0]=me(M,j,I),f[g+1+0]=f[g+3+32]=me(_,M,j),f[g+1+32]=f[g+3+64]=me(C,_,M),f[g+1+64]=f[g+3+96]=me(P,C,_),f[g+1+96]=me(D,P,C)}function _u(f,g){var _;for(_=0;8>_;++_)n(f,g+32*_,f,g-32,8)}function ys(f,g){var _;for(_=0;8>_;++_)i(f,g,f[g-1],8),g+=32}function Fi(f,g,_){var C;for(C=0;8>C;++C)i(g,_+32*C,f,8)}function ti(f,g){var _,C=8;for(_=0;8>_;++_)C+=f[g+_-32]+f[g-1+32*_];Fi(C>>4,f,g)}function Ea(f,g){var _,C=4;for(_=0;8>_;++_)C+=f[g+_-32];Fi(C>>3,f,g)}function zo(f,g){var _,C=4;for(_=0;8>_;++_)C+=f[g-1+32*_];Fi(C>>3,f,g)}function El(f,g){Fi(128,f,g)}function io(f,g,_){var C=f[g-_],P=f[g+0],D=3*(P-C)+is[1020+f[g-2*_]-f[g+_]],M=$a[112+(D+4>>3)];f[g-_]=xr[255+C+$a[112+(D+3>>3)]],f[g+0]=xr[255+P-M]}function Uo(f,g,_,C){var P=f[g+0],D=f[g+_];return yi[255+f[g-2*_]-f[g-_]]>C||yi[255+D-P]>C}function Da(f,g,_,C){return 4*yi[255+f[g-_]-f[g+0]]+yi[255+f[g-2*_]-f[g+_]]<=C}function Dl(f,g,_,C,P){var D=f[g-3*_],M=f[g-2*_],j=f[g-_],I=f[g+0],U=f[g+_],rt=f[g+2*_],_t=f[g+3*_];return 4*yi[255+j-I]+yi[255+M-U]>C?0:yi[255+f[g-4*_]-D]<=P&&yi[255+D-M]<=P&&yi[255+M-j]<=P&&yi[255+_t-rt]<=P&&yi[255+rt-U]<=P&&yi[255+U-I]<=P}function Ii(f,g,_,C){var P=2*C+1;for(C=0;16>C;++C)Da(f,g+C,_,P)&&io(f,g+C,_)}function gi(f,g,_,C){var P=2*C+1;for(C=0;16>C;++C)Da(f,g+C*_,1,P)&&io(f,g+C*_,1)}function mi(f,g,_,C){var P;for(P=3;0<P;--P)Ii(f,g+=4*_,_,C)}function Ac(f,g,_,C){var P;for(P=3;0<P;--P)gi(f,g+=4,_,C)}function Ri(f,g,_,C,P,D,M,j){for(D=2*D+1;0<P--;){if(Dl(f,g,_,D,M))if(Uo(f,g,_,j))io(f,g,_);else{var I=f,U=g,rt=_,_t=I[U-2*rt],St=I[U-rt],gt=I[U+0],jt=I[U+rt],Nt=I[U+2*rt],nt=27*(Pt=is[1020+3*(gt-St)+is[1020+_t-jt]])+63>>7,at=18*Pt+63>>7,Pt=9*Pt+63>>7;I[U-3*rt]=xr[255+I[U-3*rt]+Pt],I[U-2*rt]=xr[255+_t+at],I[U-rt]=xr[255+St+nt],I[U+0]=xr[255+gt-nt],I[U+rt]=xr[255+jt-at],I[U+2*rt]=xr[255+Nt-Pt]}g+=C}}function jr(f,g,_,C,P,D,M,j){for(D=2*D+1;0<P--;){if(Dl(f,g,_,D,M))if(Uo(f,g,_,j))io(f,g,_);else{var I=f,U=g,rt=_,_t=I[U-rt],St=I[U+0],gt=I[U+rt],jt=$a[112+((Nt=3*(St-_t))+4>>3)],Nt=$a[112+(Nt+3>>3)],nt=jt+1>>1;I[U-2*rt]=xr[255+I[U-2*rt]+nt],I[U-rt]=xr[255+_t+Nt],I[U+0]=xr[255+St-jt],I[U+rt]=xr[255+gt-nt]}g+=C}}function Ma(f,g,_,C,P,D){Ri(f,g,_,1,16,C,P,D)}function Fn(f,g,_,C,P,D){Ri(f,g,1,_,16,C,P,D)}function so(f,g,_,C,P,D){var M;for(M=3;0<M;--M)jr(f,g+=4*_,_,1,16,C,P,D)}function oo(f,g,_,C,P,D){var M;for(M=3;0<M;--M)jr(f,g+=4,1,_,16,C,P,D)}function qo(f,g,_,C,P,D,M,j){Ri(f,g,P,1,8,D,M,j),Ri(_,C,P,1,8,D,M,j)}function Ml(f,g,_,C,P,D,M,j){Ri(f,g,1,P,8,D,M,j),Ri(_,C,1,P,8,D,M,j)}function Wo(f,g,_,C,P,D,M,j){jr(f,g+4*P,P,1,8,D,M,j),jr(_,C+4*P,P,1,8,D,M,j)}function ja(f,g,_,C,P,D,M,j){jr(f,g+4,1,P,8,D,M,j),jr(_,C+4,1,P,8,D,M,j)}function ts(){this.ba=new ir,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new pn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ao(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Fa(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tc(){this.ua=0,this.Wa=new Q,this.vb=new Q,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new B}function bu(){this.xb=this.a=0,this.l=new ka,this.ca=new ir,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tc,this.ab=0,this.gc=l(4,Fa),this.Oc=0}function Ia(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ka,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ws(f,g,_,C,P,D,M){for(f=f==null?0:f[g+0],g=0;g<M;++g)P[D+g]=f+_[C+g]&255,f=P[D+g]}function jl(f,g,_,C,P,D,M){var j;if(f==null)ws(null,null,_,C,P,D,M);else for(j=0;j<M;++j)P[D+j]=f[g+j]+_[C+j]&255}function lo(f,g,_,C,P,D,M){if(f==null)ws(null,null,_,C,P,D,M);else{var j,I=f[g+0],U=I,rt=I;for(j=0;j<M;++j)U=rt+(I=f[g+j])-U,rt=_[C+j]+(-256&U?0>U?0:255:U)&255,U=I,P[D+j]=rt}}function Fl(f,g,_,C){var P=g.width,D=g.o;if(t(f!=null&&g!=null),0>_||0>=C||_+C>D)return null;if(!f.Cc){if(f.ga==null){var M;if(f.ga=new Ia,(M=f.ga==null)||(M=g.width*g.o,t(f.Gb.length==0),f.Gb=s(M),f.Uc=0,f.Gb==null?M=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,M=1),M=!M),!M){M=f.ga;var j=f.Fa,I=f.P,U=f.qc,rt=f.mb,_t=f.nb,St=I+1,gt=U-1,jt=M.l;if(t(j!=null&&rt!=null&&g!=null),cr[0]=null,cr[1]=ws,cr[2]=jl,cr[3]=lo,M.ca=rt,M.tb=_t,M.c=g.width,M.i=g.height,t(0<M.c&&0<M.i),1>=U)g=0;else if(M.$a=j[I+0]>>0&3,M.Z=j[I+0]>>2&3,M.Lc=j[I+0]>>4&3,I=j[I+0]>>6&3,0>M.$a||1<M.$a||4<=M.Z||1<M.Lc||I)g=0;else if(jt.put=di,jt.ac=Hn,jt.bc=Oi,jt.ma=M,jt.width=g.width,jt.height=g.height,jt.Da=g.Da,jt.v=g.v,jt.va=g.va,jt.j=g.j,jt.o=g.o,M.$a)t:{t(M.$a==1),g=Qr();e:for(;;){if(g==null){g=0;break t}if(t(M!=null),M.mc=g,g.c=M.c,g.i=M.i,g.l=M.l,g.l.ma=M,g.l.width=M.c,g.l.height=M.i,g.a=0,X(g.m,j,St,gt),!$i(M.c,M.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&vs(g.s)?(M.ic=1,j=g.c*g.i,g.Ta=null,g.Ua=0,g.V=s(j),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(M.ic=0,g=Qs(g,M.c)),!g))break e;g=1;break t}M.mc=null,g=0}else g=gt>=M.c*M.i;M=!g}if(M)return null;f.ga.Lc!=1?f.Ga=0:C=D-_}t(f.ga!=null),t(_+C<=D);t:{if(g=(j=f.ga).c,D=j.l.o,j.$a==0){if(St=f.rc,gt=f.Vc,jt=f.Fa,I=f.P+1+_*g,U=f.mb,rt=f.nb+_*g,t(I<=f.P+f.qc),j.Z!=0)for(t(cr[j.Z]!=null),M=0;M<C;++M)cr[j.Z](St,gt,jt,I,U,rt,g),St=U,gt=rt,rt+=g,I+=g;else for(M=0;M<C;++M)n(U,rt,jt,I,g),St=U,gt=rt,rt+=g,I+=g;f.rc=St,f.Vc=gt}else{if(t(j.mc!=null),g=_+C,t((M=j.mc)!=null),t(g<=M.i),M.C>=g)g=1;else if(j.ic||xt(),j.ic){j=M.V,St=M.Ba,gt=M.c;var Nt=M.i,nt=(jt=1,I=M.$/gt,U=M.$%gt,rt=M.m,_t=M.s,M.$),at=gt*Nt,Pt=gt*g,Mt=_t.wc,Ft=nt<Pt?mn(_t,U,I):null;t(nt<=at),t(g<=Nt),t(vs(_t));e:for(;;){for(;!rt.h&&nt<Pt;){if(U&Mt||(Ft=mn(_t,U,I)),t(Ft!=null),et(rt),256>(Nt=Er(Ft.G[0],Ft.H[0],rt)))j[St+nt]=Nt,++nt,++U>=gt&&(U=0,++I<=g&&!(I%16)&&Di(M,I));else{if(!(280>Nt)){jt=0;break e}Nt=Jr(Nt-256,rt);var te,Yt=Er(Ft.G[4],Ft.H[4],rt);if(et(rt),!(nt>=(Yt=Or(gt,Yt=Jr(Yt,rt)))&&at-nt>=Nt)){jt=0;break e}for(te=0;te<Nt;++te)j[St+nt+te]=j[St+nt+te-Yt];for(nt+=Nt,U+=Nt;U>=gt;)U-=gt,++I<=g&&!(I%16)&&Di(M,I);nt<Pt&&U&Mt&&(Ft=mn(_t,U,I))}t(rt.h==W(rt))}Di(M,I>g?g:I);break e}!jt||rt.h&&nt<at?(jt=0,M.a=rt.h?5:3):M.$=nt,g=jt}else g=Kn(M,M.V,M.Ba,M.c,M.i,g,No);if(!g){C=0;break t}}_+C>=D&&(f.Cc=1),C=1}if(!C)return null;if(f.Cc&&((C=f.ga)!=null&&(C.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+_*P}function v(f,g,_,C,P,D){for(;0<P--;){var M,j=f,I=g+(_?1:0),U=f,rt=g+(_?0:3);for(M=0;M<C;++M){var _t=U[rt+4*M];_t!=255&&(_t*=32897,j[I+4*M+0]=j[I+4*M+0]*_t>>23,j[I+4*M+1]=j[I+4*M+1]*_t>>23,j[I+4*M+2]=j[I+4*M+2]*_t>>23)}g+=D}}function N(f,g,_,C,P){for(;0<C--;){var D;for(D=0;D<_;++D){var M=f[g+2*D+0],j=15&(U=f[g+2*D+1]),I=4369*j,U=(240&U|U>>4)*I>>16;f[g+2*D+0]=(240&M|M>>4)*I>>16&240|(15&M|M<<4)*I>>16>>4&15,f[g+2*D+1]=240&U|j}g+=P}}function V(f,g,_,C,P,D,M,j){var I,U,rt=255;for(U=0;U<P;++U){for(I=0;I<C;++I){var _t=f[g+I];D[M+4*I]=_t,rt&=_t}g+=_,M+=j}return rt!=255}function it(f,g,_,C,P){var D;for(D=0;D<P;++D)_[C+D]=f[g+D]>>8}function xt(){Fr=v,rn=N,Ke=V,Cn=it}function Ot(f,g,_){q[f]=function(C,P,D,M,j,I,U,rt,_t,St,gt,jt,Nt,nt,at,Pt,Mt){var Ft,te=Mt-1>>1,Yt=j[I+0]|U[rt+0]<<16,fe=_t[St+0]|gt[jt+0]<<16;t(C!=null);var Kt=3*Yt+fe+131074>>2;for(g(C[P+0],255&Kt,Kt>>16,Nt,nt),D!=null&&(Kt=3*fe+Yt+131074>>2,g(D[M+0],255&Kt,Kt>>16,at,Pt)),Ft=1;Ft<=te;++Ft){var Ie=j[I+Ft]|U[rt+Ft]<<16,Ge=_t[St+Ft]|gt[jt+Ft]<<16,Oe=Yt+Ie+fe+Ge+524296,Ee=Oe+2*(Ie+fe)>>3;Kt=Ee+Yt>>1,Yt=(Oe=Oe+2*(Yt+Ge)>>3)+Ie>>1,g(C[P+2*Ft-1],255&Kt,Kt>>16,Nt,nt+(2*Ft-1)*_),g(C[P+2*Ft-0],255&Yt,Yt>>16,Nt,nt+(2*Ft-0)*_),D!=null&&(Kt=Oe+fe>>1,Yt=Ee+Ge>>1,g(D[M+2*Ft-1],255&Kt,Kt>>16,at,Pt+(2*Ft-1)*_),g(D[M+2*Ft+0],255&Yt,Yt>>16,at,Pt+(2*Ft+0)*_)),Yt=Ie,fe=Ge}1&Mt||(Kt=3*Yt+fe+131074>>2,g(C[P+Mt-1],255&Kt,Kt>>16,Nt,nt+(Mt-1)*_),D!=null&&(Kt=3*fe+Yt+131074>>2,g(D[M+Mt-1],255&Kt,Kt>>16,at,Pt+(Mt-1)*_)))}}function Rt(){Rr[Nc]=id,Rr[po]=go,Rr[oh]=sd,Rr[Ul]=Za,Rr[ql]=ea,Rr[sn]=Xl,Rr[Oc]=Lu,Rr[Ka]=go,Rr[Qo]=Za,Rr[Wl]=ea,Rr[Vl]=Xl}function Zt(f){return f&~ur?0>f?0:255:f>>Ps}function ue(f,g){return Zt((19077*f>>8)+(26149*g>>8)-14234)}function Le(f,g,_){return Zt((19077*f>>8)-(6419*g>>8)-(13320*_>>8)+8708)}function ke(f,g){return Zt((19077*f>>8)+(33050*g>>8)-17685)}function Fe(f,g,_,C,P){C[P+0]=ue(f,_),C[P+1]=Le(f,g,_),C[P+2]=ke(f,g)}function wn(f,g,_,C,P){C[P+0]=ke(f,g),C[P+1]=Le(f,g,_),C[P+2]=ue(f,_)}function bn(f,g,_,C,P){var D=Le(f,g,_);g=D<<3&224|ke(f,g)>>3,C[P+0]=248&ue(f,_)|D>>5,C[P+1]=g}function Nn(f,g,_,C,P){var D=240&ke(f,g)|15;C[P+0]=240&ue(f,_)|Le(f,g,_)>>4,C[P+1]=D}function or(f,g,_,C,P){C[P+0]=255,Fe(f,g,_,C,P+1)}function Yn(f,g,_,C,P){wn(f,g,_,C,P),C[P+3]=255}function Bi(f,g,_,C,P){Fe(f,g,_,C,P),C[P+3]=255}function ei(f,g){return 0>f?0:f>g?g:f}function vi(f,g,_){q[f]=function(C,P,D,M,j,I,U,rt,_t){for(var St=rt+(-2&_t)*_;rt!=St;)g(C[P+0],D[M+0],j[I+0],U,rt),g(C[P+1],D[M+0],j[I+0],U,rt+_),P+=2,++M,++I,rt+=2*_;1&_t&&g(C[P+0],D[M+0],j[I+0],U,rt)}}function co(f,g,_){return _==0?f==0?g==0?6:5:g==0?4:0:_}function Il(f,g,_,C,P){switch(f>>>30){case 3:Ss(g,_,C,P,0);break;case 2:He(g,_,C,P);break;case 1:lr(g,_,C,P)}}function Ra(f,g){var _,C,P=g.M,D=g.Nb,M=f.oc,j=f.pc+40,I=f.oc,U=f.pc+584,rt=f.oc,_t=f.pc+600;for(_=0;16>_;++_)M[j+32*_-1]=129;for(_=0;8>_;++_)I[U+32*_-1]=129,rt[_t+32*_-1]=129;for(0<P?M[j-1-32]=I[U-1-32]=rt[_t-1-32]=129:(i(M,j-32-1,127,21),i(I,U-32-1,127,9),i(rt,_t-32-1,127,9)),C=0;C<f.za;++C){var St=g.ya[g.aa+C];if(0<C){for(_=-1;16>_;++_)n(M,j+32*_-4,M,j+32*_+12,4);for(_=-1;8>_;++_)n(I,U+32*_-4,I,U+32*_+4,4),n(rt,_t+32*_-4,rt,_t+32*_+4,4)}var gt=f.Gd,jt=f.Hd+C,Nt=St.ad,nt=St.Hc;if(0<P&&(n(M,j-32,gt[jt].y,0,16),n(I,U-32,gt[jt].f,0,8),n(rt,_t-32,gt[jt].ea,0,8)),St.Za){var at=M,Pt=j-32+16;for(0<P&&(C>=f.za-1?i(at,Pt,gt[jt].y[15],4):n(at,Pt,gt[jt+1].y,0,4)),_=0;4>_;_++)at[Pt+128+_]=at[Pt+256+_]=at[Pt+384+_]=at[Pt+0+_];for(_=0;16>_;++_,nt<<=2)at=M,Pt=j+Gl[_],wi[St.Ob[_]](at,Pt),Il(nt,Nt,16*+_,at,Pt)}else if(at=co(C,P,St.Ob[0]),_r[at](M,j),nt!=0)for(_=0;16>_;++_,nt<<=2)Il(nt,Nt,16*+_,M,j+Gl[_]);for(_=St.Gc,at=co(C,P,St.Dd),Ir[at](I,U),Ir[at](rt,_t),nt=Nt,at=I,Pt=U,255&(St=_>>0)&&(170&St?Cs(nt,256,at,Pt):ni(nt,256,at,Pt)),St=rt,nt=_t,255&(_>>=8)&&(170&_?Cs(Nt,320,St,nt):ni(Nt,320,St,nt)),P<f.Ub-1&&(n(gt[jt].y,0,M,j+480,16),n(gt[jt].f,0,I,U+224,8),n(gt[jt].ea,0,rt,_t+224,8)),_=8*D*f.B,gt=f.sa,jt=f.ta+16*C+16*D*f.R,Nt=f.qa,St=f.ra+8*C+_,nt=f.Ha,at=f.Ia+8*C+_,_=0;16>_;++_)n(gt,jt+_*f.R,M,j+32*_,16);for(_=0;8>_;++_)n(Nt,St+_*f.B,I,U+32*_,8),n(nt,at+_*f.B,rt,_t+32*_,8)}}function Vo(f,g,_,C,P,D,M,j,I){var U=[0],rt=[0],_t=0,St=I!=null?I.kd:0,gt=I??new ao;if(f==null||12>_)return 7;gt.data=f,gt.w=g,gt.ha=_,g=[g],_=[_],gt.gb=[gt.gb];t:{var jt=g,Nt=_,nt=gt.gb;if(t(f!=null),t(Nt!=null),t(nt!=null),nt[0]=0,12<=Nt[0]&&!e(f,jt[0],"RIFF")){if(e(f,jt[0]+8,"WEBP")){nt=3;break t}var at=Xt(f,jt[0]+4);if(12>at||4294967286<at){nt=3;break t}if(St&&at>Nt[0]-8){nt=7;break t}nt[0]=at,jt[0]+=12,Nt[0]-=12}nt=0}if(nt!=0)return nt;for(at=0<gt.gb[0],_=_[0];;){t:{var Pt=f;Nt=g,nt=_;var Mt=U,Ft=rt,te=jt=[0];if((Kt=_t=[_t])[0]=0,8>nt[0])nt=7;else{if(!e(Pt,Nt[0],"VP8X")){if(Xt(Pt,Nt[0]+4)!=10){nt=3;break t}if(18>nt[0]){nt=7;break t}var Yt=Xt(Pt,Nt[0]+8),fe=1+Qt(Pt,Nt[0]+12);if(2147483648<=fe*(Pt=1+Qt(Pt,Nt[0]+15))){nt=3;break t}te!=null&&(te[0]=Yt),Mt!=null&&(Mt[0]=fe),Ft!=null&&(Ft[0]=Pt),Nt[0]+=18,nt[0]-=18,Kt[0]=1}nt=0}}if(_t=_t[0],jt=jt[0],nt!=0)return nt;if(Nt=!!(2&jt),!at&&_t)return 3;if(D!=null&&(D[0]=!!(16&jt)),M!=null&&(M[0]=Nt),j!=null&&(j[0]=0),M=U[0],jt=rt[0],_t&&Nt&&I==null){nt=0;break}if(4>_){nt=7;break}if(at&&_t||!at&&!_t&&!e(f,g[0],"ALPH")){_=[_],gt.na=[gt.na],gt.P=[gt.P],gt.Sa=[gt.Sa];t:{Yt=f,nt=g,at=_;var Kt=gt.gb;Mt=gt.na,Ft=gt.P,te=gt.Sa,fe=22,t(Yt!=null),t(at!=null),Pt=nt[0];var Ie=at[0];for(t(Mt!=null),t(te!=null),Mt[0]=null,Ft[0]=null,te[0]=0;;){if(nt[0]=Pt,at[0]=Ie,8>Ie){nt=7;break t}var Ge=Xt(Yt,Pt+4);if(4294967286<Ge){nt=3;break t}var Oe=8+Ge+1&-2;if(fe+=Oe,0<Kt&&fe>Kt){nt=3;break t}if(!e(Yt,Pt,"VP8 ")||!e(Yt,Pt,"VP8L")){nt=0;break t}if(Ie[0]<Oe){nt=7;break t}e(Yt,Pt,"ALPH")||(Mt[0]=Yt,Ft[0]=Pt+8,te[0]=Ge),Pt+=Oe,Ie-=Oe}}if(_=_[0],gt.na=gt.na[0],gt.P=gt.P[0],gt.Sa=gt.Sa[0],nt!=0)break}_=[_],gt.Ja=[gt.Ja],gt.xa=[gt.xa];t:if(Kt=f,nt=g,at=_,Mt=gt.gb[0],Ft=gt.Ja,te=gt.xa,Yt=nt[0],Pt=!e(Kt,Yt,"VP8 "),fe=!e(Kt,Yt,"VP8L"),t(Kt!=null),t(at!=null),t(Ft!=null),t(te!=null),8>at[0])nt=7;else{if(Pt||fe){if(Kt=Xt(Kt,Yt+4),12<=Mt&&Kt>Mt-12){nt=3;break t}if(St&&Kt>at[0]-8){nt=7;break t}Ft[0]=Kt,nt[0]+=8,at[0]-=8,te[0]=fe}else te[0]=5<=at[0]&&Kt[Yt+0]==47&&!(Kt[Yt+4]>>5),Ft[0]=at[0];nt=0}if(_=_[0],gt.Ja=gt.Ja[0],gt.xa=gt.xa[0],g=g[0],nt!=0)break;if(4294967286<gt.Ja)return 3;if(j==null||Nt||(j[0]=gt.xa?2:1),M=[M],jt=[jt],gt.xa){if(5>_){nt=7;break}j=M,St=jt,Nt=D,f==null||5>_?f=0:5<=_&&f[g+0]==47&&!(f[g+4]>>5)?(at=[0],Kt=[0],Mt=[0],X(Ft=new L,f,g,_),he(Ft,at,Kt,Mt)?(j!=null&&(j[0]=at[0]),St!=null&&(St[0]=Kt[0]),Nt!=null&&(Nt[0]=Mt[0]),f=1):f=0):f=0}else{if(10>_){nt=7;break}j=jt,f==null||10>_||!bc(f,g+3,_-3)?f=0:(St=f[g+0]|f[g+1]<<8|f[g+2]<<16,Nt=16383&(f[g+7]<<8|f[g+6]),f=16383&(f[g+9]<<8|f[g+8]),1&St||3<(St>>1&7)||!(St>>4&1)||St>>5>=gt.Ja||!Nt||!f?f=0:(M&&(M[0]=Nt),j&&(j[0]=f),f=1))}if(!f||(M=M[0],jt=jt[0],_t&&(U[0]!=M||rt[0]!=jt)))return 3;I!=null&&(I[0]=gt,I.offset=g-I.w,t(4294967286>g-I.w),t(I.offset==I.ha-_));break}return nt==0||nt==7&&_t&&I==null?(D!=null&&(D[0]|=gt.na!=null&&0<gt.na.length),C!=null&&(C[0]=M),P!=null&&(P[0]=jt),0):nt}function Ba(f,g,_){var C=g.width,P=g.height,D=0,M=0,j=C,I=P;if(g.Da=f!=null&&0<f.Da,g.Da&&(j=f.cd,I=f.bd,D=f.v,M=f.j,11>_||(D&=-2,M&=-2),0>D||0>M||0>=j||0>=I||D+j>C||M+I>P))return 0;if(g.v=D,g.j=M,g.va=D+j,g.o=M+I,g.U=j,g.T=I,g.da=f!=null&&0<f.da,g.da){if(!xe(j,I,_=[f.ib],D=[f.hb]))return 0;g.ib=_[0],g.hb=D[0]}return g.ob=f!=null&&f.ob,g.Kb=f==null||!f.Sd,g.da&&(g.ob=g.ib<3*C/4&&g.hb<3*P/4,g.Kb=0),1}function za(f){if(f==null)return 2;if(11>f.S){var g=f.f.RGBA;g.fb+=(f.height-1)*g.A,g.A=-g.A}else g=f.f.kb,f=f.height,g.O+=(f-1)*g.fa,g.fa=-g.fa,g.N+=(f-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(f-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(f-1)*g.lb,g.lb=-g.lb);return 0}function Ho(f,g,_,C){if(C==null||0>=f||0>=g)return 2;if(_!=null){if(_.Da){var P=_.cd,D=_.bd,M=-2&_.v,j=-2&_.j;if(0>M||0>j||0>=P||0>=D||M+P>f||j+D>g)return 2;f=P,g=D}if(_.da){if(!xe(f,g,P=[_.ib],D=[_.hb]))return 2;f=P[0],g=D[0]}}C.width=f,C.height=g;t:{var I=C.width,U=C.height;if(f=C.S,0>=I||0>=U||!(f>=Nc&&13>f))f=2;else{if(0>=C.Rd&&C.sd==null){M=D=P=g=0;var rt=(j=I*Fc[f])*U;if(11>f||(D=(U+1)/2*(g=(I+1)/2),f==12&&(M=(P=I)*U)),(U=s(rt+2*D+M))==null){f=1;break t}C.sd=U,11>f?((I=C.f.RGBA).eb=U,I.fb=0,I.A=j,I.size=rt):((I=C.f.kb).y=U,I.O=0,I.fa=j,I.Fd=rt,I.f=U,I.N=0+rt,I.Ab=g,I.Cd=D,I.ea=U,I.W=0+rt+D,I.Db=g,I.Ed=D,f==12&&(I.F=U,I.J=0+rt+2*D),I.Tc=M,I.lb=P)}if(g=1,P=C.S,D=C.width,M=C.height,P>=Nc&&13>P)if(11>P)f=C.f.RGBA,g&=(j=Math.abs(f.A))*(M-1)+D<=f.size,g&=j>=D*Fc[P],g&=f.eb!=null;else{f=C.f.kb,j=(D+1)/2,rt=(M+1)/2,I=Math.abs(f.fa),U=Math.abs(f.Ab);var _t=Math.abs(f.Db),St=Math.abs(f.lb),gt=St*(M-1)+D;g&=I*(M-1)+D<=f.Fd,g&=U*(rt-1)+j<=f.Cd,g=(g&=_t*(rt-1)+j<=f.Ed)&I>=D&U>=j&_t>=j,g&=f.y!=null,g&=f.f!=null,g&=f.ea!=null,P==12&&(g&=St>=D,g&=gt<=f.Tc,g&=f.F!=null)}else g=0;f=g?0:2}}return f!=0||_!=null&&_.fd&&(f=za(C)),f}var Sn=64,Ua=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qa=24,Wa=32,Va=8,vr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ht("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(f){return f},q.Predictor2=function(f,g,_){return g[_+0]},q.Predictor3=function(f,g,_){return g[_+1]},q.Predictor4=function(f,g,_){return g[_-1]},q.Predictor5=function(f,g,_){return $t($t(f,g[_+1]),g[_+0])},q.Predictor6=function(f,g,_){return $t(f,g[_-1])},q.Predictor7=function(f,g,_){return $t(f,g[_+0])},q.Predictor8=function(f,g,_){return $t(g[_-1],g[_+0])},q.Predictor9=function(f,g,_){return $t(g[_+0],g[_+1])},q.Predictor10=function(f,g,_){return $t($t(f,g[_-1]),$t(g[_+0],g[_+1]))},q.Predictor11=function(f,g,_){var C=g[_+0];return 0>=Ae(C>>24&255,f>>24&255,(g=g[_-1])>>24&255)+Ae(C>>16&255,f>>16&255,g>>16&255)+Ae(C>>8&255,f>>8&255,g>>8&255)+Ae(255&C,255&f,255&g)?C:f},q.Predictor12=function(f,g,_){var C=g[_+0];return(ce((f>>24&255)+(C>>24&255)-((g=g[_-1])>>24&255))<<24|ce((f>>16&255)+(C>>16&255)-(g>>16&255))<<16|ce((f>>8&255)+(C>>8&255)-(g>>8&255))<<8|ce((255&f)+(255&C)-(255&g)))>>>0},q.Predictor13=function(f,g,_){var C=g[_-1];return(_e((f=$t(f,g[_+0]))>>24&255,C>>24&255)<<24|_e(f>>16&255,C>>16&255)<<16|_e(f>>8&255,C>>8&255)<<8|_e(f>>0&255,C>>0&255))>>>0};var Yo=q.PredictorAdd0;q.PredictorAdd1=Ne,Ht("Predictor2","PredictorAdd2"),Ht("Predictor3","PredictorAdd3"),Ht("Predictor4","PredictorAdd4"),Ht("Predictor5","PredictorAdd5"),Ht("Predictor6","PredictorAdd6"),Ht("Predictor7","PredictorAdd7"),Ht("Predictor8","PredictorAdd8"),Ht("Predictor9","PredictorAdd9"),Ht("Predictor10","PredictorAdd10"),Ht("Predictor11","PredictorAdd11"),Ht("Predictor12","PredictorAdd12"),Ht("Predictor13","PredictorAdd13");var xs=q.PredictorAdd2;Pe("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),Pe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var Pc,yr=q.ColorIndexInverseTransform,Ha=q.MapARGB,Rl=q.VP8LColorIndexInverseTransformAlpha,Ya=q.MapAlpha,es=q.VP8LPredictorsAdd=[];es.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var uo,wr,ar,ho,_s,bs,Xa,Ss,He,Cs,lr,ni,Xo,Bl,Go,$o,Ko,ri,ks,ns,Ls,As,fo,Jn,Fr,rn,Ke,Cn,On=s(511),rs=s(2041),Ga=s(225),Jo=s(767),zl=0,is=rs,$a=Ga,xr=Jo,yi=On,Nc=0,po=1,oh=2,Ul=3,ql=4,sn=5,Oc=6,Ka=7,Qo=8,Wl=9,Vl=10,Hl=[2,3,7],Ec=[3,3,11],Zo=[280,256,256,256,40],ah=[0,1,1,1,0],td=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ed=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],lh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Dc=8,Ja=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ta=null,Su=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Cu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ch=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],uh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],nd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],rd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ku=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],_r=[],wi=[],Ir=[],ss=1,Qa=2,cr=[],Rr=[];Ot("UpsampleRgbLinePair",Fe,3),Ot("UpsampleBgrLinePair",wn,3),Ot("UpsampleRgbaLinePair",Bi,4),Ot("UpsampleBgraLinePair",Yn,4),Ot("UpsampleArgbLinePair",or,4),Ot("UpsampleRgba4444LinePair",Nn,2),Ot("UpsampleRgb565LinePair",bn,2);var id=q.UpsampleRgbLinePair,sd=q.UpsampleBgrLinePair,go=q.UpsampleRgbaLinePair,Za=q.UpsampleBgraLinePair,ea=q.UpsampleArgbLinePair,Xl=q.UpsampleRgba4444LinePair,Lu=q.UpsampleRgb565LinePair,Ts=16,zi=1<<Ts-1,Je=-227,tn=482,Ps=6,ur=(256<<Ps)-1,br=0,na=s(256),tl=s(256),Br=s(256),Mc=s(256),hh=s(tn-Je),fh=s(tn-Je);vi("YuvToRgbRow",Fe,3),vi("YuvToBgrRow",wn,3),vi("YuvToRgbaRow",Bi,4),vi("YuvToBgraRow",Yn,4),vi("YuvToArgbRow",or,4),vi("YuvToRgba4444Row",Nn,2),vi("YuvToRgb565Row",bn,2);var Gl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$l=[0,2,8],Ns=[8,7,6,4,4,2,2,2,1,1,1,1],jc=1;this.WebPDecodeRGBA=function(f,g,_,C,P){var D=po,M=new ts,j=new ir;M.ba=j,j.S=D,j.width=[j.width],j.height=[j.height];var I=j.width,U=j.height,rt=new Nr;if(rt==null||f==null)var _t=2;else t(rt!=null),_t=Vo(f,g,_,rt.width,rt.height,rt.Pd,rt.Qd,rt.format,null);if(_t!=0?I=0:(I!=null&&(I[0]=rt.width[0]),U!=null&&(U[0]=rt.height[0]),I=1),I){j.width=j.width[0],j.height=j.height[0],C!=null&&(C[0]=j.width),P!=null&&(P[0]=j.height);t:{if(C=new ka,(P=new ao).data=f,P.w=g,P.ha=_,P.kd=1,g=[0],t(P!=null),((f=Vo(P.data,P.w,P.ha,null,null,null,g,null,P))==0||f==7)&&g[0]&&(f=4),(g=f)==0){if(t(M!=null),C.data=P.data,C.w=P.w+P.offset,C.ha=P.ha-P.offset,C.put=di,C.ac=Hn,C.bc=Oi,C.ma=M,P.xa){if((f=Qr())==null){M=1;break t}if(function(St,gt){var jt=[0],Nt=[0],nt=[0];e:for(;;){if(St==null)return 0;if(gt==null)return St.a=2,0;if(St.l=gt,St.a=0,X(St.m,gt.data,gt.w,gt.ha),!he(St.m,jt,Nt,nt)){St.a=3;break e}if(St.xb=Qa,gt.width=jt[0],gt.height=Nt[0],!$i(jt[0],Nt[0],1,St,null))break e;return 1}return t(St.a!=0),0}(f,C)){if(C=(g=Ho(C.width,C.height,M.Oa,M.ba))==0){e:{C=f;n:for(;;){if(C==null){C=0;break e}if(t(C.s.yc!=null),t(C.s.Ya!=null),t(0<C.s.Wb),t((_=C.l)!=null),t((P=_.ma)!=null),C.xb!=0){if(C.ca=P.ba,C.tb=P.tb,t(C.ca!=null),!Ba(P.Oa,_,Ul)){C.a=2;break n}if(!Qs(C,_.width)||_.da)break n;if((_.da||Be(C.ca.S))&&xt(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&xt()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!de(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!Kn(C,C.V,C.Ba,C.c,C.i,_.o,Js))break n;P.Dc=C.Ma,C=1;break e}t(C.a!=0),C=0}C=!C}C&&(g=f.a)}else g=f.a}else{if((f=new Zr)==null){M=1;break t}if(f.Fa=P.na,f.P=P.P,f.qc=P.Sa,Sc(f,C)){if((g=Ho(C.width,C.height,M.Oa,M.ba))==0){if(f.Aa=0,_=M.Oa,t((P=f)!=null),_!=null){if(0<(I=0>(I=_.Md)?0:100<I?255:255*I/100)){for(U=rt=0;4>U;++U)12>(_t=P.pb[U]).lc&&(_t.ia=I*Ns[0>_t.lc?0:_t.lc]>>3),rt|=_t.ia;rt&&(alert("todo:VP8InitRandom"),P.ia=1)}P.Ga=_.Id,100<P.Ga?P.Ga=100:0>P.Ga&&(P.Ga=0)}jo(f,C)||(g=f.a)}}else g=f.a}g==0&&M.Oa!=null&&M.Oa.fd&&(g=za(M.ba))}M=g}D=M!=0?null:11>D?j.f.RGBA.eb:j.f.kb.y}else D=null;return D};var Fc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(q,dt){for(var bt="",R=0;R<4;R++)bt+=String.fromCharCode(q[dt++]);return bt}function m(q,dt){return(q[dt+0]<<0|q[dt+1]<<8|q[dt+2]<<16)>>>0}function w(q,dt){return(q[dt+0]<<0|q[dt+1]<<8|q[dt+2]<<16|q[dt+3]<<24)>>>0}new h;var b=[0],y=[0],A=[],k=new h,O=a,T=function(q,dt){var bt={},R=0,B=!1,G=0,H=0;if(bt.frames=[],!function(z,W,J,et){for(var pt=0;pt<et;pt++)if(z[W+pt]!=J.charCodeAt(pt))return!0;return!1}(q,dt,"RIFF",4)){var Lt,wt;for(w(q,dt+=4),dt+=8;dt<q.length;){var Ct=p(q,dt),X=w(q,dt+=4);dt+=4;var ft=X+(1&X);switch(Ct){case"VP8 ":case"VP8L":bt.frames[R]===void 0&&(bt.frames[R]={}),(L=bt.frames[R]).src_off=B?H:dt-8,L.src_size=G+X+8,R++,B&&(B=!1,G=0,H=0);break;case"VP8X":(L=bt.header={}).feature_flags=q[dt];var ct=dt+4;L.canvas_width=1+m(q,ct),ct+=3,L.canvas_height=1+m(q,ct),ct+=3;break;case"ALPH":B=!0,G=ft+8,H=dt-8;break;case"ANIM":(L=bt.header).bgcolor=w(q,dt),ct=dt+4,L.loop_count=(Lt=q)[(wt=ct)+0]<<0|Lt[wt+1]<<8,ct+=2;break;case"ANMF":var K,L;(L=bt.frames[R]={}).offset_x=2*m(q,dt),dt+=3,L.offset_y=2*m(q,dt),dt+=3,L.width=1+m(q,dt),dt+=3,L.height=1+m(q,dt),dt+=3,L.duration=m(q,dt),dt+=3,K=q[dt++],L.dispose=1&K,L.blend=K>>1&1}Ct!="ANMF"&&(dt+=ft)}return bt}}(O,0);T.response=O,T.rgbaoutput=!0,T.dataurl=!1;var F=T.header?T.header:null,Y=T.frames?T.frames:null;if(F){F.loop_counter=F.loop_count,b=[F.canvas_height],y=[F.canvas_width];for(var st=0;st<Y.length&&Y[st].blend!=0;st++);}var Z=Y[0],mt=k.WebPDecodeRGBA(O,Z.src_off,Z.src_size,y,b);Z.rgba=mt,Z.imgwidth=y[0],Z.imgheight=b[0];for(var tt=0;tt<y[0]*b[0]*4;tt++)A[tt]=mt[tt];return this.width=y,this.height=b,this.data=A,this}(function(a){var t=function(){return typeof Np=="function"},e=function(b,y,A,k){var O=4,T=l;switch(k){case a.image_compression.FAST:O=1,T=s;break;case a.image_compression.MEDIUM:O=6,T=c;break;case a.image_compression.SLOW:O=9,T=h}b=n(b,y,A,T);var F=Np(b,{level:O});return a.__addimage__.arrayBufferToBinaryString(F)},n=function(b,y,A,k){for(var O,T,F,Y=b.length/y,st=new Uint8Array(b.length+Y),Z=m(),mt=0;mt<Y;mt+=1){if(F=mt*y,O=b.subarray(F,F+y),k)st.set(k(O,A,T),F+mt);else{for(var tt,q=Z.length,dt=[];tt<q;tt+=1)dt[tt]=Z[tt](O,A,T);var bt=w(dt.concat());st.set(dt[bt],F+mt)}T=O}return st},i=function(b){var y=Array.apply([],b);return y.unshift(0),y},s=function(b,y){var A,k=[],O=b.length;k[0]=1;for(var T=0;T<O;T+=1)A=b[T-y]||0,k[T+1]=b[T]-A+256&255;return k},l=function(b,y,A){var k,O=[],T=b.length;O[0]=2;for(var F=0;F<T;F+=1)k=A&&A[F]||0,O[F+1]=b[F]-k+256&255;return O},c=function(b,y,A){var k,O,T=[],F=b.length;T[0]=3;for(var Y=0;Y<F;Y+=1)k=b[Y-y]||0,O=A&&A[Y]||0,T[Y+1]=b[Y]+256-(k+O>>>1)&255;return T},h=function(b,y,A){var k,O,T,F,Y=[],st=b.length;Y[0]=4;for(var Z=0;Z<st;Z+=1)k=b[Z-y]||0,O=A&&A[Z]||0,T=A&&A[Z-y]||0,F=p(k,O,T),Y[Z+1]=b[Z]-F+256&255;return Y},p=function(b,y,A){if(b===y&&y===A)return b;var k=Math.abs(y-A),O=Math.abs(b-A),T=Math.abs(b+y-A-A);return k<=O&&k<=T?b:O<=T?y:A},m=function(){return[i,s,l,c,h]},w=function(b){var y=b.map(function(A){return A.reduce(function(k,O){return k+Math.abs(O)},0)});return y.indexOf(Math.min.apply(null,y))};a.processPNG=function(b,y,A,k){var O,T,F,Y,st,Z,mt,tt,q,dt,bt,R,B,G,H,Lt=this.decode.FLATE_DECODE,wt="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(F=new tw(b)).imgData,T=F.bits,O=F.colorSpace,st=F.colors,[4,6].indexOf(F.colorType)!==-1){if(F.bits===8){q=(tt=F.pixelBitlength==32?new Uint32Array(F.decodePixels().buffer):F.pixelBitlength==16?new Uint16Array(F.decodePixels().buffer):new Uint8Array(F.decodePixels().buffer)).length,bt=new Uint8Array(q*F.colors),dt=new Uint8Array(q);var Ct,X=F.pixelBitlength-F.bits;for(G=0,H=0;G<q;G++){for(B=tt[G],Ct=0;Ct<X;)bt[H++]=B>>>Ct&255,Ct+=F.bits;dt[G]=B>>>Ct&255}}if(F.bits===16){q=(tt=new Uint32Array(F.decodePixels().buffer)).length,bt=new Uint8Array(q*(32/F.pixelBitlength)*F.colors),dt=new Uint8Array(q*(32/F.pixelBitlength)),R=F.colors>1,G=0,H=0;for(var ft=0;G<q;)B=tt[G++],bt[H++]=B>>>0&255,R&&(bt[H++]=B>>>16&255,B=tt[G++],bt[H++]=B>>>0&255),dt[ft++]=B>>>16&255;T=8}k!==a.image_compression.NONE&&t()?(b=e(bt,F.width*F.colors,F.colors,k),mt=e(dt,F.width,1,k)):(b=bt,mt=dt,Lt=void 0)}if(F.colorType===3&&(O=this.color_spaces.INDEXED,Z=F.palette,F.transparency.indexed)){var ct=F.transparency.indexed,K=0;for(G=0,q=ct.length;G<q;++G)K+=ct[G];if((K/=255)===q-1&&ct.indexOf(0)!==-1)Y=[ct.indexOf(0)];else if(K!==q){for(tt=F.decodePixels(),dt=new Uint8Array(tt.length),G=0,q=tt.length;G<q;G++)dt[G]=ct[tt[G]];mt=e(dt,F.width,1)}}var L=function(z){var W;switch(z){case a.image_compression.FAST:W=11;break;case a.image_compression.MEDIUM:W=13;break;case a.image_compression.SLOW:W=14;break;default:W=12}return W}(k);return Lt===this.decode.FLATE_DECODE&&(wt="/Predictor "+L+" "),wt+="/Colors "+st+" /BitsPerComponent "+T+" /Columns "+F.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(mt&&this.__addimage__.isArrayBuffer(mt)||this.__addimage__.isArrayBufferView(mt))&&(mt=this.__addimage__.arrayBufferToBinaryString(mt)),{alias:A,data:b,index:y,filter:Lt,decodeParameters:wt,transparency:Y,palette:Z,sMask:mt,predictor:L,width:F.width,height:F.height,bitsPerComponent:T,colorSpace:O}}}})(ye.API),function(a){a.processGIF89A=function(t,e,n,i){var s=new ew(t),l=s.width,c=s.height,h=[];s.decodeAndBlitFrameRGBA(0,h);var p={data:h,width:l,height:c},m=new hp(100).encode(p,100);return a.processJPEG.call(this,m,e,n,i)},a.processGIF87A=a.processGIF89A}(ye.API),zs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var a=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(a);for(var t=0;t<a;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zs.prototype.parseBGR=function(){this.pos=this.offset;try{var a="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[a]()}catch(e){fn.log("bit decode error:"+e)}},zs.prototype.bit1=function(){var a,t=Math.ceil(this.width/8),e=t%4;for(a=this.height-1;a>=0;a--){for(var n=this.bottom_up?a:this.height-1-a,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var h=this.palette[s>>7-c&1];this.data[l+4*c]=h.blue,this.data[l+4*c+1]=h.green,this.data[l+4*c+2]=h.red,this.data[l+4*c+3]=255}e!==0&&(this.pos+=4-e)}},zs.prototype.bit4=function(){for(var a=Math.ceil(this.width/2),t=a%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<a;i++){var s=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*i*4,c=s>>4,h=15&s,p=this.palette[c];if(this.data[l]=p.blue,this.data[l+1]=p.green,this.data[l+2]=p.red,this.data[l+3]=255,2*i+1>=this.width)break;p=this.palette[h],this.data[l+4]=p.blue,this.data[l+4+1]=p.green,this.data[l+4+2]=p.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},zs.prototype.bit8=function(){for(var a=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;if(i<this.palette.length){var l=this.palette[i];this.data[s]=l.red,this.data[s+1]=l.green,this.data[s+2]=l.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}a!==0&&(this.pos+=4-a)}},zs.prototype.bit15=function(){for(var a=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&t)/t*255|0,c=(s>>5&t)/t*255|0,h=(s>>10&t)/t*255|0,p=s>>15?255:0,m=n*this.width*4+4*i;this.data[m]=h,this.data[m+1]=c,this.data[m+2]=l,this.data[m+3]=p}this.pos+=a}},zs.prototype.bit16=function(){for(var a=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&t)/t*255|0,h=(l>>5&e)/e*255|0,p=(l>>11)/t*255|0,m=i*this.width*4+4*s;this.data[m]=p,this.data[m+1]=h,this.data[m+2]=c,this.data[m+3]=255}this.pos+=a}},zs.prototype.bit24=function(){for(var a=this.height-1;a>=0;a--){for(var t=this.bottom_up?a:this.height-1-a,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*e;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},zs.prototype.bit32=function(){for(var a=this.height-1;a>=0;a--)for(var t=this.bottom_up?a:this.height-1-a,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=s,this.data[c+1]=i,this.data[c+2]=n,this.data[c+3]=l}},zs.prototype.getData=function(){return this.data},function(a){a.processBMP=function(t,e,n,i){var s=new zs(t,!1),l=s.width,c=s.height,h={data:s.getData(),width:l,height:c},p=new hp(100).encode(h,100);return a.processJPEG.call(this,p,e,n,i)}}(ye.API),w1.prototype.getData=function(){return this.data},function(a){a.processWEBP=function(t,e,n,i){var s=new w1(t),l=s.width,c=s.height,h={data:s.getData(),width:l,height:c},p=new hp(100).encode(h,100);return a.processJPEG.call(this,p,e,n,i)}}(ye.API),ye.API.processRGBA=function(a,t,e){for(var n=a.data,i=n.length,s=new Uint8Array(i/4*3),l=new Uint8Array(i/4),c=0,h=0,p=0;p<i;p+=4){var m=n[p],w=n[p+1],b=n[p+2],y=n[p+3];s[c++]=m,s[c++]=w,s[c++]=b,l[h++]=y}var A=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:A,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:a.width,height:a.height}},ye.API.setLanguage=function(a){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[a]!==void 0&&(this.internal.languageSettings.languageCode=a,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jc=ye.API,mf=Jc.getCharWidthsArray=function(a,t){var e,n,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:i.metadata.Unicode.widths,h=c.fof?c.fof:1,p=t.kerning?t.kerning:i.metadata.Unicode.kerning,m=p.fof?p.fof:1,w=t.doKerning!==!1,b=0,y=a.length,A=0,k=c[0]||h,O=[];for(e=0;e<y;e++)n=a.charCodeAt(e),typeof i.metadata.widthOfString=="function"?O.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+l*(1e3/s)||0)/1e3):(b=w&&ln(p[n])==="object"&&!isNaN(parseInt(p[n][A],10))?p[n][A]/m:0,O.push((c[n]||k)/h+b)),A=n;return O},g1=Jc.getStringUnitWidth=function(a,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Jc.processArabic&&(a=Jc.processArabic(a)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(a,e,i)/e:mf.apply(this,arguments).reduce(function(s,l){return s+l},0)},m1=function(a,t,e,n){for(var i=[],s=0,l=a.length,c=0;s!==l&&c+t[s]<e;)c+=t[s],s++;i.push(a.slice(0,s));var h=s;for(c=0;s!==l;)c+t[s]>n&&(i.push(a.slice(h,s)),c=0,h=s),c+=t[s],s++;return h!==s&&i.push(a.slice(h,s)),i},v1=function(a,t,e){e||(e={});var n,i,s,l,c,h,p,m=[],w=[m],b=e.textIndent||0,y=0,A=0,k=a.split(" "),O=mf.apply(this,[" ",e])[0];if(h=e.lineIndent===-1?k[0].length+2:e.lineIndent||0){var T=Array(h).join(" "),F=[];k.map(function(st){(st=st.split(/\s*\n/)).length>1?F=F.concat(st.map(function(Z,mt){return(mt&&Z.length?`
`:"")+Z})):F.push(st[0])}),k=F,h=g1.apply(this,[T,e])}for(s=0,l=k.length;s<l;s++){var Y=0;if(n=k[s],h&&n[0]==`
`&&(n=n.substr(1),Y=1),b+y+(A=(i=mf.apply(this,[n,e])).reduce(function(st,Z){return st+Z},0))>t||Y){if(A>t){for(c=m1.apply(this,[n,i,t-(b+y),t]),m.push(c.shift()),m=[c.pop()];c.length;)w.push([c.shift()]);A=i.slice(n.length-(m[0]?m[0].length:0)).reduce(function(st,Z){return st+Z},0)}else m=[n];w.push(m),b=A+h,y=O}else m.push(n),b+=y+A,y=O}return p=h?function(st,Z){return(Z?T:"")+st.join(" ")}:function(st){return st.join(" ")},w.map(p)},Jc.splitTextToSize=function(a,t,e){var n,i=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var w=this.internal.getFont(m.fontName,m.fontStyle);return w.metadata.Unicode?{widths:w.metadata.Unicode.widths||{0:1},kerning:w.metadata.Unicode.kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);n=Array.isArray(a)?a:String(a).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/i;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=e.lineIndent;var c,h,p=[];for(c=0,h=n.length;c<h;c++)p=p.concat(v1.apply(this,[n[c],l,s]));return p},function(a){a.__fontmetrics__=a.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},n={},i=0;i<t.length;i++)e[t[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=t[i];var s=function(w){return"0x"+parseInt(w,10).toString(16)},l=a.__fontmetrics__.compress=function(w){var b,y,A,k,O=["{"];for(var T in w){if(b=w[T],isNaN(parseInt(T,10))?y="'"+T+"'":(T=parseInt(T,10),y=(y=s(T).slice(2)).slice(0,-1)+n[y.slice(-1)]),typeof b=="number")b<0?(A=s(b).slice(3),k="-"):(A=s(b).slice(2),k=""),A=k+A.slice(0,-1)+n[A.slice(-1)];else{if(ln(b)!=="object")throw new Error("Don't know what to do with value type "+ln(b)+".");A=l(b)}O.push(y+A)}return O.push("}"),O.join("")},c=a.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,y,A,k,O={},T=1,F=O,Y=[],st="",Z="",mt=w.length-1,tt=1;tt<mt;tt+=1)(k=w[tt])=="'"?b?(A=b.join(""),b=void 0):b=[]:b?b.push(k):k=="{"?(Y.push([F,A]),F={},A=void 0):k=="}"?((y=Y.pop())[0][y[1]]=F,A=void 0,F=y[0]):k=="-"?T=-1:A===void 0?e.hasOwnProperty(k)?(st+=e[k],A=parseInt(st,16)*T,T=1,st=""):st+=k:e.hasOwnProperty(k)?(Z+=e[k],F[A]=parseInt(Z,16)*T,T=1,A=void 0,Z=""):Z+=k;return O},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},m={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};a.events.push(["addFont",function(w){var b=w.font,y=m.Unicode[b.postScriptName];y&&(b.metadata.Unicode={},b.metadata.Unicode.widths=y.widths,b.metadata.Unicode.kerning=y.kerning);var A=p.Unicode[b.postScriptName];A&&(b.metadata.Unicode.encoding=A,b.encoding=A.codePages[0])}])}(ye.API),function(a){var t=function(e){for(var n=e.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=e.charCodeAt(s);return i};a.API.events.push(["addFont",function(e){var n=void 0,i=e.font,s=e.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(Ku(c)),l.metadata=a.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,n)}}])}(ye),function(a){function t(){return(we.canvg?Promise.resolve(we.canvg):kp(()=>import("./index.es-DLW-xHsU.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}ye.API.addSvgAsImage=function(e,n,i,s,l,c,h,p){if(isNaN(n)||isNaN(i))throw fn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(l))throw fn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var m=document.createElement("canvas");m.width=s,m.height=l;var w=m.getContext("2d");w.fillStyle="#fff",w.fillRect(0,0,m.width,m.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return t().then(function(A){return A.fromString(w,e,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(b)}).then(function(){y.addImage(m.toDataURL("image/jpeg",1),n,i,s,l,h,p)})}}(),ye.API.putTotalPages=function(a){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(a,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(a,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,e);return this},ye.API.viewerPreferences=function(a,t){var e;a=a||{},t=t||!1;var n,i,s,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),h=[],p=0,m=0,w=0;function b(A,k){var O,T=!1;for(O=0;O<A.length;O+=1)A[O]===k&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,a==="reset"||t===!0){var y=c.length;for(w=0;w<y;w+=1)e[c[w]].value=e[c[w]].defaultValue,e[c[w]].explicitSet=!1}if(ln(a)==="object"){for(i in a)if(s=a[i],b(c,i)&&s!==void 0){if(e[i].type==="boolean"&&typeof s=="boolean")e[i].value=s;else if(e[i].type==="name"&&b(e[i].valueSet,s))e[i].value=s;else if(e[i].type==="integer"&&Number.isInteger(s))e[i].value=s;else if(e[i].type==="array"){for(p=0;p<s.length;p+=1)if(n=!0,s[p].length===1&&typeof s[p][0]=="number")h.push(String(s[p]-1));else if(s[p].length>1){for(m=0;m<s[p].length;m+=1)typeof s[p][m]!="number"&&(n=!1);n===!0&&h.push([s[p][0]-1,s[p][1]-1].join(" "))}e[i].value="["+h.join(" ")+"]"}else e[i].value=e[i].defaultValue;e[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,k=[];for(A in e)e[A].explicitSet===!0&&(e[A].type==="name"?k.push("/"+A+" /"+e[A].value):k.push("/"+A+" "+e[A].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(a){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),p=s.length+l.length+c.length+i.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(i+s+l+c+h),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};a.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(ye.API),function(a){var t=a.API,e=t.pdfEscape16=function(s,l){for(var c,h=l.metadata.Unicode.widths,p=["","0","00","000","0000"],m=[""],w=0,b=s.length;w<b;++w){if(c=l.metadata.characterToGlyph(s.charCodeAt(w)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=s.charCodeAt(w),h.indexOf(c)==-1&&(h.push(c),h.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(p[4-c.length],c)}return m.join("")},n=function(s){var l,c,h,p,m,w,b;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],w=0,b=(c=Object.keys(s).sort(function(y,A){return y-A})).length;w<b;w++)l=c[w],h.length>=100&&(m+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),s[l]!==void 0&&s[l]!==null&&typeof s[l].toString=="function"&&(p=("0000"+s[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+p+">"));return h.length&&(m+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),m+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(l){var c=l.font,h=l.out,p=l.newObject,m=l.putStream;if(c.metadata instanceof a.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,b=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",A=0;A<b.length;A++)y+=String.fromCharCode(b[A]);var k=p();m({data:y,addLength1:!0,objectId:k}),h("endobj");var O=p();m({data:n(c.metadata.toUnicode),addLength1:!0,objectId:O}),h("endobj");var T=p();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+tu(c.fontName)),h("/FontFile2 "+k+" 0 R"),h("/FontBBox "+a.API.PDFObject.convert(c.metadata.bbox)),h("/Flags "+c.metadata.flags),h("/StemV "+c.metadata.stemV),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h(">>"),h("endobj");var F=p();h("<<"),h("/Type /Font"),h("/BaseFont /"+tu(c.fontName)),h("/FontDescriptor "+T+" 0 R"),h("/W "+a.API.PDFObject.convert(w)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+c.encoding+")"),h(">>"),h(">>"),h("endobj"),c.objectNumber=p(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+O+" 0 R"),h("/BaseFont /"+tu(c.fontName)),h("/Encoding /"+c.encoding),h("/DescendantFonts ["+F+" 0 R]"),h(">>"),h("endobj"),c.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(l){var c=l.font,h=l.out,p=l.newObject,m=l.putStream;if(c.metadata instanceof a.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,b="",y=0;y<w.length;y++)b+=String.fromCharCode(w[y]);var A=p();m({data:b,addLength1:!0,objectId:A}),h("endobj");var k=p();m({data:n(c.metadata.toUnicode),addLength1:!0,objectId:k}),h("endobj");var O=p();h("<<"),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h("/StemV "+c.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+A+" 0 R"),h("/Flags 96"),h("/FontBBox "+a.API.PDFObject.convert(c.metadata.bbox)),h("/FontName /"+tu(c.fontName)),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h(">>"),h("endobj"),c.objectNumber=p();for(var T=0;T<c.metadata.hmtx.widths.length;T++)c.metadata.hmtx.widths[T]=parseInt(c.metadata.hmtx.widths[T]*(1e3/c.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+tu(c.fontName)+"/FontDescriptor "+O+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+a.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),h("endobj"),c.isAlreadyPutted=!0}})(s)}]);var i=function(s){var l,c=s.text||"",h=s.x,p=s.y,m=s.options||{},w=s.mutex||{},b=w.pdfEscape,y=w.activeFontKey,A=w.fonts,k=y,O="",T=0,F="",Y=A[k].encoding;if(A[k].encoding!=="Identity-H")return{text:c,x:h,y:p,options:m,mutex:w};for(F=c,k=y,Array.isArray(c)&&(F=c[0]),T=0;T<F.length;T+=1)A[k].metadata.hasOwnProperty("cmap")&&(l=A[k].metadata.cmap.unicode.codeMap[F[T].charCodeAt(0)]),l||F[T].charCodeAt(0)<256&&A[k].metadata.hasOwnProperty("Unicode")?O+=F[T]:O+="";var st="";return parseInt(k.slice(1))<14||Y==="WinAnsiEncoding"?st=b(O,k).split("").map(function(Z){return Z.charCodeAt(0).toString(16)}).join(""):Y==="Identity-H"&&(st=e(O,A[k])),w.isHex=!0,{text:st,x:h,y:p,options:m,mutex:w}};t.events.push(["postProcessText",function(s){var l=s.text||"",c=[],h={text:l,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(l)){var p=0;for(p=0;p<l.length;p+=1)Array.isArray(l[p])&&l[p].length===3?c.push([i(Object.assign({},h,{text:l[p][0]})).text,l[p][1],l[p][2]]):c.push(i(Object.assign({},h,{text:l[p]})).text);s.text=c}else s.text=i(Object.assign({},h,{text:l})).text}])}(ye),function(a){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};a.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},a.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},a.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(ye.API),function(a){a.__bidiEngine__=a.prototype.__bidiEngine__=function(n){var i,s,l,c,h,p,m,w=t,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},O=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),F=!1,Y=0;this.__bidiEngine__={};var st=function(R){var B=R.charCodeAt(),G=B>>8,H=k[G];return H!==void 0?w[256*H+(255&B)]:G===252||G===253?"AL":T.test(G)?"L":G===8?"R":"N"},Z=function(R){for(var B,G=0;G<R.length;G++){if((B=st(R.charAt(G)))==="L")return!1;if(B==="R")return!0}return!1},mt=function(R,B,G,H){var Lt,wt,Ct,X,ft=B[H];switch(ft){case"L":case"R":F=!1;break;case"N":case"AN":break;case"EN":F&&(ft="AN");break;case"AL":F=!0,ft="R";break;case"WS":ft="N";break;case"CS":H<1||H+1>=B.length||(Lt=G[H-1])!=="EN"&&Lt!=="AN"||(wt=B[H+1])!=="EN"&&wt!=="AN"?ft="N":F&&(wt="AN"),ft=wt===Lt?wt:"N";break;case"ES":ft=(Lt=H>0?G[H-1]:"B")==="EN"&&H+1<B.length&&B[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&G[H-1]==="EN"){ft="EN";break}if(F){ft="N";break}for(Ct=H+1,X=B.length;Ct<X&&B[Ct]==="ET";)Ct++;ft=Ct<X&&B[Ct]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(X=B.length,Ct=H+1;Ct<X&&B[Ct]==="NSM";)Ct++;if(Ct<X){var ct=R[H],K=ct>=1425&&ct<=2303||ct===64286;if(Lt=B[Ct],K&&(Lt==="R"||Lt==="AL")){ft="R";break}}}ft=H<1||(Lt=B[H-1])==="B"?"N":G[H-1];break;case"B":F=!1,i=!0,ft=Y;break;case"S":s=!0,ft="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":F=!1;break;case"BN":ft="N"}return ft},tt=function(R,B,G){var H=R.split("");return G&&q(H,G,{hiLevel:Y}),H.reverse(),B&&B.reverse(),H.join("")},q=function(R,B,G){var H,Lt,wt,Ct,X,ft=-1,ct=R.length,K=0,L=[],z=Y?y:b,W=[];for(F=!1,i=!1,s=!1,Lt=0;Lt<ct;Lt++)W[Lt]=st(R[Lt]);for(wt=0;wt<ct;wt++){if(X=K,L[wt]=mt(R,W,L,wt),H=240&(K=z[X][A[L[wt]]]),K&=15,B[wt]=Ct=z[K][5],H>0)if(H===16){for(Lt=ft;Lt<wt;Lt++)B[Lt]=1;ft=-1}else ft=-1;if(z[K][6])ft===-1&&(ft=wt);else if(ft>-1){for(Lt=ft;Lt<wt;Lt++)B[Lt]=Ct;ft=-1}W[wt]==="B"&&(B[wt]=0),G.hiLevel|=Ct}s&&function(J,et,pt){for(var vt=0;vt<pt;vt++)if(J[vt]==="S"){et[vt]=Y;for(var yt=vt-1;yt>=0&&J[yt]==="WS";yt--)et[yt]=Y}}(W,B,ct)},dt=function(R,B,G,H,Lt){if(!(Lt.hiLevel<R)){if(R===1&&Y===1&&!i)return B.reverse(),void(G&&G.reverse());for(var wt,Ct,X,ft,ct=B.length,K=0;K<ct;){if(H[K]>=R){for(X=K+1;X<ct&&H[X]>=R;)X++;for(ft=K,Ct=X-1;ft<Ct;ft++,Ct--)wt=B[ft],B[ft]=B[Ct],B[Ct]=wt,G&&(wt=G[ft],G[ft]=G[Ct],G[Ct]=wt);K=X}K++}}},bt=function(R,B,G){var H=R.split(""),Lt={hiLevel:Y};return G||(G=[]),q(H,G,Lt),function(wt,Ct,X){if(X.hiLevel!==0&&m)for(var ft,ct=0;ct<wt.length;ct++)Ct[ct]===1&&(ft=O.indexOf(wt[ct]))>=0&&(wt[ct]=O[ft+1])}(H,G,Lt),dt(2,H,B,G,Lt),dt(1,H,B,G,Lt),H.join("")};return this.__bidiEngine__.doBidiReorder=function(R,B,G){if(function(Lt,wt){if(wt)for(var Ct=0;Ct<Lt.length;Ct++)wt[Ct]=Ct;c===void 0&&(c=Z(Lt)),p===void 0&&(p=Z(Lt))}(R,B),l||!h||p)if(l&&h&&c^p)Y=c?1:0,R=tt(R,B,G);else if(!l&&h&&p)Y=c?1:0,R=bt(R,B,G),R=tt(R,B);else if(!l||c||h||p){if(l&&!h&&c^p)R=tt(R,B),c?(Y=0,R=bt(R,B,G)):(Y=1,R=bt(R,B,G),R=tt(R,B));else if(l&&c&&!h&&p)Y=1,R=bt(R,B,G),R=tt(R,B);else if(!l&&!h&&c^p){var H=m;c?(Y=1,R=bt(R,B,G),Y=0,m=!1,R=bt(R,B,G),m=H):(Y=0,R=bt(R,B,G),R=tt(R,B),Y=1,m=!1,R=bt(R,B,G),m=H,R=tt(R,B))}}else Y=0,R=bt(R,B,G);else Y=c?1:0,R=bt(R,B,G);return R},this.__bidiEngine__.setOptions=function(R){R&&(l=R.isInputVisual,h=R.isOutputVisual,c=R.isInputRtl,p=R.isOutputRtl,m=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new a.__bidiEngine__({isInputVisual:!0});a.API.events.push(["postProcessText",function(n){var i=n.text,s=(n.x,n.y,n.options||{}),l=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(l=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?l.push([e.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):l.push([e.doBidiReorder(i[c])]);n.text=l}else n.text=e.doBidiReorder(i);e.setOptions({isInputVisual:!0})}])}(ye),ye.API.TTFFont=function(){function a(t){var e;if(this.rawData=t,e=this.contents=new Sl(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new mw(this),this.registerTTF()}return a.open=function(t){return new a(t)},a.prototype.parse=function(){return this.directory=new nw(this.contents),this.head=new iw(this),this.name=new cw(this),this.cmap=new W2(this),this.toUnicode={},this.hhea=new sw(this),this.maxp=new uw(this),this.hmtx=new hw(this),this.post=new aw(this),this.os2=new ow(this),this.loca=new gw(this),this.glyf=new fw(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},a.prototype.registerTTF=function(){var t,e,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,h,p;for(p=[],l=0,c=(h=this.bbox).length;l<c;l++)t=h[l],p.push(Math.round(t*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(e=i>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},a.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},a.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},a.prototype.widthOfString=function(t,e,n){var i,s,l,c;for(l=0,s=0,c=(t=""+t).length;0<=c?s<c:s>c;s=0<=c?++s:--s)i=t.charCodeAt(s),l+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/e)||0;return l*(e/1e3)},a.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},a}();var $s,Sl=function(){function a(t){this.data=t??[],this.pos=0,this.length=this.data.length}return a.prototype.readByte=function(){return this.data[this.pos++]},a.prototype.writeByte=function(t){return this.data[this.pos++]=t},a.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},a.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},a.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},a.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},a.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},a.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},a.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},a.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},a.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},a.prototype.writeString=function(t){var e,n,i;for(i=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)i.push(this.writeByte(t.charCodeAt(e)));return i},a.prototype.readShort=function(){return this.readInt16()},a.prototype.writeShort=function(t){return this.writeInt16(t)},a.prototype.readLongLong=function(){var t,e,n,i,s,l,c,h;return t=this.readByte(),e=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^l)+256*(255^c)+(255^h)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*i+16777216*s+65536*l+256*c+h},a.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},a.prototype.readInt=function(){return this.readInt32()},a.prototype.writeInt=function(t){return this.writeInt32(t)},a.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},a.prototype.write=function(t){var e,n,i,s;for(s=[],n=0,i=t.length;n<i;n++)e=t[n],s.push(this.writeByte(e));return s},a}(),nw=function(){var a;function t(e){var n,i,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,i,s,l,c,h,p,m,w,b,y,A,k;for(k in y=Object.keys(e).length,h=Math.log(2),w=16*Math.floor(Math.log(y)/h),l=Math.floor(w/h),m=16*y-w,(i=new Sl).writeInt(this.scalarType),i.writeShort(y),i.writeShort(w),i.writeShort(l),i.writeShort(m),s=16*y,p=i.pos+s,c=null,A=[],e)for(b=e[k],i.writeString(k),i.writeInt(a(b)),i.writeInt(p),i.writeInt(b.length),A=A.concat(b),k==="head"&&(c=p),p+=b.length;p%4;)A.push(0),p++;return i.write(A),n=2981146554-a(i.data),i.pos=c+8,i.writeUInt32(n),i.data},a=function(e){var n,i,s,l;for(e=V2.call(e);e.length%4;)e.push(0);for(s=new Sl(e),i=0,n=0,l=e.length;n<l;n=n+=4)i+=s.readUInt32();return 4294967295&i},t}(),rw={}.hasOwnProperty,Po=function(a,t){for(var e in t)rw.call(t,e)&&(a[e]=t[e]);function n(){this.constructor=a}return n.prototype=t.prototype,a.prototype=new n,a.__super__=t.prototype,a};$s=function(){function a(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return a.prototype.parse=function(){},a.prototype.encode=function(){},a.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},a}();var iw=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return Po(t,$s),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Sl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),x1=function(){function a(t,e){var n,i,s,l,c,h,p,m,w,b,y,A,k,O,T,F,Y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),w=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(y=t.readUInt16(),b=y/2,t.pos+=6,s=function(){var st,Z;for(Z=[],h=st=0;0<=b?st<b:st>b;h=0<=b?++st:--st)Z.push(t.readUInt16());return Z}(),t.pos+=2,k=function(){var st,Z;for(Z=[],h=st=0;0<=b?st<b:st>b;h=0<=b?++st:--st)Z.push(t.readUInt16());return Z}(),p=function(){var st,Z;for(Z=[],h=st=0;0<=b?st<b:st>b;h=0<=b?++st:--st)Z.push(t.readUInt16());return Z}(),m=function(){var st,Z;for(Z=[],h=st=0;0<=b?st<b:st>b;h=0<=b?++st:--st)Z.push(t.readUInt16());return Z}(),i=(this.length-t.pos+this.offset)/2,c=function(){var st,Z;for(Z=[],h=st=0;0<=i?st<i:st>i;h=0<=i?++st:--st)Z.push(t.readUInt16());return Z}(),h=T=0,Y=s.length;T<Y;h=++T)for(O=s[h],n=F=A=k[h];A<=O?F<=O:F>=O;n=A<=O?++F:--F)m[h]===0?l=n+p[h]:(l=c[m[h]/2+(n-A)-(b-h)]||0)!==0&&(l+=p[h]),this.codeMap[n]=65535&l}t.pos=w}return a.encode=function(t,e){var n,i,s,l,c,h,p,m,w,b,y,A,k,O,T,F,Y,st,Z,mt,tt,q,dt,bt,R,B,G,H,Lt,wt,Ct,X,ft,ct,K,L,z,W,J,et,pt,vt,yt,It,Ut,Qt;switch(H=new Sl,l=Object.keys(t).sort(function(Xt,de){return Xt-de}),e){case"macroman":for(k=0,O=function(){var Xt=[];for(A=0;A<256;++A)Xt.push(0);return Xt}(),F={0:0},s={},Lt=0,ft=l.length;Lt<ft;Lt++)F[yt=t[i=l[Lt]]]==null&&(F[yt]=++k),s[i]={old:t[i],new:F[t[i]]},O[i]=F[t[i]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(O),{charMap:s,subtable:H.data,maxGlyphID:k+1};case"unicode":for(B=[],w=[],Y=0,F={},n={},T=p=null,wt=0,ct=l.length;wt<ct;wt++)F[Z=t[i=l[wt]]]==null&&(F[Z]=++Y),n[i]={old:Z,new:F[Z]},c=F[Z]-i,T!=null&&c===p||(T&&w.push(T),B.push(i),p=c),T=i;for(T&&w.push(T),w.push(65535),B.push(65535),bt=2*(dt=B.length),q=2*Math.pow(Math.log(dt)/Math.LN2,2),b=Math.log(q/2)/Math.LN2,tt=2*dt-q,h=[],mt=[],y=[],A=Ct=0,K=B.length;Ct<K;A=++Ct){if(R=B[A],m=w[A],R===65535){h.push(0),mt.push(0);break}if(R-(G=n[R].new)>=32768)for(h.push(0),mt.push(2*(y.length+dt-A)),i=X=R;R<=m?X<=m:X>=m;i=R<=m?++X:--X)y.push(n[i].new);else h.push(G-R),mt.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*dt+2*y.length),H.writeUInt16(0),H.writeUInt16(bt),H.writeUInt16(q),H.writeUInt16(b),H.writeUInt16(tt),pt=0,L=w.length;pt<L;pt++)i=w[pt],H.writeUInt16(i);for(H.writeUInt16(0),vt=0,z=B.length;vt<z;vt++)i=B[vt],H.writeUInt16(i);for(It=0,W=h.length;It<W;It++)c=h[It],H.writeUInt16(c);for(Ut=0,J=mt.length;Ut<J;Ut++)st=mt[Ut],H.writeUInt16(st);for(Qt=0,et=y.length;Qt<et;Qt++)k=y[Qt],H.writeUInt16(k);return{charMap:n,subtable:H.data,maxGlyphID:Y+1}}},a}(),W2=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return Po(t,$s),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,i,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new x1(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var i,s;return n==null&&(n="macroman"),i=x1.encode(e,n),(s=new Sl).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),sw=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return Po(t,$s),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),ow=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return Po(t,$s),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(e.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(e.readInt());return i}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(e.readInt());return i}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),aw=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return Po(t,$s),t.prototype.tag="post",t.prototype.parse=function(e){var n,i,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var l;for(i=e.readUInt16(),this.glyphNameIndex=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 196608:break;case 262144:return this.map=(function(){var c,h,p;for(p=[],l=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;l=0<=h?++c:--c)p.push(e.readUInt32());return p}).call(this)}},t}(),lw=function(a,t){this.raw=a,this.length=a.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},cw=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return Po(t,$s),t.prototype.tag="name",t.prototype.parse=function(e){var n,i,s,l,c,h,p,m,w,b,y;for(e.pos=this.offset,e.readShort(),n=e.readShort(),h=e.readShort(),i=[],l=0;0<=n?l<n:l>n;l=0<=n?++l:--l)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(p={},l=w=0,b=i.length;w<b;l=++w)s=i[l],e.pos=s.offset,m=e.readString(s.length),c=new lw(m,s),p[y=s.nameID]==null&&(p[y]=[]),p[s.nameID].push(c);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},t}(),uw=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return Po(t,$s),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),hw=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return Po(t,$s),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,i,s,l,c,h,p;for(e.pos=this.offset,this.metrics=[],n=0,h=this.file.hhea.numberOfMetrics;0<=h?n<h:n>h;n=0<=h?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var m,w;for(w=[],n=m=0;0<=s?m<s:m>s;n=0<=s?++m:--m)w.push(e.readInt16());return w}(),this.widths=(function(){var m,w,b,y;for(y=[],m=0,w=(b=this.metrics).length;m<w;m++)l=b[m],y.push(l.advance);return y}).call(this),i=this.widths[this.widths.length-1],p=[],n=c=0;0<=s?c<s:c>s;n=0<=s?++c:--c)p.push(this.widths.push(i));return p},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),V2=[].slice,fw=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return Po(t,$s),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,i,s,l,c,h,p,m,w,b;return e in this.cache?this.cache[e]:(l=this.file.loca,n=this.file.contents,i=l.indexOf(e),(s=l.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+i,c=(h=new Sl(n.read(s))).readShort(),m=h.readShort(),b=h.readShort(),p=h.readShort(),w=h.readShort(),this.cache[e]=c===-1?new pw(h,m,b,p,w):new dw(h,c,m,b,p,w),this.cache[e]))},t.prototype.encode=function(e,n,i){var s,l,c,h,p;for(c=[],l=[],h=0,p=n.length;h<p;h++)s=e[n[h]],l.push(c.length),s&&(c=c.concat(s.encode(i)));return l.push(c.length),{table:c,offsets:l}},t}(),dw=function(){function a(t,e,n,i,s,l){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=l,this.compound=!1}return a.prototype.encode=function(){return this.raw.data},a}(),pw=function(){function a(t,e,n,i,s){var l,c;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return a.prototype.encode=function(){var t,e,n;for(e=new Sl(V2.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},a}(),gw=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return Po(t,$s),t.prototype.tag="loca",t.prototype.parse=function(e){var n,i;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,l;for(l=[],i=0,s=this.length;i<s;i+=2)l.push(2*e.readUInt16());return l}).call(this):(function(){var s,l;for(l=[],i=0,s=this.length;i<s;i+=4)l.push(e.readUInt32());return l}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var i=new Uint32Array(this.offsets.length),s=0,l=0,c=0;c<i.length;++c)if(i[c]=s,l<n.length&&n[l]==c){++l,i[c]=s;var h=this.offsets[c],p=this.offsets[c+1]-h;p>0&&(s+=p)}for(var m=new Array(4*i.length),w=0;w<i.length;++w)m[4*w+3]=255&i[w],m[4*w+2]=(65280&i[w])>>8,m[4*w+1]=(16711680&i[w])>>16,m[4*w]=(4278190080&i[w])>>24;return m},t}(),mw=function(){function a(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return a.prototype.generateCmap=function(){var t,e,n,i,s;for(e in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[e],t[e]=i[n];return t},a.prototype.glyphsFor=function(t){var e,n,i,s,l,c,h;for(i={},l=0,c=t.length;l<c;l++)i[s=t[l]]=this.font.glyf.glyphFor(s);for(s in e=[],i)(n=i[s])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(s in h=this.glyphsFor(e))n=h[s],i[s]=n;return i},a.prototype.encode=function(t,e){var n,i,s,l,c,h,p,m,w,b,y,A,k,O,T;for(i in n=W2.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),y={0:0},T=n.charMap)y[(h=T[i]).old]=h.new;for(A in b=n.maxGlyphID,l)A in y||(y[A]=b++);return m=function(F){var Y,st;for(Y in st={},F)st[F[Y]]=Y;return st}(y),w=Object.keys(m).sort(function(F,Y){return F-Y}),k=function(){var F,Y,st;for(st=[],F=0,Y=w.length;F<Y;F++)c=w[F],st.push(m[c]);return st}(),s=this.font.glyf.encode(l,k,y),p=this.font.loca.encode(s.offsets,k),O={cmap:this.font.cmap.raw(),glyf:s.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(O["OS/2"]=this.font.os2.raw()),this.font.directory.encode(O)},a}();ye.API.PDFObject=function(){var a;function t(){}return a=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,i,s,l;if(Array.isArray(e))return"["+function(){var c,h,p;for(p=[],c=0,h=e.length;c<h;c++)n=e[c],p.push(t.convert(n));return p}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+a(e.getUTCFullYear(),4)+a(e.getUTCMonth(),2)+a(e.getUTCDate(),2)+a(e.getUTCHours(),2)+a(e.getUTCMinutes(),2)+a(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(i in s=["<<"],e)l=e[i],s.push("/"+i+" "+t.convert(l));return s.push(">>"),s.join(`
`)}return""+e},t}();const vw="/%3CREPO%3E/assets/background-BcxxOXaj.png",yw=()=>{const a=yl.useRef(null),t=yl.useRef(null),[e,n]=yl.useState(!0),[i,s]=yl.useState(""),l={VT323:"url(https://fonts.gstatic.com/s/vt323/v17/pxiKyp0ihIEF2isfFJXUdVNF.woff2)",Pacifico:"url(https://fonts.gstatic.com/s/pacifico/v22/FwZY7-Qmy14u9lezJ-6H6MmBp0u-.woff2)",Lato100:"url(https://fonts.gstatic.com/s/lato/v24/S6u8w4BMUTPHh30AXC-qNiXg7Q.woff2)",Lato900:"url(https://fonts.gstatic.com/s/lato/v24/S6u9w4BMUTPHh50XSwiPGQ3q5d0.woff2)"},[c,h]=yl.useState("Roboto"),[p,m]=yl.useState("32"),w=new FontFace("Pacifico",l.Pacifico,{style:"normal",weight:"normal"}),b=new FontFace("VT323",l.VT323,{style:"normal",weight:"normal"});Promise.all([b.load(),w.load()]).then(()=>{document.fonts.add(w),document.fonts.add(b)}),yl.useEffect(()=>{const Z=new If("greetingCardFrontCanvas",{width:421,height:584,backgroundColor:"#ffffff",preserveObjectStacking:!0}),mt=new If("greetingCardInsideCanvas",{width:421,height:584,backgroundColor:"#ffffff",preserveObjectStacking:!0});a.current=Z,t.current=mt;const tt=new Image;tt.src=vw,tt.crossOrigin="anonymous",tt.onload=()=>{const bt=new ki(tt),R=Z.width/bt.width,B=Z.height/bt.height,G=Math.min(R,B);bt.set({left:Z.width/2,top:Z.height/2,originX:"center",originY:"center",scaleX:G,scaleY:G,selectable:!1,evented:!1}),Z.add(bt),Z.sendObjectToBack(bt),Z.renderAll(),console.log("Image added to the canvas successfully.")};const q=new ma("Your Greeting Here",{top:Z.height/2-150,width:Z.width,fontSize:parseInt(p,10),fill:"#111111",textAlign:"center",editable:!0,lockMovementX:!0,lockMovementY:!1,selectable:!0});mt.add(q);const dt=new ma("Your Greeting Here",{top:Z.height/2-150,padding:10,width:Z.width,fontFamily:"Pacifico",fontSize:28,backgroundColor:"#090b4d",fill:"#ffffff",textAlign:"center",editable:!0,lockMovementX:!0,lockMovementY:!0,selectable:!0});return Z.add(dt),Z.bringObjectToFront(dt),()=>{Z.dispose(),mt.dispose()}},[]);const y=()=>{n(!1)},A=()=>{n(!0)},k=Z=>{var q;const mt=(q=Z.target.files)==null?void 0:q[0];if(!mt){console.error("No file selected.");return}const tt=new FileReader;tt.onload=dt=>{var G;const bt=(G=dt.target)==null?void 0:G.result;if(!bt){console.error("Failed to read the file.");return}const R=a.current;if(!R){console.error("Canvas is not initialized.");return}const B=new Image;B.src=bt,B.crossOrigin="anonymous",B.onload=()=>{const H=new ki(B),Lt=R.width/H.width,wt=R.height/H.height,Ct=Math.min(Lt,wt);H.set({left:R.width/2,top:R.height/2,originX:"center",originY:"center",scaleX:Ct,scaleY:Ct,selectable:!0}),R.add(H),R.sendObjectToBack(H),R.renderAll(),console.log("Image added to the canvas successfully.")},B.onerror=()=>{console.error("Failed to load the image.")}},tt.onerror=()=>{console.error("Error reading the file.")},tt.readAsDataURL(mt)},O=()=>{const Z=a.current;if(!Z){console.error("Canvas is not initialized.");return}s(JSON.stringify(Z.toJSON()))},T=()=>{const Z=a.current;if(!Z){console.error("Canvas is not initialized.");return}const mt=document.getElementById("loadProgressTextbox");if(!mt){console.error("Textarea not found.");return}const tt=mt.value;if(!tt){console.error("No JSON data found.");return}Z.loadFromJSON(tt,()=>{Z.requestRenderAll(),console.log("Progress loaded successfully.")})},F=()=>{const Z=a.current,mt=t.current;if(!Z){console.error("Canvas is not initialized.");return}if(!mt){console.error("Canvas is not initialized.");return}let tt=Z.viewportTransform;Z.viewportTransform=[1,0,0,1,0,0],Z.viewportTransform=tt,tt=mt.viewportTransform,mt.viewportTransform=[1,0,0,1,0,0],mt.viewportTransform=tt;const q=Z.toDataURL({format:"png",multiplier:4}),dt=mt.toDataURL({format:"png",multiplier:4}),bt=new ye({orientation:"landscape",unit:"px",format:[Z.width*2,Z.height]});bt.addImage(q,"PNG",Z.width,0,Z.width,Z.height),bt.addPage(),bt.addImage(dt,"PNG",0,0,mt.width,mt.height),bt.save("greeting_card.pdf")},Y=Z=>{const mt=Z.target.value;h(mt);const tt=a.current;if(tt){const q=tt.getActiveObject();q&&q.type==="textbox"&&(q.set("fontFamily",mt),tt.requestRenderAll())}},st=Z=>{const mt=Z.target.value;m(mt);const tt=t.current;if(tt){const q=tt.getActiveObject();q&&q.type==="textbox"&&(q.set("fontSize",mt),tt.requestRenderAll())}};return an.jsxs("div",{children:[an.jsxs("div",{className:"controls",children:[an.jsx("h2",{children:"Product Customisation Service"}),an.jsx("button",{onClick:y,disabled:!e,children:"Switch to Inside"}),an.jsx("button",{onClick:A,disabled:e,children:"Switch to Front"}),an.jsxs("select",{value:c,onChange:Y,children:[an.jsx("option",{value:"Pacifico",children:"Pacifico"}),an.jsx("option",{value:"VT323",children:"VT323"})]}),an.jsxs("select",{value:p,onChange:st,children:[an.jsx("option",{value:"22",children:"22"}),an.jsx("option",{value:"24",children:"24"}),an.jsx("option",{value:"32",children:"32"}),"s",an.jsx("option",{value:"48",children:"48"})]}),an.jsx("input",{type:"file",accept:"image/*",onChange:k}),an.jsx("textarea",{id:"loadProgressTextbox",placeholder:"JSON here..."}),an.jsx("button",{onClick:T,children:"Load Progress"})]}),an.jsx("div",{className:`flip-container ${e?"":"flipped"}`,children:an.jsxs("div",{className:"flip-card",children:[an.jsx("div",{className:"flip-front",children:an.jsx("canvas",{id:"greetingCardFrontCanvas"})}),an.jsx("div",{className:"flip-back",children:an.jsx("canvas",{id:"greetingCardInsideCanvas"})})]})}),an.jsxs("div",{className:"bottom-controls",children:[an.jsx("button",{onClick:F,children:"Generate PDF"}),an.jsx("button",{onClick:O,children:"Save Progress"}),an.jsx("p",{children:i})]})]})};function ww(){return an.jsx(yw,{})}Nm.createRoot(document.getElementById("root")).render(an.jsx(yl.StrictMode,{children:an.jsx(ww,{})}));export{ln as _};
